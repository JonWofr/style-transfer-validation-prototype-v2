function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct2(e,t,n){return(_construct2=_isNativeReflectConstruct2()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf2(i,n.prototype),i}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf2(e)););return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf2(e,t)}function _setPrototypeOf2(e,t){return(_setPrototypeOf2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct2();return function(){var n,r=_getPrototypeOf2(e);if(t){var i=_getPrototypeOf2(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct2(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf2(e){return(_getPrototypeOf2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function a(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var s=n("qOnz"),u=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),c=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new s.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var r=i(this.instancesDeferred.entries()),a=r.next();!a.done;a=r.next()){var s=o(a.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return e=this,n=function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(a(a([],o(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),o(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}s((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,a=e.options,s=void 0===a?{}:a,u=this.normalizeInstanceIdentifier(void 0===r?"[DEFAULT]":r);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var l=i(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=o(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){t={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return c},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new c(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},0:function(e,t,n){e.exports=n("zUnb")},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(u((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,t,n),a=this.destination;a.add(i);var s=Object(r.a)(this,e,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o){var a;switch(_classCallCheck(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!e){a.destination=i.a;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf2(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,s){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(c)},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){var i=e[a.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[u.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(a.a)}(e,t,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.a?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(u.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new r(e)},r);function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IjjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf2(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(e,t,n){"use strict";var r=n("zIRd");n.d(t,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(r.a)(a)?(t.pop(),Object(o.a)(t,a)):Object(i.a)(t)}},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(e){if(e&&"function"==typeof e[a.a])return l=e,function(e){var t=l[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,h=Object(c.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=t[t.length-1];return Object(i.a)(c)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof c&&(s=t.pop()),null===u&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(s)(Object(a.a)(t,u))}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(i.a),l=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.a;return _get(_getPrototypeOf2(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new s.a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),n}(r.a);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(l)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,a);if(!s.closed)return t instanceof o.a?t.subscribe(s):Object(i.a)(t)(s)}},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},fXoL:function(e,t,n){"use strict";n.d(t,"a",(function(){return Co})),n.d(t,"b",(function(){return hu})),n.d(t,"c",(function(){return au})),n.d(t,"d",(function(){return iu})),n.d(t,"e",(function(){return ou})),n.d(t,"f",(function(){return rc})),n.d(t,"g",(function(){return Wu})),n.d(t,"h",(function(){return oo})),n.d(t,"i",(function(){return Cu})),n.d(t,"j",(function(){return qa})),n.d(t,"k",(function(){return pu})),n.d(t,"l",(function(){return Va})),n.d(t,"m",(function(){return wn})),n.d(t,"n",(function(){return Fs})),n.d(t,"o",(function(){return Z})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return J})),n.d(t,"r",(function(){return wo})),n.d(t,"s",(function(){return as})),n.d(t,"t",(function(){return ss})),n.d(t,"u",(function(){return du})),n.d(t,"v",(function(){return fe})),n.d(t,"w",(function(){return Yu})),n.d(t,"x",(function(){return he})),n.d(t,"y",(function(){return Vu})),n.d(t,"z",(function(){return Eu})),n.d(t,"A",(function(){return b})),n.d(t,"B",(function(){return lu})),n.d(t,"C",(function(){return cu})),n.d(t,"D",(function(){return Ga})),n.d(t,"E",(function(){return Ba})),n.d(t,"F",(function(){return Ha})),n.d(t,"G",(function(){return Wa})),n.d(t,"H",(function(){return ur})),n.d(t,"I",(function(){return w})),n.d(t,"J",(function(){return Ju})),n.d(t,"K",(function(){return hs})),n.d(t,"L",(function(){return Ru})),n.d(t,"M",(function(){return Ya})),n.d(t,"N",(function(){return Qa})),n.d(t,"O",(function(){return ds})),n.d(t,"P",(function(){return we})),n.d(t,"Q",(function(){return Io})),n.d(t,"R",(function(){return zu})),n.d(t,"S",(function(){return Un})),n.d(t,"T",(function(){return Fn})),n.d(t,"U",(function(){return tc})),n.d(t,"V",(function(){return ju})),n.d(t,"W",(function(){return fu})),n.d(t,"X",(function(){return so})),n.d(t,"Y",(function(){return Ps})),n.d(t,"Z",(function(){return ar})),n.d(t,"ab",(function(){return hr})),n.d(t,"bb",(function(){return Bn})),n.d(t,"cb",(function(){return Pn})),n.d(t,"db",(function(){return An})),n.d(t,"eb",(function(){return Dn})),n.d(t,"fb",(function(){return Nn})),n.d(t,"gb",(function(){return Mn})),n.d(t,"hb",(function(){return Rn})),n.d(t,"ib",(function(){return Ts})),n.d(t,"jb",(function(){return ec})),n.d(t,"kb",(function(){return Es})),n.d(t,"lb",(function(){return Os})),n.d(t,"mb",(function(){return In})),n.d(t,"nb",(function(){return H})),n.d(t,"ob",(function(){return Ao})),n.d(t,"pb",(function(){return Qo})),n.d(t,"qb",(function(){return Wo})),n.d(t,"rb",(function(){return Po})),n.d(t,"sb",(function(){return Ss})),n.d(t,"tb",(function(){return Ge})),n.d(t,"ub",(function(){return R})),n.d(t,"vb",(function(){return xn})),n.d(t,"wb",(function(){return Da})),n.d(t,"xb",(function(){return Nr})),n.d(t,"yb",(function(){return Ro})),n.d(t,"zb",(function(){return ga})),n.d(t,"Ab",(function(){return pa})),n.d(t,"Bb",(function(){return $s})),n.d(t,"Cb",(function(){return Te})),n.d(t,"Db",(function(){return Me})),n.d(t,"Eb",(function(){return S})),n.d(t,"Fb",(function(){return T})),n.d(t,"Gb",(function(){return Pe})),n.d(t,"Hb",(function(){return Ne})),n.d(t,"Ib",(function(){return Lo})),n.d(t,"Jb",(function(){return Ho})),n.d(t,"Kb",(function(){return Ko})),n.d(t,"Lb",(function(){return Go})),n.d(t,"Mb",(function(){return Bo})),n.d(t,"Nb",(function(){return zo})),n.d(t,"Ob",(function(){return Ma})),n.d(t,"Pb",(function(){return se})),n.d(t,"Qb",(function(){return Fo})),n.d(t,"Rb",(function(){return ru})),n.d(t,"Sb",(function(){return Uo})),n.d(t,"Tb",(function(){return Yo})),n.d(t,"Ub",(function(){return Js})),n.d(t,"Vb",(function(){return Rt})),n.d(t,"Wb",(function(){return Nt})),n.d(t,"Xb",(function(){return Jo})),n.d(t,"Yb",(function(){return js})),n.d(t,"Zb",(function(){return Ls})),n.d(t,"ac",(function(){return ta})),n.d(t,"bc",(function(){return ea})),n.d(t,"cc",(function(){return qo})),n.d(t,"dc",(function(){return Rs})),n.d(t,"ec",(function(){return Ys})),n.d(t,"fc",(function(){return jo})),n.d(t,"gc",(function(){return fr})),n.d(t,"hc",(function(){return Ie})),n.d(t,"ic",(function(){return va})),n.d(t,"jc",(function(){return Do})),n.d(t,"kc",(function(){return nu})),n.d(t,"lc",(function(){return Pa})),n.d(t,"mc",(function(){return Ia})),n.d(t,"nc",(function(){return Aa})),n.d(t,"oc",(function(){return Xs}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("7o/Q");function u(){return function(e){return e.lift(new l(e))}}var c,l=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new h(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new i.a).add(this.source.subscribe(new p(this.getSubject(),this))),e.closed&&(this._connection=null,e=i.a.EMPTY)),e}},{key:"refCount",value:function(){return u()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=f.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf2(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf2(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b);function v(){return new r.a}function y(e){return{toString:e}.toString()}function g(e,t,n){return y((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct2(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var m=g("Inject",(function(e){return{token:e}})),b=g("Optional"),_=g("Self"),w=g("SkipSelf"),C=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function k(e){for(var t in e)if(e[t]===k)return t;throw Error("Could not find renamed property on target object.")}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function T(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function E(e){return O(e,e[P])||O(e,e[M])}function O(e,t){return t&&t.token===e?t:null}function x(e){return e&&(e.hasOwnProperty(I)||e.hasOwnProperty(N))?e[I]:null}var P=k({"\u0275prov":k}),I=k({"\u0275inj":k}),A=k({"\u0275provFallback":k}),M=k({ngInjectableDef:k}),N=k({ngInjectorDef:k});function R(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(R).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function D(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var j=k({__forward_ref__:k});function L(e){return e.__forward_ref__=L,e.toString=function(){return R(this())},e}function F(e){return"function"==typeof(t=e)&&t.hasOwnProperty(j)&&t.__forward_ref__===L?e():e;var t}var U,q="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,H=q||B||V||z,G=k({"\u0275cmp":k}),K=k({"\u0275dir":k}),W=k({"\u0275pipe":k}),Q=k({"\u0275mod":k}),Y=k({"\u0275loc":k}),X=k({"\u0275fac":k}),$=k({__NG_ELEMENT_ID__:k}),J=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),Z=new J("INJECTOR",-1),ee={},te=/\n/gm,ne=k({provide:String,useValue:k}),re=void 0;function ie(e){var t=re;return re=e,t}function oe(e){var t=U;return U=e,t}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default;if(void 0===re)throw new Error("inject() must be called from an injection context");return null===re?ue(e,void 0,t):re.get(e,t&C.Optional?null:void 0,t)}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default;return(U||ae)(F(e),t)}function ue(e,t,n){var r=E(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&C.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(R(e),"]"))}function ce(e){for(var t=[],n=0;n<e.length;n++){var r=F(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=C.Default,a=0;a<r.length;a++){var s=r[a];s instanceof b||"Optional"===s.ngMetadataName||s===b?o|=C.Optional:s instanceof w||"SkipSelf"===s.ngMetadataName||s===w?o|=C.SkipSelf:s instanceof _||"Self"===s.ngMetadataName||s===_?o|=C.Self:i=s instanceof m||s===m?s.token:s}t.push(se(i,o))}else t.push(se(r))}return t}var le=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee;if(t===ee){var n=new Error("NullInjectorError: No provider for ".concat(R(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),he=function e(){_classCallCheck(this,e)},fe=function e(){_classCallCheck(this,e)};function de(e,t){e.forEach((function(e){return Array.isArray(e)?de(e,t):t(e)}))}function pe(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ve(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ye(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function ge(e,t,n){var r=be(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function me(e,t){var n=be(e,t);if(n>=0)return e[1|n]}function be(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var _e=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),we=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ce={},ke=[],Se=0;function Te(e){return y((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===_e.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ke,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||we.Emulated,id:"c",styles:e.styles||ke,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=Se++,i.inputs=Ae(e.inputs,r),i.outputs=Ae(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Ee)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Oe)}:null,i}))}function Ee(e){return Re(e)||function(e){return e[K]||null}(e)}function Oe(e){return function(e){return e[W]||null}(e)}var xe={};function Pe(e){var t={type:e.type,bootstrap:e.bootstrap||ke,declarations:e.declarations||ke,imports:e.imports||ke,exports:e.exports||ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&y((function(){xe[e.id]=e.type})),t}function Ie(e,t){return y((function(){var n=je(e,!0);n.declarations=t.declarations||ke,n.imports=t.imports||ke,n.exports=t.exports||ke}))}function Ae(e,t){if(null==e)return Ce;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var Me=Te;function Ne(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Re(e){return e[G]||null}function De(e,t){return e.hasOwnProperty(X)?e[X]:null}function je(e,t){var n=e[Q]||null;if(!n&&!0===t)throw new Error("Type ".concat(R(e)," does not have '\u0275mod' property."));return n}function Le(e){return Array.isArray(e)&&"object"==typeof e[1]}function Fe(e){return Array.isArray(e)&&!0===e[1]}function Ue(e){return 0!=(8&e.flags)}function qe(e){return 2==(2&e.flags)}function Ve(e){return 1==(1&e.flags)}function ze(e){return null!==e.template}function Be(e){return 0!=(512&e[2])}var He=void 0;function Ge(e){He=e}function Ke(e){return!!e.listen}var We={createRenderer:function(e,t){return void 0!==He?He:"undefined"!=typeof document?document:void 0}};function Qe(e){for(;Array.isArray(e);)e=e[0];return e}function Ye(e,t){return Qe(t[e+20])}function Xe(e,t){return Qe(t[e.index])}function $e(e,t){return e.data[t+20]}function Je(e,t){return e[t+20]}function Ze(e,t){var n=t[e];return Le(n)?n:n[0]}function et(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function tt(e){return 4==(4&e[2])}function nt(e){return 128==(128&e[2])}function rt(e,t){return null===e||null==t?null:e[t]}function it(e){e[18]=0}function ot(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var at={lFrame:Et(null),bindingsEnabled:!0,checkNoChangesMode:!1};function st(){return at.bindingsEnabled}function ut(){return at.lFrame.lView}function ct(){return at.lFrame.tView}function lt(){return at.lFrame.previousOrParentTNode}function ht(e,t){at.lFrame.previousOrParentTNode=e,at.lFrame.isParent=t}function ft(){return at.lFrame.isParent}function dt(){at.lFrame.isParent=!1}function pt(){return at.checkNoChangesMode}function vt(e){at.checkNoChangesMode=e}function yt(){var e=at.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function gt(){return at.lFrame.bindingIndex++}function mt(e){var t=at.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function bt(e,t){var n=at.lFrame;n.bindingIndex=n.bindingRootIndex=e,_t(t)}function _t(e){at.lFrame.currentDirectiveIndex=e}function wt(){return at.lFrame.currentQueryIndex}function Ct(e){at.lFrame.currentQueryIndex=e}function kt(e,t){var n=Tt();at.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function St(e,t){var n=Tt(),r=e[1];at.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function Tt(){var e=at.lFrame,t=null===e?null:e.child;return null===t?Et(e):t}function Et(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Ot(){var e=at.lFrame;return at.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var xt=Ot;function Pt(){var e=Ot();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function It(){return at.lFrame.selectedIndex}function At(e){at.lFrame.selectedIndex=e}function Mt(){var e=at.lFrame;return $e(e.tView,e.selectedIndex)}function Nt(){at.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Rt(){at.lFrame.currentNamespace=null}function Dt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function jt(e,t,n){Ut(e,t,3,n)}function Lt(e,t,n,r){(3&e[2])===n&&Ut(e,t,n,r)}function Ft(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ut(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(qt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function qt(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var Vt=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function zt(e,t,n){for(var r=Ke(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Ht(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Bt(e){return 3===e||4===e||6===e}function Ht(e){return 64===e.charCodeAt(0)}function Gt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Kt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Kt(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Wt(e){return-1!==e}function Qt(e){return 32767&e}function Yt(e){return e>>16}function Xt(e,t){for(var n=Yt(e),r=t;n>0;)r=r[15],n--;return r}function $t(e){return"string"==typeof e?e:null==e?"":""+e}function Jt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$t(e)}var Zt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H);function en(e){return e instanceof Function?e():e}var tn=!0;function nn(e){var t=tn;return tn=e,t}var rn=0;function on(e,t){var n=sn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,an(r.data,e),an(t,null),an(r.blueprint,null));var i=un(e,t),o=e.injectorIndex;if(Wt(i))for(var a=Qt(i),s=Xt(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function an(e,t){e.push(0,0,0,0,0,0,0,0,t)}function sn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function un(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function cn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[$]:n.charCodeAt(0)||0;null==r&&(r=n[$]=rn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function ln(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[$];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){kt(t,e);try{var a=o();if(null!=a||r&C.Optional)return a;throw new Error("No provider for ".concat(Jt(n),"!"))}finally{xt()}}else if("number"==typeof o){if(-1===o)return new gn(e,t);var s=null,u=sn(e,t),c=-1,l=r&C.Host?t[16][6]:null;for((-1===u||r&C.SkipSelf)&&(c=-1===u?un(e,t):t[u+8],yn(r,!1)?(s=t[1],u=Qt(c),t=Xt(c,t)):u=-1);-1!==u;){c=t[u+8];var h=t[1];if(vn(o,u,h.data)){var f=fn(u,t,n,s,r,l);if(f!==hn)return f}yn(r,t[1].data[u+8]===l)&&vn(o,u,t)?(s=h,u=Qt(c),t=Xt(c,t)):u=-1}}}if(r&C.Optional&&void 0===i&&(i=null),0==(r&(C.Self|C.Host))){var d=t[9],p=oe(void 0);try{return d?d.get(n,i,r&C.Optional):ue(n,i,r&C.Optional)}finally{oe(p)}}if(r&C.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Jt(n),"]"))}var hn={};function fn(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=dn(s,a,n,null==r?qe(s)&&tn:r!=a&&3===s.type,i&C.Host&&o===s);return null!==u?pn(t,a,u,s):hn}function dn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,u=e.directiveStart,c=o>>16,l=i?s+c:e.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&ze(d)&&d.type===n)return u}return null}function pn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof Vt){var a=i;if(a.resolving)throw new Error("Circular dep for "+Jt(o[n]));var s,u=nn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=oe(a.injectImpl)),kt(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&oe(s),nn(u),a.resolving=!1,xt()}}return i}function vn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function yn(e,t){return!(e&C.Self||e&C.Host&&t)}var gn=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return ln(this._tNode,this._lView,e,void 0,t)}}]),e}();function mn(e){return e.ngDebugContext}function bn(e){return e.ngOriginalError}function _n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var wn=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||_n}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?mn(e)?mn(e):this._findContext(bn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=bn(e);t&&bn(t);)t=bn(t);return t}}]),e}(),Cn=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),kn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Cn),Sn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Cn),Tn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Cn),En=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Cn),On=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Cn);function xn(e){return e instanceof Cn?e.changingThisBreaksApplicationSecurity:e}function Pn(e,t){var n=In(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function In(e){return e instanceof Cn&&e.getTypeName()||null}function An(e){return new kn(e)}function Mn(e){return new Sn(e)}function Nn(e){return new Tn(e)}function Rn(e){return new En(e)}function Dn(e){return new On(e)}var jn=!0,Ln=!1;function Fn(){return Ln=!0,jn}function Un(){if(Ln)throw new Error("Cannot enable prod mode after platform setup.");jn=!1}var qn=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Vn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bn(e){return(e=String(e)).match(Vn)||e.match(zn)?e:(Fn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Hn(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Gn(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var Kn,Wn=Hn("area,br,col,hr,img,wbr"),Qn=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=Hn("rp,rt"),Xn=Gn(Yn,Qn),$n=Gn(Wn,Gn(Qn,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Yn,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xn),Jn=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zn=Hn("srcset"),er=Gn(Jn,Zn,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tr=Hn("script,style,template"),nr=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!$n.hasOwnProperty(t))return this.sanitizedSomething=!0,!tr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(er.hasOwnProperty(s)){var u=o.value;Jn[s]&&(u=Bn(u)),Zn[s]&&(n=u,u=(n=String(n)).split(",").map((function(e){return Bn(e.trim())})).join(", ")),this.buf.push(" ",a,'="',or(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();$n.hasOwnProperty(t)&&!Wn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(or(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function or(e){return e.replace(/&/g,"&amp;").replace(rr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ir,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ar(e,t){var n=null;try{Kn=Kn||new qn(e);var r=t?String(t):"";n=Kn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Kn.getInertBodyElement(r)}while(r!==o);var a=new nr,s=a.sanitizeChildren(sr(n)||n);return Fn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=sr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function sr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ur=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),cr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),lr=/^url\(([^)]+)\)$/;function hr(e){if(!(e=String(e).trim()))return"";var t=e.match(lr);return t&&Bn(t[1])===t[1]||e.match(cr)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Fn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function fr(e){var t=dr();return t?t.sanitize(ur.URL,e)||"":Pn(e,"URL")?xn(e):Bn($t(e))}function dr(){var e=ut();return e&&e[12]}function pr(e,t){e.__ngContext__=t}function vr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function yr(){throw new Error("Cannot mix multi providers and regular providers")}function gr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function mr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==gr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function br(e){return 0===e.type&&"ng-template"!==e.tagName}function _r(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function wr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Bt(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!_r(e,u,n)||""===u&&1===t.length){if(Cr(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!mr(e.attrs,c,n)){if(Cr(r))return!1;a=!0}continue}var l=kr(8&r?"class":u,i,br(e),n);if(-1===l){if(Cr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==gr(f,c,0)||2&r&&c!==h){if(Cr(r))return!1;a=!0}}}}else{if(!a&&!Cr(r)&&!Cr(u))return!1;if(a&&Cr(u))continue;a=!1,r=u|1&r}}return Cr(r)||a}function Cr(e){return 0==(1&e)}function kr(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Sr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(wr(e,t[r],n))return!0;return!1}function Tr(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Er(e,t){return e?":not("+t.trim()+")":t}function Or(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Cr(a)||(t+=Er(o,i),i=""),r=a,o=o||!Cr(r);n++}return""!==i&&(t+=Er(o,i)),t}var xr={};function Pr(e){var t=e[3];return Fe(t)?t[3]:t}function Ir(e){return Mr(e[13])}function Ar(e){return Mr(e[4])}function Mr(e){for(;null!==e&&!Fe(e);)e=e[4];return e}function Nr(e){Rr(ct(),ut(),It()+e,pt())}function Rr(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&jt(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Lt(t,o,0,n)}At(n)}function Dr(e,t){return e<<17|t<<2}function jr(e){return e>>17&32767}function Lr(e){return 2|e}function Fr(e){return(131068&e)>>2}function Ur(e,t){return-131069&e|t<<2}function qr(e){return 1|e}function Vr(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];Ct(i),a.contentQueries(2,t[o],o)}}}function zr(e,t,n){return Ke(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Br(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,it(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Hr(e,t,n,r,i,o){var a=n+20,s=e.data[a]||function(e,t,n,r,i,o){var a=lt(),s=ft(),u=s?a:a&&a.parent,c=e.data[n]=ei(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(e,t,a,r,i,o);return ht(s,!0),s}function Gr(e,t,n){St(t,t[6]);try{var r=e.viewQuery;null!==r&&Ci(1,r,n);var i=e.template;null!==i&&Qr(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Vr(e,t),e.staticViewQueries&&Ci(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)gi(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,Pt()}}function Kr(e,t,n,r){var i=t[2];if(256!=(256&i)){St(t,t[6]);var o=pt();try{it(t),at.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Qr(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&jt(t,s,null)}else{var u=e.preOrderHooks;null!==u&&Lt(t,u,0,null),Ft(t,0)}if(function(e){for(var t=Ir(e);null!==t;t=Ar(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&ot(o,1),i[2]|=1024}}(t),function(e){for(var t=Ir(e);null!==t;t=Ar(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];nt(r)&&Kr(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Vr(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&jt(t,c)}else{var l=e.contentHooks;null!==l&&Lt(t,l,1),Ft(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(At(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(bt(r,i),a(2,t[i])),i++)}}finally{At(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)yi(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Ci(2,f,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&jt(t,d)}else{var p=e.viewHooks;null!==p&&Lt(t,p,2),Ft(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ot(t[3],-1))}finally{Pt()}}}function Wr(e,t,n,r){var i=t[10],o=!pt(),a=tt(t);try{o&&!a&&i.begin&&i.begin(),a&&Gr(e,t,r),Kr(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Qr(e,t,n,r,i){var o=It();try{At(-1),2&r&&t.length>20&&Rr(e,t,0,pt()),n(r,i)}finally{At(o)}}function Yr(e,t,n){if(Ue(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Xr(e,t,n){st()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||on(n,t),pr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=ze(u);c&&fi(t,n,u);var l=pn(t,e,s,n);pr(l,t),null!==a&&di(0,s-i,l,u,0,a),c&&(Ze(n.index,t)[8]=l)}}(e,t,n,Xe(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-20,u=at.lFrame.currentDirectiveIndex;try{At(s);for(var c=r;c<i;c++){var l=e.data[c],h=t[c];_t(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ai(l,h):a&&o.push(null)}}finally{At(-1),_t(u)}}(e,t,n))}function $r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xe,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function Jr(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Zr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Zr(e,t,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:xr);return n}(l,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ei(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ti(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ni(e,t,n,r,i,o,a,s){var u,c,l=Xe(t,n),h=t.inputs;!s&&null!=h&&(u=h[r])?(Oi(e,n,u,r,i),qe(t)&&function(e,t){var n=Ze(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,t.tagName||"",r):i,Ke(o)?o.setProperty(l,r,i):Ht(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function ri(e,t,n,r){var i=!1;if(st()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Sr(n,a.selectors,!1)&&(i||(i=[]),cn(on(n,t),e,a.type),ze(a)?(2&n.flags&&vr(n),ui(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,li(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}si(e,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Gt(n.mergedAttrs,d.hostAttrs),hi(e,t,d),ci(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),ii(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||br(t)?null:pi(l,i);o.push(h),a=ti(l,u,a),s=ti(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),oi(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Gt(n.mergedAttrs,n.attrs),i}function ii(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function oi(e,t,n){for(var r=0;r<n;r++)t.push(xr),e.blueprint.push(xr),e.data.push(null)}function ai(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function si(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function ui(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ci(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ze(t)&&(n[""]=e)}}function li(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function hi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=De(n.type)),i=new Vt(r,ze(n),null);e.blueprint.push(i),t.push(i)}function fi(e,t,n){var r=Xe(t,e),i=Jr(n),o=e[10],a=mi(e,Br(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function di(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function pi(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function vi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function yi(e,t){var n=Ze(t,e);if(nt(n)){var r=n[1];80&n[2]?Kr(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=Ir(t);null!==n;n=Ar(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Kr(o,i,o.template,i[8])}else i[5]>0&&e(i)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=Ze(a[s],t);nt(u)&&u[5]>0&&e(u)}}(n)}}function gi(e,t){var n=Ze(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Gr(r,n,n[8])}function mi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function bi(e){for(;e;){e[2]|=64;var t=Pr(e);if(Be(e)&&!t)return e;e=t}return null}function _i(e,t,n){var r=t[10];r.begin&&r.begin();try{Kr(e,t,e.template,n)}catch(i){throw Ei(t,i),i}finally{r.end&&r.end()}}function wi(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=et(n),i=r[1];Wr(i,r,i.template,n)}}(e[8])}function Ci(e,t,n){Ct(0),t(e,n)}var ki=Promise.resolve(null);function Si(e){return e[7]||(e[7]=[])}function Ti(e){return e.cleanup||(e.cleanup=[])}function Ei(e,t){var n=e[9],r=n?n.get(wn,null):null;r&&r.handleError(t)}function Oi(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function xi(e,t){var n=t[3];return-1===e.index?Fe(n)?n:null:n}function Pi(e,t){var n=xi(e,t);return n?Vi(t[11],n[7]):null}function Ii(e,t,n,r,i){if(null!=r){var o,a=!1;Fe(r)?o=r:Le(r)&&(a=!0,r=r[0]);var s=Qe(r);0===e&&null!==n?null==i?Ui(t,n,s):Fi(t,n,s,i||null):1===e&&null!==n?Fi(t,n,s,i||null):2===e?function(e,t,n){var r=Vi(e,t);r&&function(e,t,n,r){Ke(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Qe(n)&&Ii(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Ki(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Ai(e,t,n,r){var i=Pi(e.node,t);i&&Ki(e,t,t[11],n?1:2,i,r)}function Mi(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&ot(t[3],-1),n.splice(r,1)}function Ni(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Mi(i,r),t>0&&(e[n-1][4]=r[4]);var o=ve(e,10+t);Ai(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Ri(e,t){if(!(256&t[2])){var n=t[11];Ke(n)&&n.destroyNode&&Ki(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return ji(e[1],e);for(;t;){var n=null;if(Le(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Le(t)&&ji(t[1],t),t=Di(t,e);null===t&&(t=e),Le(t)&&ji(t[1],t),n=t&&t[4]}t=n}}(t)}}function Di(e,t){var n;return Le(e)&&(n=e[6])&&2===n.type?xi(n,e):e[3]===t?null:e[3]}function ji(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Vt)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):Qe(t[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Ke(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Fe(t[3])){r!==t[3]&&Mi(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function Li(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Pi(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return Xe(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==we.ShadowDom&&a!==we.Native)return null}return Xe(r,n)}function Fi(e,t,n,r){Ke(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Ui(e,t,n){Ke(e)?e.appendChild(t,n):t.appendChild(n)}function qi(e,t,n,r){null!==r?Fi(e,t,n,r):Ui(e,t,n)}function Vi(e,t){return Ke(e)?e.parentNode(t):t.parentNode}function zi(e,t){if(2===e.type){var n=xi(e,t);return null===n?null:Hi(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Xe(e,t):null}function Bi(e,t,n,r){var i=Li(e,r,t);if(null!=i){var o=t[11],a=zi(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)qi(o,i,n[s],a);else qi(o,i,n,a)}}function Hi(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return Xe(n,t);if(0===r)return Hi(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Fe(o)?Hi(-1,o):Qe(o)}var a=t[16],s=a[6],u=Pr(a),c=s.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function Gi(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===t&&(s&&pr(Qe(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Gi(e,t,n.child,r,i,o,!1),Ii(t,e,i,s,o)):1===u?Wi(e,t,r,n,i,o):Ii(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function Ki(e,t,n,r,i,o){Gi(n,r,e.node.child,t,i,o,!1)}function Wi(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Ii(t,e,i,s[u],o);else Gi(e,t,s,a[3],i,o,!0)}function Qi(e,t,n){Ke(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Yi(e,t,n){Ke(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Xi,$i,Ji,Zi=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Qe(a)),Fe(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Pr(h);e(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Ri(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Si(n=this._lView).push(r),t.firstCreatePass&&Ti(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){bi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){_i(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){vt(!0);try{_i(e,t,n)}finally{vt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Ki(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),eo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){wi(this._view)}},{key:"checkNoChanges",value:function(){!function(e){vt(!0);try{wi(e)}finally{vt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Zi);function to(e,t,n){return Xi||(Xi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new Xi(Xe(t,n))}function no(e,t,n,r){return $i||($i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Br(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Gr(t,n,e),new Zi(n)}}]),n}(e)),0===n.type?new $i(r,n,to(t,n,r)):null}function ro(e,t,n,r){var i;Ji||(Ji=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"element",get:function(){return to(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new gn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=un(this._hostTNode,this._hostView),t=Xt(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Yt(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return Wt(e)&&null!=n?new gn(n,t):new gn(null,this._hostView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(he,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Fe(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new Ji(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],pe(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),Ai(r,n,!0,Hi(s,this._lContainer)),e.attachToViewContainerRef(this),pe(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=Ni(e,t);n&&Ri(n[1],n)}(this._lContainer,t),ve(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Ni(this._lContainer,t);return n&&null!=ve(this._lContainer[8],t)?new Zi(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}}]),r}(e));var o=r[n.index];if(Fe(o))i=o;else{var a;if(4===n.type)a=Qe(o);else if(a=r[11].createComment(""),Be(r)){var s=r[11],u=Xe(n,r);Fi(s,Vi(s,u),a,function(e,t){return Ke(e)?e.nextSibling(t):t.nextSibling}(s,u))}else Bi(r[1],r,a,n);r[n.index]=i=vi(o,r,a,n),mi(r,i)}return new Ji(i,n,r)}function io(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&qe(e)){var r=Ze(e.index,t);return new Zi(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Zi(t[16],t):null}(lt(),ut(),e)}var oo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ao()},e}(),ao=io,so=new J("Set Injector scope."),uo={},co={},lo=[],ho=void 0;function fo(){return void 0===ho&&(ho=new le),ho}function po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new vo(e,n,t||fo(),r)}var vo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&de(n,(function(e){return i.processProvider(e,t,n)})),de([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(Z,go(void 0,this));var s=this.records.get(so);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:R(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.Default;this.assertNotDestroyed();var r,i=ie(this);try{if(!(n&C.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof J)&&E(e);o=a&&this.injectableDefInScope(a)?go(yo(e),uo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&C.Self?fo():this.parent).get(e,t=n&C.Optional&&t===ee?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(R(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=R(t);if(Array.isArray(t))i=t.map(R).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):R(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(te,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{ie(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(R(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=F(e)))return!1;var i=x(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=x(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{de(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;de(i,(function(e){return r.processProvider(e,n,i||lo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,go(i.factory,uo));var h=i.providers;if(null!=h&&!s){var f=e;de(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=bo(e=F(e))?e:F(e&&e.provide),i=function(e,t,n){return mo(e)?go(void 0,e.useValue):go(function(e,t,n){var r,i=void 0;if(bo(e)){var o=F(e);return De(o)||yo(o)}if(mo(e))i=function(){return F(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(ce(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return se(F(e.useExisting))};else{var a=F(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(R(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return De(a)||yo(a);i=function(){return _construct2(a,_toConsumableArray(ce(e.deps)))}}return i}(e,t,n),uo)}(e,t,n);if(bo(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&yr()}else{var a=this.records.get(r);a?void 0===a.multi&&yr():((a=go(void 0,uo,!0)).factory=function(){return ce(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===co?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(R(e)):t.value===uo&&(t.value=co,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function yo(e){var t=E(e),n=null!==t?t.factory:De(e);if(null!==n)return n;var r=x(e);if(null!==r)return r.factory;if(e instanceof J)throw new Error("Token ".concat(R(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=ye(t,"?");throw new Error("Can't resolve all parameters for ".concat(R(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[P]||e[M]||e[A]&&e[A]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function go(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function mo(e){return null!==e&&"object"==typeof e&&ne in e}function bo(e){return"function"==typeof e}var _o=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=po(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},wo=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?_o(e,t,""):_o(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=ee,e.NULL=new le,e.\u0275prov=S({token:e,providedIn:"any",factory:function(){return se(Z)}}),e.__NG_ELEMENT_ID__=-1,e}(),Co=new J("AnalyzeForEntryComponents"),ko=new Map,So=new Set;function To(e){return"string"==typeof e?e:e.text()}function Eo(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=D(i,s):2==o&&(r=D(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Oo=null;function xo(){if(!Oo){var e=H.Symbol;if(e&&e.iterator)Oo=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Oo=r)}}return Oo}function Po(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Io=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Ao(e){return!!Mo(e)&&(Array.isArray(e)||!(e instanceof Map)&&xo()in e)}function Mo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function No(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ro(e,t,n,r){var i=ut();return No(i,gt(),t)&&(ct(),function(e,t,n,r,i,o){var a=Xe(e,t),s=t[11];if(null==r)Ke(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?$t(r):i(r,e.tagName||"",n);Ke(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(Mt(),i,e,t,n,r)),Ro}function Do(e,t,n,r,i,o,a,s){var u=ut(),c=ct(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=Hr(t,n[6],e,0,a||null,rt(c,s));ri(t,n,l,rt(c,u)),Dt(t,l);var h=l.tViews=Zr(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),f=ei(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,a):c.data[l];ht(h,!1);var f=u[11].createComment("");Bi(c,u,f,h),pr(f,u),mi(u,u[l]=vi(f,u,f,h)),Ve(h)&&Xr(c,u,h),null!=a&&$r(u,h,s)}function jo(e){return Je(at.lFrame.contextLView,e)}function Lo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default,n=ut();return null==n?se(e,t):ln(lt(),n,F(e),t)}function Fo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Bt(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(lt(),e)}function Uo(){throw new Error("invalid")}function qo(e,t,n){var r=ut();return No(r,gt(),t)&&ni(ct(),Mt(),r,e,t,r[11],n,!1),qo}function Vo(e,t,n,r,i){var o=i?"class":"style";Oi(e,n,t.inputs[o],o,r)}function zo(e,t,n,r){var i=ut(),o=ct(),a=20+e,s=i[11],u=i[a]=zr(t,s,at.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=rt(s,o),c=Hr(t,n[6],e,3,i,u);return ri(t,n,c,rt(s,a)),null!==c.attrs&&Eo(c,c.attrs,!1),null!==c.mergedAttrs&&Eo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[a];ht(c,!0);var l=c.mergedAttrs;null!==l&&zt(s,u,l);var h=c.classes;null!==h&&Yi(s,u,h);var f=c.styles;null!==f&&Qi(s,u,f),Bi(o,i,u,c),0===at.lFrame.elementDepthCount&&pr(u,i),at.lFrame.elementDepthCount++,Ve(c)&&(Xr(o,i,c),Yr(o,c,i)),null!==r&&$r(i,c)}function Bo(){var e=lt();ft()?dt():ht(e=e.parent,!1);var t=e;at.lFrame.elementDepthCount--;var n=ct();n.firstCreatePass&&(Dt(n,e),Ue(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Vo(n,t,ut(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Vo(n,t,ut(),t.stylesWithoutHost,!1)}function Ho(e,t,n,r){zo(e,t,n,r),Bo()}function Go(e,t,n){var r=ut(),i=ct(),o=e+20,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=rt(o,r),s=Hr(t,n[6],e,4,"ng-container",a);return null!==a&&Eo(s,a,!0),ri(t,n,s,rt(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,i,r,t,n):i.data[o];ht(a,!0);var s=r[o]=r[11].createComment("");Bi(i,r,s,a),pr(s,r),Ve(a)&&(Xr(i,r,a),Yr(i,a,r)),null!=n&&$r(r,a)}function Ko(){var e=lt(),t=ct();ft()?dt():ht(e=e.parent,!1),t.firstCreatePass&&(Dt(t,e),Ue(e)&&t.queries.elementEnd(e))}function Wo(e){return!!e&&"function"==typeof e.then}function Qo(e){return!!e&&"function"==typeof e.subscribe}function Yo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ut(),o=ct(),a=lt();return function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Ve(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=Si(t),h=!0;if(3===r.type){var f=Xe(r,t),d=s?s(f):Ce,p=d.target||f,v=l.length,y=s?function(e){return s(Qe(e[r.index])).target}:r.index;if(Ke(n)){var g=null;if(!s&&u&&(g=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=$o(r,t,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=$o(r,t,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var C=0;C<w;C+=2){var k=t[b[C]][b[C+1]].subscribe(o),S=l.length;l.push(o,k),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],a,e,t,n,r),Yo}function Xo(e,t,n){try{return!1!==t(n)}catch(r){return Ei(e,r),!1}}function $o(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?Ze(e.index,t):t;0==(32&t[2])&&bi(a);for(var s=Xo(t,n,o),u=i.__ngNextListenerFn__;u;)s=Xo(t,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(at.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,at.lFrame.contextLView))[8]}(e)}function Zo(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Sr(e,o,!0):Tr(r,o))return i}else n=i}return n}function ea(e){var t=ut()[16][6];if(!t.projection)for(var n=t.projection=ye(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?Zo(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=ut(),i=ct(),o=Hr(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),dt(),function(e,t,n){Wi(t[11],0,t,n,Li(e,n,t),zi(n.parent||t[6],t))}(i,r,o)}var na=[];function ra(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?jr(o):Fr(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];ia(e[s],t)&&(u=!0,e[s+1]=r?qr(c):Lr(c)),s=r?jr(c):Fr(c)}u&&(e[n+1]=r?Lr(o):qr(o))}function ia(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&be(e,t)>=0}var oa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aa(e){return e.substring(oa.key,oa.keyEnd)}function sa(e){return e.substring(oa.value,oa.valueEnd)}function ua(e,t){var n=oa.textEnd;return n===t?-1:(t=oa.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,oa.key=t,n),ha(e,t,n))}function ca(e,t){var n=oa.textEnd,r=oa.key=ha(e,t,n);return n===r?-1:(r=oa.keyEnd=function(e,t,n){for(var r;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90);)t++;return t}(e,r,n),r=fa(e,r,n),r=oa.value=ha(e,r,n),r=oa.valueEnd=function(e,t,n){for(var r=-1,i=-1,o=-1,a=t,s=a;a<n;){var u=e.charCodeAt(a++);if(59===u)return s;34===u||39===u?s=a=da(e,u,a,n):t===a-4&&85===o&&82===i&&76===r&&40===u?s=a=da(e,41,a,n):u>32&&(s=a),o=i,i=r,r=-33&u}return s}(e,r,n),fa(e,r,n))}function la(e){oa.key=0,oa.keyEnd=0,oa.value=0,oa.valueEnd=0,oa.textEnd=e.length}function ha(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function fa(e,t,n,r){return(t=ha(e,t,n))<n&&t++,t}function da(e,t,n,r){for(var i=-1,o=n;o<r;){var a=e.charCodeAt(o++);if(a==t&&92!==i)return o;i=92==a&&92===i?0:a}throw new Error}function pa(e,t){return function(e,t,n,r){var i,o,a=ut(),s=ct(),u=mt(2);(s.firstUpdatePass&&wa(s,e,u,!0),t!==xr&&No(a,u,t))&&(null==n&&(i=null===(o=at.lFrame)?null:o.currentSanitizer)&&(n=i),Ta(s,s.data[It()+20],a,a[11],e,a[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=R(xn(e)))),e}(t,n),!0,u))}(e,t,null),pa}function va(e){ba(Sa,ya,e,!1)}function ya(e,t){for(var n=function(e){return la(e),ca(e,ha(e,0,oa.textEnd))}(t);n>=0;n=ca(t,n))Sa(e,aa(t),sa(t))}function ga(e){ba(ge,ma,e,!0)}function ma(e,t){for(var n=function(e){return la(e),ua(e,ha(e,0,oa.textEnd))}(t);n>=0;n=ua(t,n))ge(e,aa(t),!0)}function ba(e,t,n,r){var i=ct(),o=mt(2);i.firstUpdatePass&&wa(i,null,o,r);var a=ut();if(n!==xr&&No(a,o,n)){var s=i.data[It()+20];if(xa(s,r)&&!_a(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=D(u,n||"")),Vo(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===xr&&(i=na);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&Ta(e,t,n,r,p,v,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return na;var r=[],i=xn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function _a(e,t){return t>=e.expandoStartIndex}function wa(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[It()+20],a=_a(e,n);xa(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=at.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=ka(n=Ca(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=Ca(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Fr(r))return e[jr(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[jr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=ka(s=Ca(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=ka(r,e[o].hostAttrs,n);return ka(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=jr(a),u=Fr(a);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||be(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=jr(e[s+1]);e[r+1]=Dr(f,s),0!==f&&(e[f+1]=Ur(e[f+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Dr(s,0),0!==s&&(e[s+1]=Ur(e[s+1],r)),s=r;else e[r+1]=Dr(u,0),0===s?s=r:e[u+1]=Ur(e[u+1],r),u=r;l&&(e[r+1]=Lr(e[r+1])),ra(e,c,r,!0),ra(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&be(o,t)>=0&&(n[r+1]=qr(n[r+1]))}(t,c,e,r,o),a=Dr(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function Ca(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=ka(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function ka(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ge(e,a,!!n||t[++o]))}return void 0===e?null:e}function Sa(e,t,n){var r,i,o;("background-image"===(r=t)||"backgroundImage"===r||"background"===r||"border-image"===r||"borderImage"===r||"border-image-source"===r||"borderImageSource"===r||"filter"===r||"list-style"===r||"listStyle"===r||"list-style-image"===r||"listStyleImage"===r||"clip-path"===r||"clipPath"===r)&&(i=n,n=(o=dr())?o.sanitize(ur.STYLE,i)||"":Pn(i,"Style")?xn(i):hr($t(i))),ge(e,t,n)}function Ta(e,t,n,r,i,o,a,s){if(3===t.type){var u=e.data,c=u[s+1];Oa(1==(1&c)?Ea(u,t,n,i,Fr(c),a):void 0)||(Oa(o)||2==(2&c)&&(o=Ea(u,null,n,i,s,a)),function(e,t,n,r,i){var o=Ke(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Ye(It(),n),i,o))}}function Ea(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===xr&&(f=h?na:void 0);var d=h?me(f,r):l===r?f:void 0;if(c&&!Oa(d)&&(d=me(u,r)),Oa(d)&&(s=d,a))return s;var p=e[i+1];i=a?jr(p):Fr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=me(v,r))}return s}function Oa(e){return void 0!==e}function xa(e,t){return 0!=(e.flags&(t?16:32))}function Pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ut(),r=ct(),i=e+20,o=r.firstCreatePass?Hr(r,n[6],e,3,null,null):r.data[i],a=n[i]=function(e,t){return Ke(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Bi(r,n,a,o),ht(o,!1)}function Ia(e){return Aa("",e,""),Ia}function Aa(e,t,n){var r=ut(),i=function(e,t,n,r){return No(e,gt(),n)?t+$t(n)+r:xr}(r,e,t,n);return i!==xr&&function(e,t,n){var r=Ye(t,e),i=e[11];Ke(i)?i.setValue(r,n):r.textContent=n}(r,It(),i),Aa}function Ma(e,t,n){var r=ut();return No(r,gt(),t)&&ni(ct(),Mt(),r,e,t,r[11],n,!0),Ma}function Na(e,t){var n=et(e)[1],r=n.data.length-1;Dt(n,{directiveStart:r,directiveEnd:r+1})}var Ra=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Da(e){e.type.prototype.ngOnChanges&&(e.setInput=ja,e.onChanges=function(){var e=La(this),t=e&&e.current;if(t){var n=e.previous;if(n===Ce)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function ja(e,t,n,r){var i=La(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Ce,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ra(u&&u.currentValue,t,a===Ce),e[r]=t}function La(e){return e.__ngSimpleChanges__||null}Da.ngInherit=!0;var Fa=function e(){_classCallCheck(this,e)},Ua=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(R(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),qa=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new Ua,e}(),Va=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return za(e)},e}(),za=function(e){return to(e,lt(),ut())},Ba=function e(){_classCallCheck(this,e)},Ha=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Ga=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ka()},e}(),Ka=function(){var e=ut(),t=Ze(lt().index,e);return function(e){var t=e[11];if(Ke(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Le(t)?t:e)},Wa=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=S({token:e,providedIn:"root",factory:function(){return null}}),e}(),Qa=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Ya=new Qa("9.1.13"),Xa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Ao(e)}},{key:"create",value:function(e){return new Ja(e)}}]),e}(),$a=function(e,t){return t},Ja=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$a}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<ns(n,r,i)?t:n,a=ns(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Ao(e))throw new Error("Error trying to diff '".concat(R(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Po(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Po(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[xo()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Po(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Po(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Po(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Po(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Za(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ts),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ts),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Za=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},es=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Po(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),ts=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new es,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function ns(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var rs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Mo(e)}},{key:"create",value:function(){return new is}}]),e}(),is=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Mo(e)))throw new Error("Error trying to diff '".concat(R(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new os(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Po(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}}]),e}(),os=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},as=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new w,new b]]}}}]),e}();return e.\u0275prov=S({token:e,providedIn:"root",factory:function(){return new e([new Xa])}}),e}(),ss=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new w,new b]]}}}]),e}();return e.\u0275prov=S({token:e,providedIn:"root",factory:function(){return new e([new rs])}}),e}(),us=[new rs],cs=new as([new Xa]),ls=new ss(us),hs=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return fs(e,Va)},e}(),fs=function(e,t){return no(e,t,lt(),ut())},ds=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ps(e,Va)},e}(),ps=function(e,t){return ro(e,t,lt(),ut())},vs={},ys=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=Re(e);return new bs(t,this.ngModule)}}]),n}(qa);function gs(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var ms=new J("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Zt}}),bs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Or).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return gs(this.componentDef.inputs)}},{key:"outputs",get:function(){return gs(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,vs,i);return o!==vs||r===vs?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(Ba,We),u=a.get(Wa,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Ke(e))return e.selectRootElement(t,n===we.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):zr(l,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Zt,clean:ki,playerHandler:null,flags:0},v=Zr(0,-1,null,1,0,null,null,null,null,null),y=Br(null,v,p,f,null,null,s,c,u,a);St(y,null);try{var g=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=Hr(a,null,0,3,null,null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(Eo(s,u,!0),null!==e&&(zt(i,e,u),null!==s.classes&&Yi(i,e,s.classes),null!==s.styles&&Qi(i,e,s.styles)));var c=r.createRenderer(e,t),l=Br(n,Jr(t),null,t.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(cn(on(s,n),a,t.type),ui(a,s),li(s,n.length,1)),mi(n,l),n[20]=l}(h,this.componentDef,y,s,c);if(h)if(n)zt(c,h,["ng-version",Ya.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Cr(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),b=m.attrs,_=m.classes;b&&zt(c,h,b),_&&_.length>0&&Yi(c,h,_.join(" "))}if(o=$e(v,0),void 0!==t)for(var w=o.projection=[],C=0;C<this.ngContentSelectors.length;C++){var k=t[C];w.push(null!=k?Array.from(k):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=lt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),si(e,r,1),hi(e,t,n));var i=pn(t,e,t.length-1,r);pr(i,t);var o=Xe(r,t);return o&&pr(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=lt();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){At(s.index-20);var u=n[1];ii(u,t),oi(u,n,t.hostVars),ai(t,a)}return a}(g,this.componentDef,y,p,[Na]),Gr(v,y,null)}finally{Pt()}var S=new _s(this.componentType,i,to(Va,o,y),y,o);return n&&!d||(v.node.child=o),S}}]),n}(Fa),_s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new eo(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=ei(0,null,2,-1,null,null)),c[6]=l,s.componentType=e,s}return _createClass(n,[{key:"injector",get:function(){return new gn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),ws=void 0,Cs=["en",[["a","p"],["AM","PM"],ws],[["AM","PM"],ws,ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ws,"{1} 'at' {0}",ws],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ks={};function Ss(e,t,n){"string"!=typeof t&&(n=t,t=e[Ps.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ks[t]=e,n&&(ks[t][Ps.ExtraData]=n)}function Ts(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=xs(t);if(n)return n;var r=t.split("-")[0];if(n=xs(r))return n;if("en"===r)return Cs;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Es(e){return Ts(e)[Ps.CurrencyCode]||null}function Os(e){return Ts(e)[Ps.PluralCase]}function xs(e){return e in ks||(ks[e]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[e]),ks[e]}var Ps=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function Is(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var As=new Map,Ms=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new ys(_assertThisInitialized(i));var o=je(e),a=e[Y]||null;return a&&Is(a),i._bootstrapComponents=en(o.bootstrap),i._r3Injector=po(e,r,[{provide:he,useValue:_assertThisInitialized(i)},{provide:qa,useValue:i.componentFactoryResolver}],R(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.Default;return e===wo||e===he||e===Z?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(he),Ns=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==je(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(R(t)," vs ").concat(R(t.name)))})(n,As.get(n),t),As.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new Ms(this.moduleType,e)}}]),n}(fe);function Rs(e,t,n,r){return Ds(ut(),yt(),e,t,n,r)}function Ds(e,t,n,r,i,o){var a=t+n;return No(e,a,i)?function(e,t,n){return e[t]=n}(e,a+1,o?r.call(o,i):r(i)):function(e,t){var n=e[t];return n===xr?void 0:n}(e,a+1)}function js(e,t){var n,r=ct(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=De(n.type)),a=oe(Lo),s=nn(!1),u=o();return nn(s),oe(a),function(e,t,n,r){var i=n+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,ut(),e,u),u}function Ls(e,t,n){var r=ut(),i=Je(r,e);return function(e,t){return Io.isWrapped(t)&&(t=Io.unwrap(t),e[at.lFrame.bindingIndex]=xr),t}(r,function(e,t){return e[1].data[t+20].pure}(r,e)?Ds(r,yt(),t,i.transform,n,i):i.transform(n))}var Fs=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf2(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a=function(e){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf2(n.prototype),"subscribe",this).call(this,o,a,s);return e instanceof i.a&&e.add(u),u}}]),n}(r.a);function Us(){return this._results[xo()]()}var qs=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new Fs,this.length=0;var t=xo(),n=e.prototype;n[t]||(n[t]=Us)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Vs=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),zs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==tu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Bs=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},Hs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Gs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,Ks(t,n[r]));else{var i=this.metadata.predicate;i===hs?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,dn(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Va||r===ds||r===hs&&0===t.type)this.addMatch(t.index,-2);else{var i=dn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Ks(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Ws(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?to(Va,e,t):0===e.type?no(hs,Va,e,t):null}(t,e):-2===n?function(e,t,n){return n===Va?to(Va,t,e):n===hs?no(hs,Va,t,e):n===ds?ro(ds,Va,t,e):void 0}(e,t,r):pn(e,e[1],n,t)}function Qs(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Ws(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Ys(e){var t=ut(),n=ct(),r=wt();Ct(r+1);var i=tu(n,r);if(e.dirty&&tt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Qs(t,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];e(y[1],y,l,i)}}}return i}(n,t,r,[]):Qs(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Xs(e,t,n){!function(e,t,n,r,i,o){e.firstCreatePass&&eu(e,new Bs(n,r,!1,i),-1),Zs(e,t)}(ct(),ut(),e,t,n)}function $s(e,t,n,r){!function(e,t,n,r,i,o,a,s){e.firstCreatePass&&(eu(e,new Bs(n,r,!1,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s)),Zs(e,t)}(ct(),ut(),t,n,r,0,lt(),e)}function Js(){return e=ut(),t=wt(),e[19].queries[t].queryList;var e,t}function Zs(e,t){var n=new qs;!function(e,t,n,r){var i=Si(t);i.push(n),e.firstCreatePass&&Ti(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new zs),t[19].queries.push(new Vs(n))}function eu(e,t,n){null===e.queries&&(e.queries=new Hs),e.queries.track(new Gs(t,n))}function tu(e,t){return e.queries.getByIndex(t)}function nu(e,t){return no(hs,Va,e,t)}function ru(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.Default,t=io(!0);if(null!=t||e&C.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var iu=new J("Application Initializer"),ou=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Wo(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(se(iu,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}(),au=new J("AppId"),su={provide:au,useFactory:function(){return"".concat(uu()).concat(uu()).concat(uu())},deps:[]};function uu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var cu=new J("Platform Initializer"),lu=new J("Platform ID"),hu=new J("appBootstrapListener"),fu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}(),du=new J("LocaleId"),pu=new J("DefaultCurrencyCode"),vu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},yu=function(e){return new Ns(e)},gu=yu,mu=function(e){return Promise.resolve(yu(e))},bu=function(e){var t=yu(e),n=en(je(e).declarations).reduce((function(e,t){var n=Re(t);return n&&e.push(new bs(n)),e}),[]);return new vu(t,n)},_u=bu,wu=function(e){return Promise.resolve(bu(e))},Cu=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=gu,this.compileModuleAsync=mu,this.compileModuleAndAllComponentsSync=_u,this.compileModuleAndAllComponentsAsync=wu}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}(),ku=new J("compilerOptions"),Su=Promise.resolve(0);function Tu(e){"undefined"==typeof Zone?Su.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Eu=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fs(!1),this.onMicrotaskEmpty=new Fs(!1),this.onStable=new Fs(!1),this.onError=new Fs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=H.requestAnimationFrame,t=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(H,(function(){e.lastRequestAnimationFrameId=-1,Iu(e),Pu(e)})),Iu(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return Au(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Mu(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return Au(n),e.invoke(r,i,o,a,s)}finally{Mu(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Iu(n),Pu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,xu,Ou,Ou);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Ou(){}var xu={};function Pu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Iu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Au(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Mu(e){e._nesting--,Pu(e)}var Nu=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fs,this.onMicrotaskEmpty=new Fs,this.onStable=new Fs,this.onError=new Fs}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Ru=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Eu.assertNotInAngularZone(),Tu((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Tu((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(se(Eu))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}(),Du=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,Fu.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Fu.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}();function ju(e){Fu=e}var Lu,Fu=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Uu=function(e,t,n){var r=e.get(ku,[]).concat(t),i=new Ns(n);if(0===ko.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(e){return e.providers})),a=[],o.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray(e))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var e=H.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),c=wo.create({providers:s}).get(u.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(c.get(e))}(e);n.set(e,t=r.then(To))}return t}return ko.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){So.delete(e)}(n)}));t.push(u)})),ko=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},qu=new J("AllowMultipleToken"),Vu=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function zu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new J(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Bu();if(!o||o.injector.get(qu,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:so,useValue:"platform"});!function(e){if(Lu&&!Lu.destroyed&&!Lu.injector.get(qu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Lu=e.get(Hu);var t=e.get(cu,null);t&&t.forEach((function(e){return e()}))}(wo.create({providers:a,name:r}))}return function(e){var t=Bu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Bu(){return Lu&&!Lu.destroyed?Lu:null}var Hu=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new Nu:("zone.js"===n?void 0:n)||new Eu({enableLongStackTrace:Fn(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Eu,useValue:o}];return o.run((function(){var t=wo.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(wn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Qu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(ou)).runInitializers(),a.donePromise.then((function(){return Is(n.injector.get(du,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Wo(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Gu({},n);return Uu(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Wu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(R(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(se(wo))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}();function Gu(e,t){return Array.isArray(t)?t.reduce(Gu,e):Object.assign(Object.assign({},e),t)}var Ku,Wu=((Ku=function(){function e(t,n,r,i,s,c){var l=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Fn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(e){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){e.next(l._stable),e.complete()}))})),f=new o.a((function(e){var t;l._zone.runOutsideAngular((function(){t=l._zone.onStable.subscribe((function(){Eu.assertNotInAngularZone(),Tu((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,e.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){Eu.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe((function(e){return u()((t=v,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,d);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Fa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(he),o=n.create(wo.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Ru,null);return a&&o.injector.get(Du).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Fn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Qu(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(hu,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Qu(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||Ku)(se(Eu),se(fu),se(wo),se(wn),se(qa),se(ou))},Ku.\u0275prov=S({token:Ku,factory:Ku.\u0275fac}),Ku);function Qu(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Yu=function e(){_classCallCheck(this,e)},Xu=function e(){_classCallCheck(this,e)},$u={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ju=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||$u}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return Zu(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Zu(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(se(Cu),se(Xu,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}();function Zu(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var ec=function(e){return null},tc=zu(null,"core",[{provide:lu,useValue:"unknown"},{provide:Hu,deps:[wo]},{provide:Du,deps:[]},{provide:fu,deps:[]}]),nc=[{provide:Wu,useClass:Wu,deps:[Eu,fu,wo,wn,qa,ou]},{provide:ms,deps:[Eu],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:ou,useClass:ou,deps:[[new b,iu]]},{provide:Cu,useClass:Cu,deps:[]},su,{provide:as,useFactory:function(){return cs},deps:[]},{provide:ss,useFactory:function(){return ls},deps:[]},{provide:du,useFactory:function(e){return Is(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new m(du),new b,new w]]},{provide:pu,useValue:"USD"}],rc=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=Pe({type:e}),e.\u0275inj=T({factory:function(t){return new(t||e)(se(Wu))},providers:nc}),e}()},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},pxpQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return h}));var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("HDdC"),u=((r=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return e=this.error,new s.a((function(t){return t.error(e)}));case"C":return Object(o.b)()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(e,t))}}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.scheduler,this.delay))}}]),e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(u.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(u.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(i.a),f=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return x})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return u})),n.d(t,"r",(function(){return c})),n.d(t,"s",(function(){return f})),n.d(t,"t",(function(){return v})),n.d(t,"u",(function(){return g}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){return o(void 0,e)}function o(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=o(e[n],t[n]));return e}var a=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var e=s();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}function y(){return"indexedDB"in self&&null!=indexedDB}function g(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function m(){return!(!navigator||!navigator.cookieEnabled)}var b=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),_=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?w(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new b(i,s,r);return u},e}();function w(e,t){return e.replace(C,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var C=/\{\$([^}]+)}/g;function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S(e,t){var n=new T(e,t);return n.subscribe.bind(n)}var T=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function E(){}function O(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function x(e){return e&&e._delegate?e._delegate:e}},qgXg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf2(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf2(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf2(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),i=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),c=((i=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){t=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof u?t=t.concat(l(p.errors)):t.push(p)}}if(t)throw new u(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((r=new i).closed=!0,r),i);function l(e){return e.reduce((function(e,t){return e.concat(t instanceof u?t.errors:t)}),[])}},spgP:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return C})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),f=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),t.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),d=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=t.run((function(){return new h(Zone.current,i.a)}))};function p(e){return function(t){return(t=t.lift(new f(e.ngZone))).pipe(Object(a.a)(e.outsideAngular),Object(s.b)(e.insideAngular))}}var v=["ngOnDestroy"],y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(e,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(v.indexOf(o)>-1)return function(){};var a=t.toPromise().then((function(e){var t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then((function(e){return n.run((function(){return e}))})):n.run((function(){return t}))}));return new Proxy((function(){}),{get:function(e,t){return a[t]},apply:function(e,t,n){return a.then((function(e){var t,i=e&&e.apply(void 0,_toConsumableArray(n));return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},g=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype||t).forEach((function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))}))}))},m=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=function e(){_classCallCheck(this,e)},w=new u.N("6.1.4");function C(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(e){return e&&e.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(t,i)}));try{JSON.stringify(t)!==JSON.stringify(o.options)&&S("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var k=function(){S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.T)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};function T(t,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(t)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(e,t){var n=u[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n}))&&S("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(e.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var E={provide:_,useFactory:C,deps:[m,u.z,[new u.A,b]]},O=function(){var e=function(){function e(t){_classCallCheck(this,e),c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.M.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:m,useValue:t},{provide:b,useValue:n}]}}}]),e}();return e.\u0275mod=u.Gb({type:e}),e.\u0275inj=u.Fb({factory:function(t){return new(t||e)(u.Pb(u.B))},providers:[E]}),e}()}).call(this,n("3UD+")(e))},"tf+s":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(e){return e in a&&(delete a[e],!0)}var u=function(e){var t=i++;return a[t]=!0,o.then((function(){return s(t)&&e()})),t},c=function(e){s(e)},l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf2(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=u(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf2(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(c(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),h=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(l),f=n("DH7j"),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=a,i=o,(Object(f.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=h),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.a);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new v(e,t))}}var v=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new d(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q");function i(){}var o=n("n6bG");function a(e,t,n){return function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,s){var u;return _classCallCheck(this,n),(u=t.call(this,e))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},zIRd:function(e,t,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.h)(e),this.container=new s.b(t.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.f)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||"[DEFAULT]",!Object(a.f)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Object(a.i)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++)t[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=o(o({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.i)(t,e)},createSubscribe:a.g,ErrorFactory:a.b,deepExtend:a.i}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.l)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.r)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,e)};var m,b=p;(m=b).INTERNAL.registerComponent(new s.a("platform-logger",(function(e){return new v(e)}),"PRIVATE")),m.registerVersion("@firebase/app","0.6.20",void 0),m.registerVersion("fire-js",""),t.a=b},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("fXoL"),i={apiKey:"AIzaSyA9E-cTrRAzeIkZFo-0-6pBX-RPorz-t3Y",authDomain:"petai-validation.firebaseapp.com",projectId:"petai-validation",storageBucket:"petai-validation.appspot.com",messagingSenderId:"557454141908",appId:"1:557454141908:web:26048322f6fc97c1ba0e41",measurementId:"G-8PBN88JCYF"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||s)},s.\u0275prov=Object(r.Eb)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.Pb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(c)).\u0275fac=function(e){return new(e||h)(r.Pb(u))},h.\u0275prov=Object(r.Eb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Pb)(u))}function y(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function m(e){return e&&"?"!==e[0]?"?"+e:e}var b,_=((b=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||b)},b.\u0275prov=Object(r.Eb)({factory:w,token:b,providedIn:"root"}),b);function w(e){var t=Object(r.Pb)(u).location;return new E(Object(r.Pb)(c),t&&t.origin||"")}var C,k,S,T=new r.q("appBaseHref"),E=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return y(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(e){return new(e||S)(r.Pb(c),r.Pb(T,8))},S.\u0275prov=r.Eb({token:S,factory:S.\u0275fac}),S),O=((k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=y(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(e){return new(e||k)(r.Pb(c),r.Pb(T,8))},k.\u0275prov=r.Eb({token:k,factory:k.\u0275fac}),k),x=((C=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=g(I(o)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+m(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,I(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||C)(r.Pb(_),r.Pb(c))},C.normalizeQueryParams=m,C.joinWithSlash=y,C.stripTrailingSlash=g,C.\u0275prov=Object(r.Eb)({factory:P,token:C,providedIn:"root"}),C);function P(){return new x(Object(r.Pb)(_),Object(r.Pb)(c))}function I(e){return e.replace(/\/index.html$/,"")}var A,M,N,R=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),D=r.lb,j=function e(){_classCallCheck(this,e)},L=((A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(D(t||this.locale)(e)){case R.Zero:return"zero";case R.One:return"one";case R.Two:return"two";case R.Few:return"few";case R.Many:return"many";default:return"other"}}}]),n}(j)).\u0275fac=function(e){return new(e||A)(r.Pb(r.u))},A.\u0275prov=r.Eb({token:A,factory:A.\u0275fac}),A),F=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),U=((M=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){Object(r.T)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new F(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new q(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new q(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||M)(r.Ib(r.O),r.Ib(r.K),r.Ib(r.s))},M.\u0275dir=r.Db({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),M),q=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},V=((N=function e(){_classCallCheck(this,e)}).\u0275mod=r.Gb({type:N}),N.\u0275inj=r.Fb({factory:function(e){return new(e||N)},providers:[{provide:j,useClass:L}]}),N);function z(e){return"browser"===e}function B(e){return"server"===e}var H,G,K,W,Q,Y=((H=function e(){_classCallCheck(this,e)}).\u0275prov=Object(r.Eb)({token:H,providedIn:"root",factory:function(){return new X(Object(r.Pb)(u),window,Object(r.Pb)(r.m))}}),H),X=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(hk){this.errorHandler.handleError(hk)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),$=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=J||(J=document.querySelector("base"))?J.getAttribute("href"):null;return null==n?null:(t=n,G||(G=document.createElement("a")),G.setAttribute("href",t),"/"===G.pathname.charAt(0)?G.pathname:"/"+G.pathname)}},{key:"resetBaseElement",value:function(){J=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,o||(o=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),J=null,Z=new r.q("TRANSITION_ID"),ee=[{provide:r.d,useFactory:function(e,t,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[Z,u,r.r],multi:!0}],te=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){r.nb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},r.nb.getAllAngularRootElements=function(){return e.getAllRootElements()},r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push((function(e){var t=r.nb.getAllAngularTestabilities(),n=t.length,i=!1,o=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?a().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.V)(new e)}}]),e}(),ne=new r.q("EventManagerPlugins"),re=((K=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||K)(r.Pb(ne),r.Pb(r.z))},K.\u0275prov=r.Eb({token:K,factory:K.\u0275fac}),K),ie=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=a().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),oe=((Q=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||Q)},Q.\u0275prov=r.Eb({token:Q,factory:Q.\u0275fac}),Q),ae=((W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return a().remove(e)}))}}]),n}(oe)).\u0275fac=function(e){return new(e||W)(r.Pb(u))},W.\u0275prov=r.Eb({token:W,factory:W.\u0275fac}),W),se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ue=/%COMP%/g;function ce(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?ce(e,i,n):(i=i.replace(ue,e),n.push(i))}return n}function le(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var he,fe,de,pe,ve=((he=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ye(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new ge(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case r.P.Native:case r.P.ShadowDom:return new me(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=ce(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||he)(r.Pb(re),r.Pb(ae),r.Pb(r.c))},he.\u0275prov=r.Eb({token:he,factory:he.\u0275fac}),he),ye=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(se[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=se[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=se[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&r.F.DashCase?e.style.setProperty(t,n,i&r.F.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&r.F.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,le(n)):this.eventManager.addEventListener(e,t,le(n))}}]),e}(),ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,u=ce(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(ue,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(ue,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf2(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf2(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf2(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(ye),me=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.P.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=ce(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf2(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf2(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf2(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf2(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(ye),be=((fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(ie)).\u0275fac=function(e){return new(e||fe)(r.Pb(u))},fe.\u0275prov=r.Eb({token:fe,factory:fe.\u0275fac}),fe),_e=["alt","control","meta","shift"],we={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ce={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ke={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Se=((de=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(_e.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Ce.hasOwnProperty(t)&&(t=Ce[t]))}return we[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),_e.forEach((function(r){r!=n&&(0,ke[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(ie)).\u0275fac=function(e){return new(e||de)(r.Pb(u))},de.\u0275prov=r.Eb({token:de,factory:de.\u0275fac}),de),Te=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){$.makeCurrent(),te.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.tb)(document),document},deps:[]}],Ee=Object(r.R)(r.U,"browser",Te),Oe=[[],{provide:r.X,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:ne,useClass:be,multi:!0,deps:[u,r.z,r.B]},{provide:ne,useClass:Se,multi:!0,deps:[u]},[],{provide:ve,useClass:ve,deps:[re,ae,r.c]},{provide:r.E,useExisting:ve},{provide:oe,useExisting:ae},{provide:ae,useClass:ae,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:re,useClass:re,deps:[ne,r.z]},[]],xe=((pe=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:r.c,useValue:t.appId},{provide:Z,useExisting:r.c},ee]}}}]),e}()).\u0275mod=r.Gb({type:pe}),pe.\u0275inj=r.Fb({factory:function(e){return new(e||pe)(r.Pb(pe,12))},providers:Oe,imports:[V,r.f]}),pe);function Pe(){return new Ae(Object(r.Pb)(u))}var Ie,Ae=((Ie=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(e){this._doc.title=e||""}}]),e}()).\u0275fac=function(e){return new(e||Ie)(r.Pb(u))},Ie.\u0275prov=Object(r.Eb)({factory:Pe,token:Ie,providedIn:"root"}),Ie);"undefined"!=typeof window&&window;var Me=function e(){_classCallCheck(this,e)};function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:3,steps:e,options:t}}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function je(e){return{type:6,styles:e,offset:null}}function Le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:e}}function Ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:e,animation:t,options:n}}function qe(e){Promise.resolve(null).then(e)}var Ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;qe((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),ze=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?qe((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==a&&n._onFinish()})),e.onDestroy((function(){++i==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function Be(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function He(e){switch(e.length){case 0:return new Ve;case 1:return e[0];default:return new ze(e)}}function Ge(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach((function(e){var n=e.offset,r=n==u,l=r&&c||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),c=l,u=n})),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function Ke(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&We(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&We(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&We(n,"destroy",e))}))}}function We(e,t,n){var r=n.totalTime,i=Qe(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function Qe(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Ye(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Xe(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var $e=function(e,t){return!1},Je=function(e,t){return!1},Ze=function(e,t,n){return[]},et=Be();(et||"undefined"!=typeof Element)&&($e=function(e,t){return e.contains(t)},Je=function(){if(et||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Je}(),Ze=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var tt=null,nt=!1;function rt(e){tt||(tt=("undefined"!=typeof document?document.body:null)||{},nt=!!tt.style&&"WebkitAppearance"in tt.style);var t=!0;return tt.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in tt.style)&&nt)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in tt.style),t}var it=Je,ot=$e,at=Ze;function st(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var ut,ct=((ut=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return rt(e)}},{key:"matchesElement",value:function(e,t){return it(e,t)}},{key:"containsElement",value:function(e,t){return ot(e,t)}},{key:"query",value:function(e,t,n){return at(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new Ve(n,r)}}]),e}()).\u0275fac=function(e){return new(e||ut)},ut.\u0275prov=r.Eb({token:ut,factory:ut.\u0275fac}),ut),lt=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new ct,e}();function ht(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ft(parseFloat(t[1]),t[2])}function ft(e,t){switch(t){case"s":return 1e3*e;default:return e}}function dt(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=ft(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=ft(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function vt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else pt(e,n);return n}function yt(e,t,n){return n?t+":"+n+";":""}function gt(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=yt(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=yt(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function mt(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=Et(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),Be()&&gt(e))}function bt(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=Et(t);e.style[n]=""})),Be()&&gt(e))}function _t(e){return Array.isArray(e)?1==e.length?e[0]:De(e):e}var wt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ct(e){var t=[];if("string"==typeof e){for(var n;n=wt.exec(e);)t.push(n[1]);wt.lastIndex=0}return t}function kt(e,t,n){var r=e.toString(),i=r.replace(wt,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?e:i}function St(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Tt=/-+([a-z0-9])/g;function Et(e){return e.replace(Tt,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function Ot(e,t){return 0===e||0===t}function xt(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=It(e,t)}))},s=1;s<t.length;s++)a()}return t}function Pt(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function It(e,t){return window.getComputedStyle(e)[t]}var At=new Set(["true","1"]),Mt=new Set(["false","0"]);function Nt(e,t){var n=At.has(e)||Mt.has(e),r=At.has(t)||Mt.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?At.has(e):Mt.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?At.has(t):Mt.has(t)),a&&s}}var Rt=new RegExp("s*:selfs*,?","g");function Dt(e,t,n){return new jt(e).build(t,n)}var jt=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new Lt(t);return this._resetContextStyleTimingState(n),Pt(this,_t(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,a.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(Ft(e)){var t=e;Object.keys(t).forEach((function(e){Ct(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var a=St(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=Pt(this,_t(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(Nt(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(Nt(s,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Ut(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return Pt(n,e,t)})),options:Ut(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=Pt(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:Ut(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return qt(dt(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=qt(0,0,"");return i.dynamic=!0,i.strValue=r,i}return qt((n=n||dt(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:je({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=je(s)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=a,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(Ft(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(a=e[r],s=t.options,u=t.errors,c=s.params||{},(l=Ct(a)).length&&l.forEach((function(e){c.hasOwnProperty(e)||u.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=e.steps.map((function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(Ft(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(Ft(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return c.forEach((function(e,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:Pt(this,_t(e.animation),t),options:Ut(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Ut(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ut(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(Rt,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,Ye(t.collectedStyles,t.currentQuerySelector,{});var s=Pt(this,_t(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:Ut(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:dt(e.timings,t.errors,!0);return{type:12,animation:Pt(this,_t(e.animation),t),timings:n,options:null}}}]),e}(),Lt=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Ft(e){return!Array.isArray(e)&&"object"==typeof e}function Ut(e){var t;return e?(e=pt(e)).params&&(e.params=(t=e.params)?pt(t):null):e={},e}function qt(e,t,n){return{duration:e,delay:t,easing:n}}function Vt(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var zt=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Bt=new RegExp(":enter","g"),Ht=new RegExp(":leave","g");function Gt(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Kt).buildKeyframes(e,t,n,r,i,o,a,s,u,c)}var Kt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new zt;var l=new Qt(e,t,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),Pt(this,n,l);var h=l.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[Vt(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?ht(n.duration):null,o=null!=n.delay?ht(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Pt(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Wt);var a=ht(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return Pt(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ht(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),Pt(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return dt(t.params?kt(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ht(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wt);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(u=s.currentTimeline),Pt(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;Pt(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),Wt={},Qt=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Yt(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=ht(r.duration)),null!=r.delay&&(i.delay=ht(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=kt(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Wt,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Xt(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Bt,"."+this._enterClassName)).replace(Ht,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}}]),e}(),Yt=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):vt(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=kt(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=vt(o,!0);Object.keys(s).forEach((function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(s.offset=a/e.duration),i.push(s)}));var o=t.size?St(t.values()):[],a=n.size?St(n.values()):[];if(r){var s=i[0],u=pt(s);s.offset=0,u.offset=1,i=[s,u]}return Vt(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),e}(),Xt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=vt(e[0],!1);u.offset=0,o.push(u);var c=vt(e[0],!1);c.offset=$t(s),o.push(c);for(var l=e.length-1,h=1;h<=l;h++){var f=vt(e[h],!1);f.offset=$t((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",e=o}return Vt(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Yt);function $t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Jt=function e(){_classCallCheck(this,e)},Zt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return Et(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(en[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(Jt),en=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function tn(e,t,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var nn={},rn=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||nn,f=this.buildStyles(n,a&&a.params||nn,l),d=s&&s.params||nn,p=this.buildStyles(r,d,l),v=new Set,y=new Map,g=new Map,m="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:Gt(e,t,this.ast.animation,i,o,f,p,b,u,l),w=0;if(_.forEach((function(e){w=Math.max(e.duration+e.delay,w)})),l.length)return tn(t,this._triggerName,n,r,m,f,p,[],[],y,g,w,l);_.forEach((function(e){var n=e.element,r=Ye(y,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=Ye(g,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&v.add(n)}));var C=St(v.values());return tn(t,this._triggerName,n,r,m,f,p,_,C,y,g,w)}}]),e}(),on=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=pt(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=kt(o,r,t)),n[e]=o}))}})),n}}]),e}(),an=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new on(e.style,e.options&&e.options.params||{})})),sn(this.states,"true","1"),sn(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new rn(t,e,r.states))})),this.fallbackTransition=new rn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function sn(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var un=new zt,cn=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=Dt(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Ge(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=Gt(this._driver,t,a,"ng-enter","ng-leave",{},{},i,un,o)).forEach((function(e){var t=Ye(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var u=He(n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=u,u.onDestroy((function(){return r.destroy(e)})),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,r){var i=Qe(t,"","","");return Ke(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),ln=[],hn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=pt(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}}]),e}(),pn=new dn("void"),vn=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Cn(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=Ye(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var u=Ye(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(Cn(e,"ng-trigger"),Cn(e,"ng-trigger-"+t),u[t]=pn),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new gn(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Cn(e,"ng-trigger"),Cn(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],c=new dn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[t]=c,u||(u=pn),"void"===c.value||u.value!==c.value){var l=Ye(this._engine.playersByElement,e,[]);l.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(u.value,c.value,e,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(Cn(e,"ng-animate-queued"),a.onStart((function(){kn(e,"ng-animate-queued")}))),a.onDone((function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){bt(e,p),mt(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&He(a).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,a=t._engine.statesByElement.get(e)[i]||pn,s=new dn("void"),u=new gn(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==hn||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Cn(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==r.triggerName){var n=Qe(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,Ke(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),yn=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}},{key:"createNamespace",value:function(e,t){var n=new vn(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(mn(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(mn(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Cn(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),kn(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(mn(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return mn(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return He(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=hn,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Cn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?He(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new zt,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(e){l.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)l.add(t[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=wn(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return Cn(e,n)}))}));for(var y=[],g=new Set,m=new Set,b=0;b<this.collectedLeaveElements.length;b++){var _=this.collectedLeaveElements[b],w=_.__ng_removed;w&&w.setForRemoval&&(y.push(_),g.add(_),w.hasAnimation?this.driver.query(_,".ng-star-inserted",!0).forEach((function(e){return g.add(e)})):m.add(_))}var C=new Map,k=wn(f,Array.from(g));k.forEach((function(e,t){var n="ng-leave"+v++;C.set(t,n),e.forEach((function(e){return Cn(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return kn(e,n)}))})),k.forEach((function(e,t){var n=C.get(t);e.forEach((function(e){return kn(e,n)}))})),y.forEach((function(e){n.processLeaveNode(e)}))}));for(var S=[],T=[],E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(S.push(t),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=C.get(o),v=p.get(o),y=n._buildInstruction(e,r,v,d,f);if(y.errors&&y.errors.length)T.push(y);else{if(f)return t.onStart((function(){return bt(o,y.fromStyles)})),t.onDestroy((function(){return mt(o,y.toStyles)})),void i.push(t);if(e.isFallbackTransition)return t.onStart((function(){return bt(o,y.fromStyles)})),t.onDestroy((function(){return mt(o,y.toStyles)})),void i.push(t);y.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,y.timelines),a.push({instruction:y,player:t,element:o}),y.queriedElements.forEach((function(e){return Ye(s,e,[]).push(t)})),y.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),y.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=c.get(t);r||c.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}))}}));if(T.length){var O=[];T.forEach((function(e){O.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return O.push("- ".concat(e,"\n"))}))})),S.forEach((function(e){return e.destroy()})),this.reportError(O)}var x=new Map,P=new Map;a.forEach((function(e){var t=e.element;r.has(t)&&(P.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){Ye(x,t,[]).push(e),e.destroy()}))}));var I=y.filter((function(e){return Tn(e,u,c)})),A=new Map;_n(A,this.driver,m,c,"*").forEach((function(e){Tn(e,u,c)&&I.push(e)}));var M=new Map;d.forEach((function(e,t){_n(M,n.driver,new Set(e),u,"!")})),I.forEach((function(e){var t=A.get(e),n=M.get(e);A.set(e,Object.assign(Object.assign({},t),n))}));var N=[],R=[],D={};a.forEach((function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(l.has(t))return a.onDestroy((function(){return mt(t,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=D;if(P.size>1){for(var c=t,h=[];c=c.parentNode;){var f=P.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(e){return P.set(e,u)}))}var d=n._buildAnimation(a.namespaceId,s,x,o,M,A);if(a.setRealPlayer(d),u===D)N.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=He(p)),i.push(a)}}else bt(t,s.fromStyles),a.onDestroy((function(){return mt(t,s.toStyles)})),R.push(a),l.has(t)&&i.push(a)})),R.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=He(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var j=0;j<y.length;j++){var L=y[j],F=L.__ng_removed;if(kn(L,"ng-leave"),!F||!F.hasAnimation){var U=[];if(s.size){var q=s.get(L);q&&q.length&&U.push.apply(U,_toConsumableArray(q));for(var V=this.driver.query(L,".ng-animating",!0),z=0;z<V.length;z++){var B=s.get(V[z]);B&&B.length&&U.push.apply(U,_toConsumableArray(B))}}var H=U.filter((function(e){return!e.destroyed}));H.length?Sn(this,L,H):this.processLeaveNode(L)}}return y.length=0,N.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),N}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var u=!i||"void"==i;s.forEach((function(e){e.queued||(u||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var c=function(){var e=r.value.element,u=e!==o,c=Ye(n,e,[]);i._getPreviousPlayers(e,u,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}bt(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,u=t.element,c=[],l=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Ve(t.duration,t.delay);var p,v,y=f!==u,g=(p=(n.get(f)||ln).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof ze?e(i.players,n):n.push(i)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),m=i.get(f),b=o.get(f),_=Ge(0,a._normalizer,0,t.keyframes,m,b),w=a._buildPlayer(t,_,g);if(t.subTimeline&&r&&h.add(f),y){var C=new gn(e,s,f);C.setRealPlayer(w),c.push(C)}return w}));c.forEach((function(e){Ye(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)}))})),l.forEach((function(e){return Cn(e,"ng-animating")}));var d=He(f);return d.onDestroy((function(){l.forEach((function(e){return kn(e,"ng-animating")})),mt(u,t.toStyles)})),h.forEach((function(e){Ye(r,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Ve(e.duration,e.delay)}}]),e}(),gn=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Ve,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return Ke(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){Ye(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function mn(e){return e&&1===e.nodeType}function bn(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function _n(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(bn(e))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=fn,a.push(r))})),e.set(r,o)}));var s=0;return n.forEach((function(e){return bn(e,o[s++])})),a}function wn(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:r.has(a)?1:e(a),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function Cn(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function kn(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Sn(e,t,n){He(n).onDone((function(){return e.processLeaveNode(t)}))}function Tn(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var En=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new yn(t,n,r),this._timelineEngine=new cn(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Dt(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new an(e,t)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Xe(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Xe(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function On(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=Pn(t[0]),t.length>1&&(r=Pn(t[t.length-1]))):t&&(n=Pn(t)),n||r?new xn(e,n,r):null}var xn=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&mt(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(mt(this._element,this._initialStyles),this._endStyles&&(mt(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(bt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bt(this._element,this._endStyles),this._endStyles=null),mt(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Pn(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];In(i)&&((t=t||{})[i]=e[i])}return t}function In(e){return"display"===e||"position"===e}var An=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Ln(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),jn(e,"",t),Dn(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Mn(this._element,this._name,"paused")}},{key:"resume",value:function(){Mn(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Nn(this._element,this._name);this._position=e*this._duration,jn(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Dn(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=Ln(e,"").split(","),(r=Rn(n,t))>=0&&(n.splice(r,1),jn(e,"",n.join(","))))}}]),e}();function Mn(e,t,n){jn(e,"PlayState",n,Nn(e,t))}function Nn(e,t){var n=Ln(e,"");return n.indexOf(",")>0?Rn(n.split(","),t):Rn([n],t)}function Rn(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Dn(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function jn(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function Ln(e,t){return e.style["animation"+t]}var Fn=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new An(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:It(e.element,r))}))}this.currentSnapshot=t}}]),e}(),Un=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=st(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf2(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf2(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf2(n.prototype),"destroy",this).call(this))}}]),n}(Ve),qn=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return rt(e)}},{key:"matchesElement",value:function(e,t){return it(e,t)}},{key:"containsElement",value:function(e,t){return ot(e,t)}},{key:"query",value:function(e,t,n){return at(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return st(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof Fn})),u={};Ot(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=xt(e,t,u));if(0==n)return new Un(e,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(h);var f=On(e,t),d=new Fn(e,t,l,n,r,i,c,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),Vn=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:It(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),zn=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Bn().toString()),this._cssKeyframesDriver=new qn}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return rt(e)}},{key:"matchesElement",value:function(e,t){return it(e,t)}},{key:"containsElement",value:function(e,t){return ot(e,t)}},{key:"query",value:function(e,t,n){return at(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter((function(e){return e instanceof Vn}));Ot(n,r)&&c.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var l=On(e,t=xt(e,t=t.map((function(e){return vt(e,!1)})),u));return new Vn(e,t,s,l)}}]),e}();function Bn(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Hn,Gn=((Hn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._nextAnimationId=0,o._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?De(e):e;return Qn(this._renderer,null,t,"register",[n]),new Kn(t,this._renderer)}}]),n}(Me)).\u0275fac=function(e){return new(e||Hn)(r.Pb(r.E),r.Pb(u))},Hn.\u0275prov=r.Eb({token:Hn,factory:Hn.\u0275fac}),Hn),Kn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new Wn(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Wn=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Qn(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function Qn(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Yn,Xn,$n,Jn=((Yn=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Zn("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)})),new er(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||Yn)(r.Pb(r.E),r.Pb(En),r.Pb(r.z))},Yn.\u0275prov=r.Eb({token:Yn,factory:Yn.\u0275fac}),Yn),Zn=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),er=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,r,i,o)).factory=e,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(Zn),tr=((Xn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return n}(En)).\u0275fac=function(e){return new(e||Xn)(r.Pb(u),r.Pb(lt),r.Pb(Jt))},Xn.\u0275prov=r.Eb({token:Xn,factory:Xn.\u0275fac}),Xn),nr=[{provide:lt,useFactory:function(){return"function"==typeof Bn()?new zn:new qn}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Me,useClass:Gn},{provide:Jt,useFactory:function(){return new Zt}},{provide:En,useClass:tr},{provide:r.E,useFactory:function(e,t,n){return new Jn(e,t,n)},deps:[ve,En,r.z]}],rr=(($n=function e(){_classCallCheck(this,e)}).\u0275mod=r.Gb({type:$n}),$n.\u0275inj=r.Fb({factory:function(e){return new(e||$n)},providers:nr,imports:[xe]}),$n);function ir(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function or(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(n){void 0===e[n]?e[n]=t[n]:ir(t[n])&&ir(e[n])&&Object.keys(t[n]).length>0&&or(e[n],t[n])}))}var ar={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function sr(){var e="undefined"!=typeof document?document:{};return or(e,ar),e}var ur={document:ar,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function cr(){var e="undefined"!=typeof window?window:{};return or(e,ur),e}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(hk){return!1}}function dr(e,t,n){return(dr=fr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&hr(i,n.prototype),i}).apply(null,arguments)}function pr(e){var t="function"==typeof Map?new Map:void 0;return(pr=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return dr(e,arguments,lr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),hr(n,e)})(e)}var vr=function(e){var t,n;function r(t){var n,r,i;return r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=e.call.apply(e,[this].concat(t))||this),i=r.__proto__,Object.defineProperty(r,"__proto__",{get:function(){return i},set:function(e){i.__proto__=e}}),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(pr(Array));function yr(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,yr(e)):t.push(e)})),t}function gr(e,t){return Array.prototype.filter.call(e,t)}function mr(e,t){var n=cr(),r=sr(),i=[];if(!t&&e instanceof vr)return e;if(!e)return new vr(i);if("string"==typeof e){var o=e.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var a="div";0===o.indexOf("<li")&&(a="ul"),0===o.indexOf("<tr")&&(a="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(a="tr"),0===o.indexOf("<tbody")&&(a="table"),0===o.indexOf("<option")&&(a="select");var s=r.createElement(a);s.innerHTML=o;for(var u=0;u<s.childNodes.length;u+=1)i.push(s.childNodes[u])}else i=function(e,t){if("string"!=typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof vr)return e;i=e}return new vr(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}mr.fn=vr.prototype;var br="resize scroll".split(" ");function _r(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0===n[0]){for(var i=0;i<this.length;i+=1)br.indexOf(e)<0&&(e in this[i]?this[i][e]():mr(this[i]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}_r("click"),_r("blur"),_r("focus"),_r("focusin"),_r("focusout"),_r("keyup"),_r("keydown"),_r("keypress"),_r("submit"),_r("change"),_r("mousedown"),_r("mousemove"),_r("mouseup"),_r("mouseenter"),_r("mouseleave"),_r("mouseout"),_r("mouseover"),_r("touchstart"),_r("touchend"),_r("touchmove"),_r("resize"),_r("scroll");var wr={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=yr(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,r)})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=yr(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,r)})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=yr(t.map((function(e){return e.split(" ")})));return gr(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=yr(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),mr(t).is(i))o.apply(t,n);else for(var r=mr(t).parents(),a=0;a<r.length;a+=1)mr(r[a]).is(i)&&o.apply(r[a],n)}}function u(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),o.apply(this,t)}"function"==typeof t[1]&&(r=t[0],o=t[1],a=t[2],i=void 0),a||(a=!1);for(var c,l=r.split(" "),h=0;h<this.length;h+=1){var f=this[h];if(i)for(c=0;c<l.length;c+=1){var d=l[c];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[d]||(f.dom7LiveListeners[d]=[]),f.dom7LiveListeners[d].push({listener:o,proxyListener:s}),f.addEventListener(d,s,a)}else for(c=0;c<l.length;c+=1){var p=l[c];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[p]||(f.dom7Listeners[p]=[]),f.dom7Listeners[p].push({listener:o,proxyListener:u}),f.addEventListener(p,u,a)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];"function"==typeof t[1]&&(r=t[0],o=t[1],a=t[2],i=void 0),a||(a=!1);for(var s=r.split(" "),u=0;u<s.length;u+=1)for(var c=s[u],l=0;l<this.length;l+=1){var h=this[l],f=void 0;if(!i&&h.dom7Listeners?f=h.dom7Listeners[c]:i&&h.dom7LiveListeners&&(f=h.dom7LiveListeners[c]),f&&f.length)for(var d=f.length-1;d>=0;d-=1){var p=f[d];o&&p.listener===o||o&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===o?(h.removeEventListener(c,p.proxyListener,a),f.splice(d,1)):o||(h.removeEventListener(c,p.proxyListener,a),f.splice(d,1))}}return this},trigger:function(){for(var e=cr(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].split(" "),o=n[1],a=0;a<i.length;a+=1)for(var s=i[a],u=0;u<this.length;u+=1){var c=this[u];if(e.CustomEvent){var l=new e.CustomEvent(s,{detail:o,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(e,t){return t>0})),c.dispatchEvent(l),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=cr();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=cr(),t=sr(),n=this[0],r=n.getBoundingClientRect(),i=t.body;return{top:r.top+(n===e?e.scrollY:n.scrollTop)-(n.clientTop||i.clientTop||0),left:r.left+(n===e?e.scrollX:n.scrollLeft)-(n.clientLeft||i.clientLeft||0)}}return null},css:function(e,t){var n,r=cr();if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=cr(),i=sr(),o=this[0];if(!o||void 0===e)return!1;if("string"==typeof e){if(o.matches)return o.matches(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);for(t=mr(e),n=0;n<t.length;n+=1)if(t[n]===o)return!0;return!1}if(e===i)return o===i;if(e===r)return o===r;if(e.nodeType||e instanceof vr){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===o)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return mr([]);if(e<0){var n=t+e;return mr(n<0?[]:[this[n]])}return mr([this[e]])},append:function(){for(var e,t=sr(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"==typeof e){var i=t.createElement("div");for(i.innerHTML=e;i.firstChild;)this[r].appendChild(i.firstChild)}else if(e instanceof vr)for(var o=0;o<e.length;o+=1)this[r].appendChild(e[o]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=sr();for(t=0;t<this.length;t+=1)if("string"==typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof vr)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&mr(this[0].nextElementSibling).is(e)?mr([this[0].nextElementSibling]):mr([]):mr(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):mr([])},nextAll:function(e){var t=[],n=this[0];if(!n)return mr([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?mr(r).is(e)&&t.push(r):t.push(r),n=r}return mr(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&mr(t.previousElementSibling).is(e)?mr([t.previousElementSibling]):mr([]):mr(t.previousElementSibling?[t.previousElementSibling]:[])}return mr([])},prevAll:function(e){var t=[],n=this[0];if(!n)return mr([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?mr(r).is(e)&&t.push(r):t.push(r),n=r}return mr(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?mr(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return mr(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?mr(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return mr(t)},closest:function(e){var t=this;return void 0===e?mr([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return mr(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e&&!mr(r[i]).is(e)||t.push(r[i]);return mr(t)},filter:function(e){return mr(gr(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(wr).forEach((function(e){Object.defineProperty(mr.fn,e,{value:wr[e],writable:!0})}));var Cr,kr,Sr,Tr=mr;function Er(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Or(){return Date.now()}function xr(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Pr(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(null!=r)for(var i=Object.keys(Object(r)).filter((function(e){return t.indexOf(e)<0})),o=0,a=i.length;o<a;o+=1){var s=i[o],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(xr(e[s])&&xr(r[s])?r[s].__swiper__?e[s]=r[s]:Pr(e[s],r[s]):!xr(e[s])&&xr(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:Pr(e[s],r[s])):e[s]=r[s])}}return e}function Ir(e,t){Object.keys(t).forEach((function(n){xr(t[n])&&Object.keys(t[n]).forEach((function(r){"function"==typeof t[n][r]&&(t[n][r]=t[n][r].bind(e))})),e[n]=t[n]}))}function Ar(){return Cr||(Cr=function(){var e=cr(),t=sr();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(hk){}return t}(),gestures:"ongesturestart"in e}}()),Cr}function Mr(e){return void 0===e&&(e={}),kr||(kr=function(e){var t=(void 0===e?{}:e).userAgent,n=Ar(),r=cr(),i=r.navigator.platform,o=t||r.navigator.userAgent,a={ios:!1,android:!1},s=r.screen.width,u=r.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/),l=o.match(/(iPad).*OS\s([\d_]+)/),h=o.match(/(iPod)(.*OS\s([\d_]+))?/),f=!l&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===i,p="MacIntel"===i;return!l&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(s+"x"+u)>=0&&((l=o.match(/(Version)\/([\d.]+)/))||(l=[0,1,"13_0_0"]),p=!1),c&&!d&&(a.os="android",a.android=!0),(l||f||h)&&(a.os="ios",a.ios=!0),a}(e)),kr}function Nr(){return Sr||(Sr=function(){var e,t=cr();return{isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),Sr}var Rr={name:"resize",create:function(){var e=this;Pr(e,{resize:{observer:null,createObserver:function(){e&&!e.destroyed&&e.initialized&&(e.resize.observer=new ResizeObserver((function(t){var n=e.width,r=e.height,i=n,o=r;t.forEach((function(t){var n=t.contentBoxSize,r=t.contentRect,a=t.target;a&&a!==e.el||(i=r?r.width:(n[0]||n).inlineSize,o=r?r.height:(n[0]||n).blockSize)})),i===n&&o===r||e.resize.resizeHandler()})),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=cr();e.params.resizeObserver&&void 0!==cr().ResizeObserver?e.resize.createObserver():(t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var t=cr();e.resize.removeObserver(),t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}};function Dr(){return(Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var jr={attach:function(e,t){void 0===t&&(t={});var n=cr(),r=this,i=new(n.MutationObserver||n.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){r.emit("observerUpdate",e[0])};n.requestAnimationFrame?n.requestAnimationFrame(t):n.setTimeout(t,0)}else r.emit("observerUpdate",e[0])}));i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),r.observer.observers.push(i)},init:function(){if(this.support.observer&&this.params.observer){if(this.params.observeParents)for(var e=this.$el.parents(),t=0;t<e.length;t+=1)this.observer.attach(e[t]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(e){e.disconnect()})),this.observer.observers=[]}},Lr={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){Ir(this,{observer:Dr({},jr,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}};function Fr(e){var t=sr(),n=cr(),r=this.touchEventsData,i=this.params,o=this.touches;if(!this.animating||!i.preventInteractionOnTransition){var a=e;a.originalEvent&&(a=a.originalEvent);var s=Tr(a.target);if(("wrapper"!==i.touchEventsTarget||s.closest(this.wrapperEl).length)&&(r.isTouchEvent="touchstart"===a.type,(r.isTouchEvent||!("which"in a)||3!==a.which)&&!(!r.isTouchEvent&&"button"in a&&a.button>0||r.isTouched&&r.isMoved)))if(!!i.noSwipingClass&&""!==i.noSwipingClass&&a.target&&a.target.shadowRoot&&e.path&&e.path[0]&&(s=Tr(e.path[0])),i.noSwiping&&s.closest(i.noSwipingSelector?i.noSwipingSelector:"."+i.noSwipingClass)[0])this.allowClick=!0;else if(!i.swipeHandler||s.closest(i.swipeHandler)[0]){o.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,o.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;var u=o.currentX,c=o.currentY,l=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,h=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(l&&(u<=h||u>=n.innerWidth-h)){if("prevent"!==l)return;e.preventDefault()}if(Pr(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=u,o.startY=c,r.touchStartTime=Or(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,i.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==a.type){var f=!0;s.is(r.formElements)&&(f=!1),t.activeElement&&Tr(t.activeElement).is(r.formElements)&&t.activeElement!==s[0]&&t.activeElement.blur(),!i.touchStartForcePreventDefault&&!(f&&this.allowTouchMove&&i.touchStartPreventDefault)||s[0].isContentEditable||a.preventDefault()}this.emit("touchStart",a)}}}function Ur(e){var t=sr(),n=this.touchEventsData,r=this.params,i=this.touches,o=this.rtlTranslate,a=e;if(a.originalEvent&&(a=a.originalEvent),n.isTouched){if(!n.isTouchEvent||"touchmove"===a.type){var s="touchmove"===a.type&&a.targetTouches&&(a.targetTouches[0]||a.changedTouches[0]),u="touchmove"===a.type?s.pageX:a.pageX,c="touchmove"===a.type?s.pageY:a.pageY;if(a.preventedByNestedSwiper)return i.startX=u,void(i.startY=c);if(!this.allowTouchMove)return this.allowClick=!1,void(n.isTouched&&(Pr(i,{startX:u,startY:c,currentX:u,currentY:c}),n.touchStartTime=Or()));if(n.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(this.isVertical()){if(c<i.startY&&this.translate<=this.maxTranslate()||c>i.startY&&this.translate>=this.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(u<i.startX&&this.translate<=this.maxTranslate()||u>i.startX&&this.translate>=this.minTranslate())return;if(n.isTouchEvent&&t.activeElement&&a.target===t.activeElement&&Tr(a.target).is(n.formElements))return n.isMoved=!0,void(this.allowClick=!1);if(n.allowTouchCallbacks&&this.emit("touchMove",a),!(a.targetTouches&&a.targetTouches.length>1)){i.currentX=u,i.currentY=c;var l,h=i.currentX-i.startX,f=i.currentY-i.startY;if(!(this.params.threshold&&Math.sqrt(Math.pow(h,2)+Math.pow(f,2))<this.params.threshold))if(void 0===n.isScrolling&&(this.isHorizontal()&&i.currentY===i.startY||this.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:h*h+f*f>=25&&(l=180*Math.atan2(Math.abs(f),Math.abs(h))/Math.PI,n.isScrolling=this.isHorizontal()?l>r.touchAngle:90-l>r.touchAngle)),n.isScrolling&&this.emit("touchMoveOpposite",a),void 0===n.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(n.startMoving=!0)),n.isScrolling)n.isTouched=!1;else if(n.startMoving){this.allowClick=!1,!r.cssMode&&a.cancelable&&a.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&a.stopPropagation(),n.isMoved||(r.loop&&this.loopFix(),n.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!r.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",a)),this.emit("sliderMove",a),n.isMoved=!0;var d=this.isHorizontal()?h:f;i.diff=d,d*=r.touchRatio,o&&(d=-d),this.swipeDirection=d>0?"prev":"next",n.currentTranslate=d+n.startTranslate;var p=!0,v=r.resistanceRatio;if(r.touchReleaseOnEdges&&(v=0),d>0&&n.currentTranslate>this.minTranslate()?(p=!1,r.resistance&&(n.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+n.startTranslate+d,v))):d<0&&n.currentTranslate<this.maxTranslate()&&(p=!1,r.resistance&&(n.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-n.startTranslate-d,v))),p&&(a.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),this.allowSlidePrev||this.allowSlideNext||(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(d)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,void(i.diff=this.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}r.followFinger&&!r.cssMode&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),r.freeMode&&(0===n.velocities.length&&n.velocities.push({position:i[this.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:i[this.isHorizontal()?"currentX":"currentY"],time:Or()})),this.updateProgress(n.currentTranslate),this.setTranslate(n.currentTranslate))}}}}else n.startMoving&&n.isScrolling&&this.emit("touchMoveOpposite",a)}function qr(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,o=t.rtlTranslate,a=t.$wrapperEl,s=t.slidesGrid,u=t.snapGrid,c=e;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var l,h=Or(),f=h-n.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(c),t.emit("tap click",c),f<300&&h-n.lastClickTime<300&&t.emit("doubleTap doubleClick",c)),n.lastClickTime=Or(),Er((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,l=r.followFinger?o?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(r.freeMode){if(l<-t.minTranslate())return void t.slideTo(t.activeIndex);if(l>-t.maxTranslate())return void t.slideTo(t.slides.length<u.length?u.length-1:t.slides.length-1);if(r.freeModeMomentum){if(n.velocities.length>1){var d=n.velocities.pop(),p=n.velocities.pop(),v=d.time-p.time;t.velocity=(d.position-p.position)/v,t.velocity/=2,Math.abs(t.velocity)<r.freeModeMinimumVelocity&&(t.velocity=0),(v>150||Or()-d.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var y=1e3*r.freeModeMomentumRatio,g=t.translate+t.velocity*y;o&&(g=-g);var m,b,_=!1,w=20*Math.abs(t.velocity)*r.freeModeMomentumBounceRatio;if(g<t.maxTranslate())r.freeModeMomentumBounce?(g+t.maxTranslate()<-w&&(g=t.maxTranslate()-w),m=t.maxTranslate(),_=!0,n.allowMomentumBounce=!0):g=t.maxTranslate(),r.loop&&r.centeredSlides&&(b=!0);else if(g>t.minTranslate())r.freeModeMomentumBounce?(g-t.minTranslate()>w&&(g=t.minTranslate()+w),m=t.minTranslate(),_=!0,n.allowMomentumBounce=!0):g=t.minTranslate(),r.loop&&r.centeredSlides&&(b=!0);else if(r.freeModeSticky){for(var C,k=0;k<u.length;k+=1)if(u[k]>-g){C=k;break}g=-(g=Math.abs(u[C]-g)<Math.abs(u[C-1]-g)||"next"===t.swipeDirection?u[C]:u[C-1])}if(b&&t.once("transitionEnd",(function(){t.loopFix()})),0!==t.velocity){if(y=o?Math.abs((-g-t.translate)/t.velocity):Math.abs((g-t.translate)/t.velocity),r.freeModeSticky){var S=Math.abs((o?-g:g)-t.translate),T=t.slidesSizesGrid[t.activeIndex];y=S<T?r.speed:S<2*T?1.5*r.speed:2.5*r.speed}}else if(r.freeModeSticky)return void t.slideToClosest();r.freeModeMomentumBounce&&_?(t.updateProgress(m),t.setTransition(y),t.setTranslate(g),t.transitionStart(!0,t.swipeDirection),t.animating=!0,a.transitionEnd((function(){t&&!t.destroyed&&n.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(r.speed),setTimeout((function(){t.setTranslate(m),a.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(t.updateProgress(g),t.setTransition(y),t.setTranslate(g),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,a.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):(t.emit("_freeModeNoMomentumRelease"),t.updateProgress(g)),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(r.freeModeSticky)return void t.slideToClosest();r.freeMode&&t.emit("_freeModeNoMomentumRelease")}(!r.freeModeMomentum||f>=r.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var E=0,O=t.slidesSizesGrid[0],x=0;x<s.length;x+=x<r.slidesPerGroupSkip?1:r.slidesPerGroup){var P=x<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==s[x+P]?l>=s[x]&&l<s[x+P]&&(E=x,O=s[x+P]-s[x]):l>=s[x]&&(E=x,O=s[s.length-1]-s[s.length-2])}var I=(l-s[E])/O,A=E<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(f>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(I>=r.longSwipesRatio?E+A:E),"prev"===t.swipeDirection&&t.slideTo(I>1-r.longSwipesRatio?E+A:E)}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||c.target!==t.navigation.nextEl&&c.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(E+A),"prev"===t.swipeDirection&&t.slideTo(E)):t.slideTo(c.target===t.navigation.nextEl?E+A:E)}}}function Vr(){var e=this.params,t=this.el;if(!t||0!==t.offsetWidth){e.breakpoints&&this.setBreakpoint();var n=this.allowSlideNext,r=this.allowSlidePrev,i=this.snapGrid;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),this.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&this.isEnd&&!this.isBeginning&&!this.params.centeredSlides?this.slides.length-1:this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=r,this.allowSlideNext=n,this.params.watchOverflow&&i!==this.snapGrid&&this.checkOverflow()}}function zr(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function Br(){var e=this.wrapperEl,t=this.rtlTranslate;this.previousTranslate=this.translate,this.translate=this.isHorizontal()?t?e.scrollWidth-e.offsetWidth-e.scrollLeft:-e.scrollLeft:-e.scrollTop,-0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();var n=this.maxTranslate()-this.minTranslate();(0===n?0:(this.translate-this.minTranslate())/n)!==this.progress&&this.updateProgress(t?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}var Hr=!1;function Gr(){}var Kr={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};var Wr={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=t.modules[n];r.params&&Pr(e,r.params)}))},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=t.modules[n],i=e[n]||{};r.on&&t.on&&Object.keys(r.on).forEach((function(e){t.on(e,r.on[e])})),r.create&&r.create.bind(t)(i)}))}},eventsEmitter:{on:function(e,t,n){var r=this;if("function"!=typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if("function"!=typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];t.apply(r,o)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){if("function"!=typeof e)return this;var n=t?"unshift":"push";return this.eventsAnyListeners.indexOf(e)<0&&this.eventsAnyListeners[n](e),this},offAny:function(e){if(!this.eventsAnyListeners)return this;var t=this.eventsAnyListeners.indexOf(e);return t>=0&&this.eventsAnyListeners.splice(t,1),this},off:function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners)return r;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];"string"==typeof o[0]||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),n=r):(e=o[0].events,t=o[0].data,n=o[0].context||r),t.unshift(n);var s=Array.isArray(e)?e:e.split(" ");return s.forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat(t))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}},update:{updateSize:function(){var e,t,n=this.$el;t=null!=this.params.height?this.params.height:n[0].clientHeight,0===(e=null!=this.params.width?this.params.width:n[0].clientWidth)&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),t=t-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Pr(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){var e=this,t=function(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]},n=function(e,n){return parseFloat(e.getPropertyValue(t(n))||0)},r=e.params,i=e.$wrapperEl,o=e.size,a=e.rtlTranslate,s=e.wrongRTL,u=e.virtual&&r.virtual.enabled,c=u?e.virtual.slides.length:e.slides.length,l=i.children("."+e.params.slideClass),h=u?e.virtual.slides.length:l.length,f=[],d=[],p=[],v=r.slidesOffsetBefore;"function"==typeof v&&(v=r.slidesOffsetBefore.call(e));var y=r.slidesOffsetAfter;"function"==typeof y&&(y=r.slidesOffsetAfter.call(e));var g=e.snapGrid.length,m=e.slidesGrid.length,b=r.spaceBetween,_=-v,w=0,C=0;if(void 0!==o){var k,S;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*o),e.virtualSize=-b,l.css(a?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""}),r.slidesPerColumn>1&&(k=Math.floor(h/r.slidesPerColumn)===h/e.params.slidesPerColumn?h:Math.ceil(h/r.slidesPerColumn)*r.slidesPerColumn,"auto"!==r.slidesPerView&&"row"===r.slidesPerColumnFill&&(k=Math.max(k,r.slidesPerView*r.slidesPerColumn)));for(var T,E,O,x=r.slidesPerColumn,P=k/x,I=Math.floor(h/r.slidesPerColumn),A=0;A<h;A+=1){S=0;var M=l.eq(A);if(r.slidesPerColumn>1){var N=void 0,R=void 0,D=void 0;if("row"===r.slidesPerColumnFill&&r.slidesPerGroup>1){var j=Math.floor(A/(r.slidesPerGroup*r.slidesPerColumn)),L=A-r.slidesPerColumn*r.slidesPerGroup*j,F=0===j?r.slidesPerGroup:Math.min(Math.ceil((h-j*x*r.slidesPerGroup)/x),r.slidesPerGroup);D=Math.floor(L/F),M.css({"-webkit-box-ordinal-group":N=(R=L-D*F+j*r.slidesPerGroup)+D*k/x,"-moz-box-ordinal-group":N,"-ms-flex-order":N,"-webkit-order":N,order:N})}else"column"===r.slidesPerColumnFill?(D=A-(R=Math.floor(A/x))*x,(R>I||R===I&&D===x-1)&&(D+=1)>=x&&(D=0,R+=1)):R=A-(D=Math.floor(A/P))*P;M.css(t("margin-top"),0!==D&&r.spaceBetween&&r.spaceBetween+"px")}if("none"!==M.css("display")){if("auto"===r.slidesPerView){var U=getComputedStyle(M[0]),q=M[0].style.transform,V=M[0].style.webkitTransform;if(q&&(M[0].style.transform="none"),V&&(M[0].style.webkitTransform="none"),r.roundLengths)S=e.isHorizontal()?M.outerWidth(!0):M.outerHeight(!0);else{var z=n(U,"width"),B=n(U,"padding-left"),H=n(U,"padding-right"),G=n(U,"margin-left"),K=n(U,"margin-right"),W=U.getPropertyValue("box-sizing");if(W&&"border-box"===W)S=z+G+K;else{var Q=M[0];S=z+B+H+G+K+(Q.offsetWidth-Q.clientWidth)}}q&&(M[0].style.transform=q),V&&(M[0].style.webkitTransform=V),r.roundLengths&&(S=Math.floor(S))}else S=(o-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),l[A]&&(l[A].style[t("width")]=S+"px");l[A]&&(l[A].swiperSlideSize=S),p.push(S),r.centeredSlides?(_=_+S/2+w/2+b,0===w&&0!==A&&(_=_-o/2-b),0===A&&(_=_-o/2-b),Math.abs(_)<.001&&(_=0),r.roundLengths&&(_=Math.floor(_)),C%r.slidesPerGroup==0&&f.push(_),d.push(_)):(r.roundLengths&&(_=Math.floor(_)),(C-Math.min(e.params.slidesPerGroupSkip,C))%e.params.slidesPerGroup==0&&f.push(_),d.push(_),_=_+S+b),e.virtualSize+=S+b,w=S,C+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+y,a&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:e.virtualSize+r.spaceBetween+"px"}),r.setWrapperSize&&i.css(((E={})[t("width")]=e.virtualSize+r.spaceBetween+"px",E)),r.slidesPerColumn>1&&(e.virtualSize=(S+r.spaceBetween)*k,e.virtualSize=Math.ceil(e.virtualSize/r.slidesPerColumn)-r.spaceBetween,i.css(((O={})[t("width")]=e.virtualSize+r.spaceBetween+"px",O)),r.centeredSlides)){T=[];for(var Y=0;Y<f.length;Y+=1){var X=f[Y];r.roundLengths&&(X=Math.floor(X)),f[Y]<e.virtualSize+f[0]&&T.push(X)}f=T}if(!r.centeredSlides){T=[];for(var $=0;$<f.length;$+=1){var J=f[$];r.roundLengths&&(J=Math.floor(J)),f[$]<=e.virtualSize-o&&T.push(J)}f=T,Math.floor(e.virtualSize-o)-Math.floor(f[f.length-1])>1&&f.push(e.virtualSize-o)}if(0===f.length&&(f=[0]),0!==r.spaceBetween){var Z,ee=e.isHorizontal()&&a?"marginLeft":t("marginRight");l.filter((function(e,t){return!r.cssMode||t!==l.length-1})).css(((Z={})[ee]=b+"px",Z))}if(r.centeredSlides&&r.centeredSlidesBounds){var te=0;p.forEach((function(e){te+=e+(r.spaceBetween?r.spaceBetween:0)}));var ne=(te-=r.spaceBetween)-o;f=f.map((function(e){return e<0?-v:e>ne?ne+y:e}))}if(r.centerInsufficientSlides){var re=0;if(p.forEach((function(e){re+=e+(r.spaceBetween?r.spaceBetween:0)})),(re-=r.spaceBetween)<o){var ie=(o-re)/2;f.forEach((function(e,t){f[t]=e-ie})),d.forEach((function(e,t){d[t]=e+ie}))}}Pr(e,{slides:l,snapGrid:f,slidesGrid:d,slidesSizesGrid:p}),h!==c&&e.emit("slidesLengthChange"),f.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),d.length!==m&&e.emit("slidesGridLengthChange"),(r.watchSlidesProgress||r.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,n=[],r=0;if("number"==typeof e?this.setTransition(e):!0===e&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)if(this.params.centeredSlides)this.visibleSlides.each((function(e){n.push(e)}));else for(t=0;t<Math.ceil(this.params.slidesPerView);t+=1){var i=this.activeIndex+t;if(i>this.slides.length)break;n.push(this.slides.eq(i)[0])}else n.push(this.slides.eq(this.activeIndex)[0]);for(t=0;t<n.length;t+=1)if(void 0!==n[t]){var o=n[t].offsetHeight;r=o>r?o:r}r&&this.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this.params,n=this.slides,r=this.rtlTranslate;if(0!==n.length){void 0===n[0].swiperSlideOffset&&this.updateSlidesOffset();var i=-e;r&&(i=e),n.removeClass(t.slideVisibleClass),this.visibleSlidesIndexes=[],this.visibleSlides=[];for(var o=0;o<n.length;o+=1){var a=n[o],s=(i+(t.centeredSlides?this.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility||t.centeredSlides&&t.autoHeight){var u=-(i-a.swiperSlideOffset),c=u+this.slidesSizesGrid[o];(u>=0&&u<this.size-1||c>1&&c<=this.size||u<=0&&c>=this.size)&&(this.visibleSlides.push(a),this.visibleSlidesIndexes.push(o),n.eq(o).addClass(t.slideVisibleClass))}a.progress=r?-s:s}this.visibleSlides=Tr(this.visibleSlides)}},updateProgress:function(e){void 0===e&&(e=this&&this.translate&&this.translate*(this.rtlTranslate?-1:1)||0);var t=this.params,n=this.maxTranslate()-this.minTranslate(),r=this.progress,i=this.isBeginning,o=this.isEnd,a=i,s=o;0===n?(r=0,i=!0,o=!0):(i=(r=(e-this.minTranslate())/n)<=0,o=r>=1),Pr(this,{progress:r,isBeginning:i,isEnd:o}),(t.watchSlidesProgress||t.watchSlidesVisibility||t.centeredSlides&&t.autoHeight)&&this.updateSlidesProgress(e),i&&!a&&this.emit("reachBeginning toEdge"),o&&!s&&this.emit("reachEnd toEdge"),(a&&!i||s&&!o)&&this.emit("fromEdge"),this.emit("progress",r)},updateSlidesClasses:function(){var e,t=this.slides,n=this.params,r=this.$wrapperEl,i=this.activeIndex,o=this.realIndex,a=this.virtual&&n.virtual.enabled;t.removeClass(n.slideActiveClass+" "+n.slideNextClass+" "+n.slidePrevClass+" "+n.slideDuplicateActiveClass+" "+n.slideDuplicateNextClass+" "+n.slideDuplicatePrevClass),(e=a?this.$wrapperEl.find("."+n.slideClass+'[data-swiper-slide-index="'+i+'"]'):t.eq(i)).addClass(n.slideActiveClass),n.loop&&(e.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass));var s=e.nextAll("."+n.slideClass).eq(0).addClass(n.slideNextClass);n.loop&&0===s.length&&(s=t.eq(0)).addClass(n.slideNextClass);var u=e.prevAll("."+n.slideClass).eq(0).addClass(n.slidePrevClass);n.loop&&0===u.length&&(u=t.eq(-1)).addClass(n.slidePrevClass),n.loop&&(s.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass)),this.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this.rtlTranslate?this.translate:-this.translate,r=this.slidesGrid,i=this.snapGrid,o=this.params,a=this.activeIndex,s=this.realIndex,u=this.snapIndex,c=e;if(void 0===c){for(var l=0;l<r.length;l+=1)void 0!==r[l+1]?n>=r[l]&&n<r[l+1]-(r[l+1]-r[l])/2?c=l:n>=r[l]&&n<r[l+1]&&(c=l+1):n>=r[l]&&(c=l);o.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}if(i.indexOf(n)>=0)t=i.indexOf(n);else{var h=Math.min(o.slidesPerGroupSkip,c);t=h+Math.floor((c-h)/o.slidesPerGroup)}if(t>=i.length&&(t=i.length-1),c!==a){var f=parseInt(this.slides.eq(c).attr("data-swiper-slide-index")||c,10);Pr(this,{snapIndex:t,realIndex:f,previousIndex:a,activeIndex:c}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),s!==f&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")}else t!==u&&(this.snapIndex=t,this.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this.params,r=Tr(e.target).closest("."+n.slideClass)[0],i=!1;if(r)for(var o=0;o<this.slides.length;o+=1)if(this.slides[o]===r){i=!0,t=o;break}if(!r||!i)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=r,this.clickedIndex=this.virtual&&this.params.virtual.enabled?parseInt(Tr(r).attr("data-swiper-slide-index"),10):t,n.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this.params,n=this.rtlTranslate,r=this.translate;if(t.virtualTranslate)return n?-r:r;if(t.cssMode)return r;var i=function(e,t){void 0===t&&(t="x");var n,r,i,o=cr(),a=function(e){var t,n=cr();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return o.WebKitCSSMatrix?((r=a.transform||a.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),i=new o.WebKitCSSMatrix("none"===r?"":r)):n=(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=o.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=o.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}(this.$wrapperEl[0],e);return n&&(i=-i),i||0},setTranslate:function(e,t){var n=this.rtlTranslate,r=this.params,i=this.$wrapperEl,o=this.wrapperEl,a=this.progress,s=0,u=0;this.isHorizontal()?s=n?-e:e:u=e,r.roundLengths&&(s=Math.floor(s),u=Math.floor(u)),r.cssMode?o[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-s:-u:r.virtualTranslate||i.transform("translate3d("+s+"px, "+u+"px, 0px)"),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?s:u;var c=this.maxTranslate()-this.minTranslate();(0===c?0:(e-this.minTranslate())/c)!==a&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var o=this,a=o.params,s=o.wrapperEl;if(o.animating&&a.preventInteractionOnTransition)return!1;var u,c=o.minTranslate(),l=o.maxTranslate();if(o.updateProgress(u=r&&e>c?c:r&&e<l?l:e),a.cssMode){var h,f=o.isHorizontal();return 0===t?s[f?"scrollLeft":"scrollTop"]=-u:s.scrollTo?s.scrollTo(((h={})[f?"left":"top"]=-u,h.behavior="smooth",h)):s[f?"scrollLeft":"scrollTop"]=-u,!0}return 0===t?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){this.params.cssMode||this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this.activeIndex,r=this.params,i=this.previousIndex;if(!r.cssMode){r.autoHeight&&this.updateAutoHeight();var o=t;if(o||(o=n>i?"next":n<i?"prev":"reset"),this.emit("transitionStart"),e&&n!==i){if("reset"===o)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),this.emit("next"===o?"slideNextTransitionStart":"slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this.activeIndex,r=this.previousIndex,i=this.params;if(this.animating=!1,!i.cssMode){this.setTransition(0);var o=t;if(o||(o=n>r?"next":n<r?"prev":"reset"),this.emit("transitionEnd"),e&&n!==r){if("reset"===o)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),this.emit("next"===o?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}}},slide:{slideTo:function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var i=parseInt(e,10);if(!isFinite(i))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=i}var o=this,a=e;a<0&&(a=0);var s=o.params,u=o.snapGrid,c=o.slidesGrid,l=o.previousIndex,h=o.activeIndex,f=o.rtlTranslate,d=o.wrapperEl;if(o.animating&&s.preventInteractionOnTransition)return!1;var p=Math.min(o.params.slidesPerGroupSkip,a),v=p+Math.floor((a-p)/o.params.slidesPerGroup);v>=u.length&&(v=u.length-1),(h||s.initialSlide||0)===(l||0)&&n&&o.emit("beforeSlideChangeStart");var y,g=-u[v];if(o.updateProgress(g),s.normalizeSlideIndex)for(var m=0;m<c.length;m+=1){var b=-Math.floor(100*g),_=Math.floor(100*c[m]),w=Math.floor(100*c[m+1]);void 0!==c[m+1]?b>=_&&b<w-(w-_)/2?a=m:b>=_&&b<w&&(a=m+1):b>=_&&(a=m)}if(o.initialized&&a!==h){if(!o.allowSlideNext&&g<o.translate&&g<o.minTranslate())return!1;if(!o.allowSlidePrev&&g>o.translate&&g>o.maxTranslate()&&(h||0)!==a)return!1}if(y=a>h?"next":a<h?"prev":"reset",f&&-g===o.translate||!f&&g===o.translate)return o.updateActiveIndex(a),s.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==s.effect&&o.setTranslate(g),"reset"!==y&&(o.transitionStart(n,y),o.transitionEnd(n,y)),!1;if(s.cssMode){var C,k=o.isHorizontal(),S=-g;return f&&(S=d.scrollWidth-d.offsetWidth-S),0===t?d[k?"scrollLeft":"scrollTop"]=S:d.scrollTo?d.scrollTo(((C={})[k?"left":"top"]=S,C.behavior="smooth",C)):d[k?"scrollLeft":"scrollTop"]=S,!0}return 0===t?(o.setTransition(0),o.setTranslate(g),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,y),o.transitionEnd(n,y)):(o.setTransition(t),o.setTranslate(g),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,y),o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,y))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0);var i=e;return this.params.loop&&(i+=this.loopedSlides),this.slideTo(i,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this.params,i=this.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(this.animating&&r.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}return this.slideTo(this.activeIndex+i,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this.params,i=this.snapGrid,o=this.slidesGrid,a=this.rtlTranslate;if(r.loop){if(this.animating&&r.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}function s(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var u,c=s(a?this.translate:-this.translate),l=i.map((function(e){return s(e)})),h=(l.indexOf(c),i[l.indexOf(c)-1]);return void 0===h&&r.cssMode&&i.forEach((function(e){!h&&c>=e&&(h=e)})),void 0!==h&&(u=o.indexOf(h))<0&&(u=this.activeIndex-1),this.slideTo(u,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var i=this.activeIndex,o=Math.min(this.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/this.params.slidesPerGroup),s=this.rtlTranslate?this.translate:-this.translate;if(s>=this.snapGrid[a]){var u=this.snapGrid[a];s-u>(this.snapGrid[a+1]-u)*r&&(i+=this.params.slidesPerGroup)}else{var c=this.snapGrid[a-1];s-c<=(this.snapGrid[a]-c)*r&&(i-=this.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,this.slidesGrid.length-1),this.slideTo(i,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,o=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(Tr(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<t.loopedSlides-i/2||o>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),o=r.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),Er((function(){t.slideTo(o)}))):t.slideTo(o):o>t.slides.length-i?(t.loopFix(),o=r.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),Er((function(){t.slideTo(o)}))):t.slideTo(o)}else t.slideTo(o)}},loop:{loopCreate:function(){var e=this,t=sr(),n=e.params,r=e.$wrapperEl;r.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var i=r.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-i.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var a=0;a<o;a+=1){var s=Tr(t.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);r.append(s)}i=r.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>i.length&&(e.loopedSlides=i.length);var u=[],c=[];i.each((function(t,n){var r=Tr(t);n<e.loopedSlides&&c.push(t),n<i.length&&n>=i.length-e.loopedSlides&&u.push(t),r.attr("data-swiper-slide-index",n)}));for(var l=0;l<c.length;l+=1)r.append(Tr(c[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var h=u.length-1;h>=0;h-=1)r.prepend(Tr(u[h].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");var e,t=this.activeIndex,n=this.slides,r=this.loopedSlides,i=this.allowSlidePrev,o=this.allowSlideNext,a=this.snapGrid,s=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var u=-a[t]-this.getTranslate();t<r?(e=n.length-3*r+t,this.slideTo(e+=r,0,!1,!0)&&0!==u&&this.setTranslate((s?-this.translate:this.translate)-u)):t>=n.length-r&&(e=-n.length+t+r,this.slideTo(e+=r,0,!1,!0)&&0!==u&&this.setTranslate((s?-this.translate:this.translate)-u)),this.allowSlidePrev=i,this.allowSlideNext=o,this.emit("loopFix")},loopDestroy:function(){var e=this.params,t=this.slides;this.$wrapperEl.children("."+e.slideClass+"."+e.slideDuplicateClass+",."+e.slideClass+"."+e.slideBlankClass).remove(),t.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){if(!(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}},manipulation:{appendSlide:function(e){var t=this.$wrapperEl,n=this.params;if(n.loop&&this.loopDestroy(),"object"==typeof e&&"length"in e)for(var r=0;r<e.length;r+=1)e[r]&&t.append(e[r]);else t.append(e);n.loop&&this.loopCreate(),n.observer&&this.support.observer||this.update()},prependSlide:function(e){var t=this.params,n=this.$wrapperEl,r=this.activeIndex;t.loop&&this.loopDestroy();var i=r+1;if("object"==typeof e&&"length"in e){for(var o=0;o<e.length;o+=1)e[o]&&n.prepend(e[o]);i=r+e.length}else n.prepend(e);t.loop&&this.loopCreate(),t.observer&&this.support.observer||this.update(),this.slideTo(i,0,!1)},addSlide:function(e,t){var n=this.$wrapperEl,r=this.params,i=this.activeIndex;r.loop&&(i-=this.loopedSlides,this.loopDestroy(),this.slides=n.children("."+r.slideClass));var o=this.slides.length;if(e<=0)this.prependSlide(t);else if(e>=o)this.appendSlide(t);else{for(var a=i>e?i+1:i,s=[],u=o-1;u>=e;u-=1){var c=this.slides.eq(u);c.remove(),s.unshift(c)}if("object"==typeof t&&"length"in t){for(var l=0;l<t.length;l+=1)t[l]&&n.append(t[l]);a=i>e?i+t.length:i}else n.append(t);for(var h=0;h<s.length;h+=1)n.append(s[h]);r.loop&&this.loopCreate(),r.observer&&this.support.observer||this.update(),this.slideTo(r.loop?a+this.loopedSlides:a,0,!1)}},removeSlide:function(e){var t=this.params,n=this.$wrapperEl,r=this.activeIndex;t.loop&&(r-=this.loopedSlides,this.loopDestroy(),this.slides=n.children("."+t.slideClass));var i,o=r;if("object"==typeof e&&"length"in e){for(var a=0;a<e.length;a+=1)this.slides[i=e[a]]&&this.slides.eq(i).remove(),i<o&&(o-=1);o=Math.max(o,0)}else this.slides[i=e]&&this.slides.eq(i).remove(),i<o&&(o-=1),o=Math.max(o,0);t.loop&&this.loopCreate(),t.observer&&this.support.observer||this.update(),this.slideTo(t.loop?o+this.loopedSlides:o,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function(){var e=sr(),t=this.params,n=this.touchEvents,r=this.el,i=this.wrapperEl,o=this.device,a=this.support;this.onTouchStart=Fr.bind(this),this.onTouchMove=Ur.bind(this),this.onTouchEnd=qr.bind(this),t.cssMode&&(this.onScroll=Br.bind(this)),this.onClick=zr.bind(this);var s=!!t.nested;if(!a.touch&&a.pointerEvents)r.addEventListener(n.start,this.onTouchStart,!1),e.addEventListener(n.move,this.onTouchMove,s),e.addEventListener(n.end,this.onTouchEnd,!1);else{if(a.touch){var u=!("touchstart"!==n.start||!a.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(n.start,this.onTouchStart,u),r.addEventListener(n.move,this.onTouchMove,a.passiveListener?{passive:!1,capture:s}:s),r.addEventListener(n.end,this.onTouchEnd,u),n.cancel&&r.addEventListener(n.cancel,this.onTouchEnd,u),Hr||(e.addEventListener("touchstart",Gr),Hr=!0)}(t.simulateTouch&&!o.ios&&!o.android||t.simulateTouch&&!a.touch&&o.ios)&&(r.addEventListener("mousedown",this.onTouchStart,!1),e.addEventListener("mousemove",this.onTouchMove,s),e.addEventListener("mouseup",this.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&r.addEventListener("click",this.onClick,!0),t.cssMode&&i.addEventListener("scroll",this.onScroll),this.on(t.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Vr,!0)},detachEvents:function(){var e=sr(),t=this.params,n=this.touchEvents,r=this.el,i=this.wrapperEl,o=this.device,a=this.support,s=!!t.nested;if(!a.touch&&a.pointerEvents)r.removeEventListener(n.start,this.onTouchStart,!1),e.removeEventListener(n.move,this.onTouchMove,s),e.removeEventListener(n.end,this.onTouchEnd,!1);else{if(a.touch){var u=!("onTouchStart"!==n.start||!a.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(n.start,this.onTouchStart,u),r.removeEventListener(n.move,this.onTouchMove,s),r.removeEventListener(n.end,this.onTouchEnd,u),n.cancel&&r.removeEventListener(n.cancel,this.onTouchEnd,u)}(t.simulateTouch&&!o.ios&&!o.android||t.simulateTouch&&!a.touch&&o.ios)&&(r.removeEventListener("mousedown",this.onTouchStart,!1),e.removeEventListener("mousemove",this.onTouchMove,s),e.removeEventListener("mouseup",this.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&r.removeEventListener("click",this.onClick,!0),t.cssMode&&i.removeEventListener("scroll",this.onScroll),this.off(o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Vr)}},breakpoints:{setBreakpoint:function(){var e=this.activeIndex,t=this.initialized,n=this.loopedSlides,r=void 0===n?0:n,i=this.params,o=this.$el,a=i.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var s=this.getBreakpoint(a,this.params.breakpointsBase,this.el);if(s&&this.currentBreakpoint!==s){var u=s in a?a[s]:void 0;u&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(e){var t=u[e];void 0!==t&&(u[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")}));var c=u||this.originalParams,l=i.slidesPerColumn>1,h=c.slidesPerColumn>1;l&&!h?(o.removeClass(i.containerModifierClass+"multirow "+i.containerModifierClass+"multirow-column"),this.emitContainerClasses()):!l&&h&&(o.addClass(i.containerModifierClass+"multirow"),"column"===c.slidesPerColumnFill&&o.addClass(i.containerModifierClass+"multirow-column"),this.emitContainerClasses());var f=c.direction&&c.direction!==i.direction,d=i.loop&&(c.slidesPerView!==i.slidesPerView||f);f&&t&&this.changeDirection(),Pr(this.params,c),Pr(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=s,this.emit("_beforeBreakpoint",c),d&&t&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(e-r+this.loopedSlides,0,!1)),this.emit("breakpoint",c)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var r=!1,i=cr(),o="window"===t?i.innerWidth:n.clientWidth,a="window"===t?i.innerHeight:n.clientHeight,s=Object.keys(e).map((function(e){if("string"==typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));s.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var u=0;u<s.length;u+=1){var c=s[u];c.value<=o&&(r=c.point)}return r||"max"}}},checkOverflow:{checkOverflow:function(){var e=this.params,t=this.isLocked,n=this.slides.length>0&&e.slidesOffsetBefore+e.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;this.isLocked=e.slidesOffsetBefore&&e.slidesOffsetAfter&&n?n<=this.size:1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),t&&t!==this.isLocked&&(this.isEnd=!1,this.navigation&&this.navigation.update())}},classes:{addClasses:function(){var e,t,n=this.classNames,r=this.params,i=this.$el,o=this.device,a=this.support,s=(e=r.containerModifierClass,t=[],["initialized",r.direction,{"pointer-events":a.pointerEvents&&!a.touch},{"free-mode":r.freeMode},{autoheight:r.autoHeight},{rtl:this.rtl},{multirow:r.slidesPerColumn>1},{"multirow-column":r.slidesPerColumn>1&&"column"===r.slidesPerColumnFill},{android:o.android},{ios:o.ios},{"css-mode":r.cssMode}].forEach((function(n){"object"==typeof n?Object.keys(n).forEach((function(r){n[r]&&t.push(e+r)})):"string"==typeof n&&t.push(e+n)})),t);n.push.apply(n,s),i.addClass([].concat(n).join(" ")),this.emitContainerClasses()},removeClasses:function(){this.$el.removeClass(this.classNames.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(e,t,n,r,i,o){var a,s=cr();function u(){o&&o()}Tr(e).parent("picture")[0]||e.complete&&i?u():t?((a=new s.Image).onload=u,a.onerror=u,r&&(a.sizes=r),n&&(a.srcset=n),t&&(a.src=t)):u()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},Qr={},Yr=function(){function e(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=Pr({},n),t&&!n.el&&(n.el=t),n.el&&Tr(n.el).length>1){var a=[];return Tr(n.el).each((function(t){var r=Pr({},n,{el:t});a.push(new e(r))})),a}var s=this;s.__swiper__=!0,s.support=Ar(),s.device=Mr({userAgent:n.userAgent}),s.browser=Nr(),s.eventsListeners={},s.eventsAnyListeners=[],void 0===s.modules&&(s.modules={}),Object.keys(s.modules).forEach((function(e){var t=s.modules[e];if(t.params){var r=Object.keys(t.params)[0],i=t.params[r];if("object"!=typeof i||null===i)return;if(!(r in n)||!("enabled"in i))return;!0===n[r]&&(n[r]={enabled:!0}),"object"!=typeof n[r]||"enabled"in n[r]||(n[r].enabled=!0),n[r]||(n[r]={enabled:!1})}}));var u,c,l=Pr({},Kr);return s.useParams(l),s.params=Pr({},l,Qr,n),s.originalParams=Pr({},s.params),s.passedParams=Pr({},n),s.params&&s.params.on&&Object.keys(s.params.on).forEach((function(e){s.on(e,s.params.on[e])})),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=Tr,Pr(s,{el:t,classNames:[],slides:Tr(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===s.params.direction},isVertical:function(){return"vertical"===s.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:(u=["touchstart","touchmove","touchend","touchcancel"],c=["mousedown","mousemove","mouseup"],s.support.pointerEvents&&(c=["pointerdown","pointermove","pointerup"]),s.touchEventsTouch={start:u[0],move:u[1],end:u[2],cancel:u[3]},s.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:Or(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.useModules(),s.emit("_swiper"),s.params.init&&s.init(),s}var t,n=e.prototype;return n.setProgress=function(e,t){e=Math.min(Math.max(e,0),1);var n=this.minTranslate(),r=this.maxTranslate();this.translateTo((r-n)*e+n,void 0===t?0:t),this.updateActiveIndex(),this.updateSlidesClasses()},n.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}},n.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")},n.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}},n.slidesPerViewDynamic=function(){var e=this.slides,t=this.slidesGrid,n=this.size,r=this.activeIndex,i=1;if(this.params.centeredSlides){for(var o,a=e[r].swiperSlideSize,s=r+1;s<e.length;s+=1)e[s]&&!o&&(i+=1,(a+=e[s].swiperSlideSize)>n&&(o=!0));for(var u=r-1;u>=0;u-=1)e[u]&&!o&&(i+=1,(a+=e[u].swiperSlideSize)>n&&(o=!0))}else for(var c=r+1;c<e.length;c+=1)t[c]-t[r]<n&&(i+=1);return i},n.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(r(),e.params.autoHeight&&e.updateAutoHeight()):e.slideTo(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slides.length-1:e.activeIndex,0,!1,!0)||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(t),e.updateActiveIndex(),e.updateSlidesClasses()}},n.changeDirection=function(e,t){void 0===t&&(t=!0);var n=this.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(this.$el.removeClass(""+this.params.containerModifierClass+n).addClass(""+this.params.containerModifierClass+e),this.emitContainerClasses(),this.params.direction=e,this.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),this.emit("changeDirection"),t&&this.update()),this},n.mount=function(e){if(this.mounted)return!0;var t,n=Tr(e||this.params.el);return!!(e=n[0])&&(e.swiper=this,e&&e.shadowRoot&&e.shadowRoot.querySelector?(t=Tr(e.shadowRoot.querySelector("."+this.params.wrapperClass))).children=function(e){return n.children(e)}:t=n.children("."+this.params.wrapperClass),Pr(this,{$el:n,el:e,$wrapperEl:t,wrapperEl:t[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===this.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===t.css("display")}),!0)},n.init=function(e){return this.initialized||!1===this.mount(e)||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.slideTo(this.params.loop?this.params.initialSlide+this.loopedSlides:this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"),this.emit("afterInit")),this},n.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n,r=this,i=r.params,o=r.$el,a=r.$wrapperEl,s=r.slides;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),o.removeAttr("style"),a.removeAttr("style"),s&&s.length&&s.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach((function(e){r.off(e)})),!1!==e&&(r.$el[0].swiper=null,n=r,Object.keys(n).forEach((function(e){try{n[e]=null}catch(hk){}try{delete n[e]}catch(hk){}}))),r.destroyed=!0),null},e.extendDefaults=function(e){Pr(Qr,e)},e.installModule=function(t){e.prototype.modules||(e.prototype.modules={});var n=t.name||Object.keys(e.prototype.modules).length+"_"+Or();e.prototype.modules[n]=t},e.use=function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)},(t=[{key:"extendedDefaults",get:function(){return Qr}},{key:"defaults",get:function(){return Kr}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();Object.keys(Wr).forEach((function(e){Object.keys(Wr[e]).forEach((function(t){Yr.prototype[t]=Wr[e][t]}))})),Yr.use([Rr,Lr]);var Xr,$r=Yr,Jr=n("XNiG"),Zr=n("LRne"),ei=((Xr=function e(){_classCallCheck(this,e)}).\u0275mod=r.Gb({type:Xr}),Xr.\u0275inj=r.Fb({factory:function(e){return new(e||Xr)},imports:[[V]]}),Xr),ti=n("Cfvw"),ni=n("9ppp"),ri=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf2(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ni.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf2(n.prototype),"next",this).call(this,this._value=e)}}]),n}(Jr.a),ii=n("HDdC"),oi=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),ai=n("z+Ro"),si=n("DH7j"),ui=n("l7GE"),ci=n("ZUHj"),li=n("yCtX"),hi={},fi=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new di(e,this.resultSelector))}}]),e}(),di=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(hi),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(ci.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===hi?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(ui.a),pi=n("EY2u");function vi(e){return new ii.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(ti.a)(n):Object(pi.b)()).subscribe(t)}))}var yi=n("lJxs"),gi=n("bHdf");function mi(){return Object(gi.a)(1)}var bi=n("7o/Q");function _i(e,t){return function(n){return n.lift(new wi(e,t))}}var wi=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ci(e,this.predicate,this.thisArg))}}]),e}(),Ci=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(bi.a),ki=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Si(e){return function(t){return 0===e?Object(pi.b)():t.lift(new Ti(e))}}var Ti=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new ki}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ei(e,this.total))}}]),e}(),Ei=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(bi.a);function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ii;return function(t){return t.lift(new xi(e))}}var xi=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Pi(e,this.errorFactory))}}]),e}(),Pi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(hk){e=hk}this.destination.error(e)}}]),n}(bi.a);function Ii(){return new oi}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Mi(e))}}var Mi=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ni(e,this.defaultValue))}}]),e}(),Ni=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(bi.a),Ri=n("SpAZ");function Di(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?_i((function(t,n){return e(t,n,r)})):Ri.a,Si(1),n?Ai(t):Oi((function(){return new oi})))}}var ji=n("51Dv");function Li(e){return function(t){var n=new Fi(e),r=t.lift(n);return n.caught=r}}var Fi=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ui(e,this.selector,this.caught))}}]),e}(),Ui=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf2(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new ji.a(this,void 0,void 0);this.add(r);var i=Object(ci.a)(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(ui.a);function qi(e){return function(t){return 0===e?Object(pi.b)():t.lift(new Vi(e))}}var Vi=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new ki}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new zi(e,this.total))}}]),e}(),zi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(bi.a);function Bi(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?_i((function(t,n){return e(t,n,r)})):Ri.a,qi(1),n?Ai(t):Oi((function(){return new oi})))}}var Hi=n("5+tZ"),Gi=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ki(e,this.predicate,this.thisArg,this.source))}}]),e}(),Ki=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(bi.a);function Wi(e,t){return"function"==typeof t?function(n){return n.pipe(Wi((function(n,r){return Object(ti.a)(e(n,r)).pipe(Object(yi.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Qi(e))}}var Qi=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yi(e,this.project))}}]),e}(),Yi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new ji.a(this,t,n),o=this.destination;o.add(i),this.innerSubscription=Object(ci.a)(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf2(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf2(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(ui.a);function Xi(){return mi()(Object(Zr.a).apply(void 0,arguments))}function $i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return Object(ai.a)(r)?(t.pop(),function(e){return Xi(t,e,r)}):function(e){return Xi(t,e)}}function Ji(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Zi(e,t,n))}}var Zi=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new eo(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),eo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(bi.a);function to(e,t){return Object(Hi.a)(e,t,1)}var no,ro=n("mCNh"),io=n("vkgz"),oo=n("quSY"),ao=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new so(e,this.callback))}}]),e}(),so=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new oo.a(r)),i}return n}(bi.a),uo=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},co=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(uo),lo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(uo),ho=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(uo),fo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(uo),po=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(uo),vo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(uo),yo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(uo),go=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(uo),mo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(uo),bo=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),_o=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),wo=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Co=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ko=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),So=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),To=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Eo=((no=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||no)},no.\u0275cmp=r.Cb({type:no,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r.Jb(0,"router-outlet")},directives:function(){return[Ds]},encapsulation:2}),no),Oo=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function xo(e){return new Oo(e)}function Po(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Io(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var Ao=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function Mo(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];No(r,Ro(t,r))}}function No(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&Mo(e.children,t)}function Ro(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Do(e){var t=e.children&&e.children.map(Do),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Eo),n}function jo(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Lo(e[n=r[o]],t[n]))return!1;return!0}function Lo(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function Fo(e){return Array.prototype.concat.apply([],e)}function Uo(e){return e.length>0?e[e.length-1]:null}function qo(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Vo(e){return Object(r.pb)(e)?e:Object(r.qb)(e)?Object(ti.a)(Promise.resolve(e)):Object(Zr.a)(e)}function zo(e,t,n){return n?function(e,t){return jo(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Ko(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return Lo(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Ko(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Ko(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Ko(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var Bo=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=xo(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Xo.serialize(this)}}]),e}(),Ho=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,qo(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return $o(this)}}]),e}(),Go=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=xo(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return ra(this)}}]),e}();function Ko(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Wo(e,t){var n=[];return qo(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),qo(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var Qo=function e(){_classCallCheck(this,e)},Yo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new ua(e);return new Bo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return $o(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return qo(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Wo(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat($o(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(Zo(e),"=").concat(Zo(t))})).join("&"):"".concat(Zo(e),"=").concat(Zo(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),Xo=new Yo;function $o(e){return e.segments.map((function(e){return ra(e)})).join("/")}function Jo(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zo(e){return Jo(e).replace(/%3B/gi,";")}function ea(e){return Jo(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ta(e){return decodeURIComponent(e)}function na(e){return ta(e.replace(/\+/g,"%20"))}function ra(e){return"".concat(ea(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(ea(e),"=").concat(ea(t[e]))})).join("")));var t}var ia=/^[^\/()?;=#]+/;function oa(e){var t=e.match(ia);return t?t[0]:""}var aa=/^[^=?&#]+/,sa=/^[^?&#]+/,ua=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ho([],{}):new Ho([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Ho(e,t)),n}},{key:"parseSegment",value:function(){var e=oa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Go(ta(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=oa(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=oa(this.remaining);r&&(n=r,this.capture(n))}e[ta(t)]=ta(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(aa);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(sa);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=na(t),o=na(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=oa(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Ho([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),ca=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=la(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=la(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=ha(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return ha(e,this._root).map((function(e){return e.value}))}}]),e}();function la(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=la(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function ha(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=ha(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var fa=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function da(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var pa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,_a(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(ca);function va(e,t){var n=function(e,t){var n=new ma([],{},{},"",{},"primary",t,null,e.root,-1,{});return new ba("",new fa(n,[]))}(e,t),r=new ri([new Go("",{})]),i=new ri({}),o=new ri({}),a=new ri({}),s=new ri(""),u=new ya(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new pa(new fa(u,[]),n)}var ya=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(yi.a)((function(e){return xo(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(yi.a)((function(e){return xo(e)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var ma=function(){function e(t,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=xo(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=xo(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),ba=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,_a(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return wa(this._root)}}]),n}(ca);function _a(e,t){t.value._routerState=e,t.children.forEach((function(t){return _a(e,t)}))}function wa(e){var t=e.children.length>0?" { ".concat(e.children.map(wa).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Ca(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,jo(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),jo(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!jo(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),jo(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ka(e,t){return jo(e.params,t.params)&&function(e,t){return Ko(e,t)&&e.every((function(e,n){return jo(e.parameters,t[n].parameters)}))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||ka(e.parent,t.parent))}function Sa(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ta(e,t,n,r,i){var o={};return r&&qo(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new Bo(n.root===e?t:function e(t,n,r){var i={};return qo(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Ho(t.segments,i)}(n.root,e,t),o,i)}var Ea=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Sa(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Uo(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Oa=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function xa(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Pa(e,t,n){if(e||(e=new Ho([],{})),0===e.segments.length&&e.hasChildren())return Ia(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=xa(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ra(s,u,a))return o;r+=2}else{if(!Ra(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Ho(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Ho(e.segments.slice(r.pathIndex),e.children),Ia(o,0,i)}return r.match&&0===i.length?new Ho(e.segments,{}):r.match&&!e.hasChildren()?Aa(e,t,n):r.match?Ia(e,0,i):Aa(e,t,n)}function Ia(e,t,n){if(0===n.length)return new Ho(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return qo(r,(function(n,r){null!==n&&(i[r]=Pa(e.children[r],t,n))})),qo(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Ho(e.segments,i)}function Aa(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Ma(n[i].outlets);return new Ho(r,o)}if(0===i&&Sa(n[0]))r.push(new Go(e.segments[t].path,n[0])),i++;else{var a=xa(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Sa(s)?(r.push(new Go(a,Na(s))),i+=2):(r.push(new Go(a,{})),i++)}}return new Ho(r,{})}function Ma(e){var t={};return qo(e,(function(e,n){null!==e&&(t[n]=Aa(new Ho([],{}),0,e))})),t}function Na(e){var t={};return qo(e,(function(e,n){return t[n]=""+e})),t}function Ra(e,t,n){return e==n.path&&jo(t,n.parameters)}var Da=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Ca(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=da(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),qo(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=da(e),o=e.value.component?r.children:t;qo(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=da(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new So(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Co(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Ca(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ja(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function ja(e){Ca(e.value),e.children.forEach(ja)}function La(e){return"function"==typeof e}function Fa(e){return e instanceof Bo}var Ua=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},qa=function e(t){_classCallCheck(this,e),this.urlTree=t};function Va(e){return new ii.a((function(t){return t.error(new Ua(e))}))}function za(e){return new ii.a((function(t){return t.error(new qa(e))}))}function Ba(e){return new ii.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Ha=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(r.x)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(yi.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Li((function(t){if(t instanceof qa)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Ua)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(yi.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Li((function(e){if(e instanceof Ua)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Ho([],{primary:e}):e;return new Bo(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(yi.a)((function(e){return new Ho([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(Zr.a)({});var o=[],a=[],s={};return qo(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(Object(yi.a)((function(e){return s[i]=e})));"primary"===i?o.push(l):a.push(l)})),Zr.a.apply(null,o.concat(a)).pipe(mi(),Di(),Object(yi.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return Object(Zr.a).apply(void 0,_toConsumableArray(n)).pipe(Object(yi.a)((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Li((function(e){if(e instanceof Ua)return Object(Zr.a)(null);throw e})))})),mi(),Bi((function(e){return!!e})),Li((function(e,n){if(e instanceof oi||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return Object(Zr.a)(new Ho([],{}));throw new Ua(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return Qa(r)!==o?Va(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Va(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?za(o):this.lineralizeSegments(n,o).pipe(Object(Hi.a)((function(n){var o=new Ho(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=Ga(t,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Va(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?za(f):this.lineralizeSegments(r,f).pipe(Object(Hi.a)((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(yi.a)((function(e){return n._loadedConfig=e,new Ho(r,{})}))):Object(Zr.a)(new Ho(r,{}));var o=Ga(t,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return Va(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(Object(Hi.a)((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Wa(e,t,n)&&"primary"!==Qa(n)}))}(e,n,r)?{segmentGroup:Ka(new Ho(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Qa(o)&&(n[Qa(o)]=new Ho([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Ho(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Wa(e,t,n)}))}(e,n,r)?{segmentGroup:Ka(new Ho(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Wa(e,t,s)&&!r[Qa(s)]&&(o[Qa(s)]=new Ho([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(yi.a)((function(e){return new Ho(s,e)}))):0===r.length&&0===u.length?Object(Zr.a)(new Ho(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(yi.a)((function(e){return new Ho(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(Zr.a)(new Ao(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(Zr.a)(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Object(ti.a)(i).pipe(Object(yi.a)((function(r){var i,o=e.get(r);if(function(e){return e&&La(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!La(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Vo(i)}))).pipe(mi(),(r=function(e){return!0===e},function(e){return e.lift(new Gi(r,void 0,e))})):Object(Zr.a)(!0)}(e.injector,t,n).pipe(Object(Hi.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(yi.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new ii.a((function(t){return t.error(Po("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(Zr.a)(new Ao([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Zr.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ba(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Bo(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return qo(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return qo(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new Ho(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function Ga(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Io)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ka(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Ho(e.segments.concat(t.segments),t.children)}return e}function Wa(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Qa(e){return e.outlet||"primary"}var Ya=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Xa=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function $a(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ja(e,t,n){var r=da(e),i=e.value;qo(r,(function(e,r){Ja(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Xa(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Za=Symbol("INITIAL_VALUE");function es(){return Wi((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return Object(ai.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(si.a)(t[0])&&(t=t[0]),Object(li.a)(t,i).lift(new fi(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(qi(1),$i(Za))})))).pipe(Ji((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Za)return e;if(r===Za&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Fa(r))return r}return e}),e)}),Za),_i((function(e){return e!==Za})),Object(yi.a)((function(e){return Fa(e)?e:!0===e})),qi(1))}))}function ts(e,t){return null!==e&&t&&t(new ko(e)),Object(Zr.a)(!0)}function ns(e,t){return null!==e&&t&&t(new wo(e)),Object(Zr.a)(!0)}function rs(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Zr.a)(!0);var i=r.map((function(r){return vi((function(){var i,o=$a(r,t,n);if(function(e){return e&&La(e.canActivate)}(o))i=Vo(o.canActivate(t,e));else{if(!La(o))throw new Error("Invalid CanActivate guard");i=Vo(o(t,e))}return i.pipe(Bi())}))}));return Object(Zr.a)(i).pipe(es())}function is(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return vi((function(){var i=t.guards.map((function(i){var o,a=$a(i,t.node,n);if(function(e){return e&&La(e.canActivateChild)}(a))o=Vo(a.canActivateChild(r,e));else{if(!La(a))throw new Error("Invalid CanActivateChild guard");o=Vo(a(r,e))}return o.pipe(Bi())}));return Object(Zr.a)(i).pipe(es())}))}));return Object(Zr.a)(i).pipe(es())}var os=function e(){_classCallCheck(this,e)},as=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=cs(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new ma([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new fa(n,t),i=new ba(this.url,r);return this.inheritParamsAndData(i._root),Object(Zr.a)(i)}catch(hk){return new ii.a((function(t){return t.error(hk)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=ga(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Wo(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(hk){if(!(hk instanceof os))throw hk}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new os}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new os;if((e.outlet||"primary")!==r)throw new os;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Uo(n).parameters:{};i=new ma(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fs(e),r,e.component,e,ss(t),us(t)+n.length,ds(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new os;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Io)(n,e,t);if(!r)throw new os;var i={};qo(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new ma(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fs(e),r,e.component,e,ss(t),us(t)+o.length,ds(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=cs(t,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new fa(i,d)]}if(0===c.length&&0===f.length)return[new fa(i,[])];var p=this.processSegment(c,h,f,"primary");return[new fa(i,p)]}}]),e}();function ss(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function us(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function cs(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return ls(e,t,n)&&"primary"!==hs(n)}))}(e,n,r)){var o=new Ho(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==hs(s)){var u=new Ho([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[hs(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(e,t,r,new Ho(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return ls(e,t,n)}))}(e,n,r)){var a=new Ho(e.segments,function(e,t,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(ls(e,n,c)&&!i[hs(c)]){var l=new Ho([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[hs(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Ho(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function ls(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function hs(e){return e.outlet||"primary"}function fs(e){return e.data||{}}function ds(e){return e.resolve||{}}function ps(e,t,n,r){var i=$a(e,t,r);return Vo(i.resolve?i.resolve(t,n):i(t,n))}function vs(e){return function(t){return t.pipe(Wi((function(t){var n=e(t);return n?Object(ti.a)(n).pipe(Object(yi.a)((function(){return t}))):Object(ti.a)([t])})))}}var ys=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),gs=new r.q("ROUTES"),ms=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(yi.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Ao(Fo(i.injector.get(gs)).map(Do),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(ti.a)(this.loader.load(e)):Vo(e()).pipe(Object(Hi.a)((function(e){return e instanceof r.v?Object(Zr.a)(e):Object(ti.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),bs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function _s(e){throw e}function ws(e,t,n){return t.parse("/")}function Cs(e,t){return Object(Zr.a)(null)}var ks,Ss,Ts,Es=((Ts=function(){function e(t,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Jr.a,this.errorHandler=_s,this.malformedUriErrorHandler=ws,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cs,afterPreactivation:Cs},this.urlHandlingStrategy=new bs,this.routeReuseStrategy=new ys,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.W);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new Bo(new Ho([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ms(s,u,(function(e){return l.triggerEvent(new bo(e))}),(function(e){return l.triggerEvent(new _o(e))})),this.routerState=va(this.currentUrlTree,this.rootComponentType),this.transitions=new ri({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(_i((function(e){return 0!==e.id})),Object(yi.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Wi((function(e){var r,i,o,a,s=!1,u=!1;return Object(Zr.a)(e).pipe(Object(io.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Wi((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(Zr.a)(e).pipe(Wi((function(e){var r=t.transitions.getValue();return n.next(new co(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?pi.a:[e]})),Wi((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(Wi((function(e){return function(e,t,n,r,i){return new Ha(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(Object(yi.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(io.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(Hi.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new as(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(yi.a)((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(io.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(io.a)((function(e){var r=new po(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,l=e.source,h=e.restoredState,f=e.extras,d=new co(u,t.serializeUrl(c),l,h);n.next(d);var p=va(c,t.rootComponentType).snapshot;return Object(Zr.a)(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),pi.a})),vs((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(io.a)((function(e){var n=new vo(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(yi.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=da(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ko(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ko(e.url,t.url)||!jo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ka(e,t)||!jo(e.queryParams,t.queryParams);case"paramsChange":default:return!ka(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Ya(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Xa(u&&u.outlet&&u.outlet.component||null,s))}else s&&Ja(n,u,o),o.canActivateChecks.push(new Ya(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),qo(a,(function(e,t){return Ja(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(Hi.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Zr.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(ti.a)(e).pipe(Object(Hi.a)((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Zr.a)(!0);var a=o.map((function(o){var a,s=$a(o,t,i);if(function(e){return e&&La(e.canDeactivate)}(s))a=Vo(s.canDeactivate(e,t,n,r));else{if(!La(s))throw new Error("Invalid CanDeactivate guard");a=Vo(s(e,t,n,r))}return a.pipe(Bi())}));return Object(Zr.a)(a).pipe(es())}(e.component,e.route,n,t,r)})),Bi((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(Object(Hi.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(ti.a)(t).pipe(to((function(t){return Object(ti.a)([ns(t.route.parent,r),ts(t.route,r),is(e,t.path,n),rs(e,t.route,n)]).pipe(mi(),Bi((function(e){return!0!==e}),!0))})),Bi((function(e){return!0!==e}),!0))}(r,a,e,t):Object(Zr.a)(n)})),Object(yi.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(io.a)((function(e){if(Fa(e.guardsResult)){var n=Po('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(io.a)((function(e){var n=new yo(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),_i((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new ho(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),vs((function(e){if(e.guards.canActivateChecks.length)return Object(Zr.a)(e).pipe(Object(io.a)((function(e){var n=new go(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(Hi.a)((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Object(ti.a)(i).pipe(to((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(Zr.a)({});if(1===i.length){var o=i[0];return ps(e[o],t,n,r).pipe(Object(yi.a)((function(e){return _defineProperty({},o,e)})))}var a={};return Object(ti.a)(i).pipe(Object(Hi.a)((function(i){return ps(e[i],t,n,r).pipe(Object(yi.a)((function(e){return a[i]=e,e})))}))).pipe(Di(),Object(yi.a)((function(){return a})))}(e._resolve,e,t,r).pipe(Object(yi.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),ga(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return Object(ro.a)(Ji(e,t),Si(1),Ai(t))(n)}:function(t){return Object(ro.a)(Ji((function(t,n,r){return e(t,n,r+1)})),Si(1))(t)}}((function(e,t){return e})),Object(yi.a)((function(t){return e}))):Object(Zr.a)(e)})))}),Object(io.a)((function(e){var n=new mo(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),vs((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(yi.a)((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new fa(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,c=new ya(new ri((u=n.value).url),new ri(u.params),new ri(u.queryParams),new ri(u.fragment),new ri(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return e(t,n)}));return new fa(c,l)}(e,t._root,n?n._root:void 0);return new pa(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Object(io.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},Object(yi.a)((function(e){return new Da(o,e.targetRouterState,e.currentRouterState,a).activate(i),e}))),Object(io.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new ho(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new ao(r))}),Li((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Fa(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new ho(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new fo(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(Vp){e.reject(Vp)}}var s;return pi.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Mo(e),this.config=e.map(Do),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,o=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,u=t.preserveFragment;Object(r.T)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return Ta(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ea(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return qo(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new Ea(n,t,r)}(n);if(o.toRoot())return Ta(t.root,new Ho([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new Oa(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Oa(n.snapshot._urlSegment,!0,0);var r=Sa(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Oa(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?Ia(a.segmentGroup,a.index,o.commands):Pa(a.segmentGroup,a.index,o.commands);return Ta(a.segmentGroup,s,t,r,i)}(c,this.currentUrlTree,e,h,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.T)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Fa(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(hk){t=this.malformedUriErrorHandler(hk,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Fa(e))return zo(this.currentUrlTree,e,t);var n=this.parseUrl(e);return zo(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new lo(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){r.Sb()},Ts.\u0275dir=r.Db({type:Ts}),Ts),Os=((Ss=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"onClick",value:function(){var e={skipLocationChange:Ps(this.skipLocationChange),replaceUrl:Ps(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ps(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ps(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||Ss)(r.Ib(Es),r.Ib(ya),r.Qb("tabindex"),r.Ib(r.D),r.Ib(r.l))},Ss.\u0275dir=r.Db({type:Ss,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.Tb("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),Ss),xs=((ks=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof lo&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Ps(this.skipLocationChange),replaceUrl:Ps(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ps(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ps(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||ks)(r.Ib(Es),r.Ib(ya),r.Ib(_))},ks.\u0275dir=r.Db({type:ks,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.Tb("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(r.Ob("href",t.href,r.gc),r.yb("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),ks);function Ps(e){return""===e||!!e}var Is,As,Ms,Ns=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Rs,this.attachRef=null},Rs=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Ns,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Ds=((Is=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new js(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||Is)(r.Ib(Rs),r.Ib(r.O),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},Is.\u0275dir=r.Db({type:Is,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Is),js=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===ya?this.route:e===Rs?this.childContexts:this.parent.get(e,t)}}]),e}(),Ls=function e(){_classCallCheck(this,e)},Fs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Object(Zr.a)(null)}}]),e}(),Us=((Ms=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new ms(n,r,(function(e){return t.triggerEvent(new bo(e))}),(function(e){return t.triggerEvent(new _o(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(_i((function(e){return e instanceof lo})),to((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(r.x);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(ti.a)(r).pipe(Object(gi.a)(),Object(yi.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(Hi.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||Ms)(r.Pb(Es),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Ls))},Ms.\u0275prov=r.Eb({token:Ms,factory:Ms.\u0275fac}),Ms),qs=((As=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof co?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lo&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof To&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new To(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){r.Sb()},As.\u0275dir=r.Db({type:As}),As),Vs=new r.q("ROUTER_CONFIGURATION"),zs=new r.q("ROUTER_FORROOT_GUARD"),Bs=[x,{provide:Qo,useClass:Yo},{provide:Es,useFactory:function(e,t,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new Es(null,e,t,n,r,i,o,Fo(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(e){f.logGroup("Router Event: "+e.constructor.name),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Qo,Rs,x,r.r,r.w,r.i,gs,Vs,[function(){return function e(){_classCallCheck(this,e)}}(),new r.A],[function(){return function e(){_classCallCheck(this,e)}}(),new r.A]]},Rs,{provide:ya,useFactory:function(e){return e.routerState.root},deps:[Es]},{provide:r.w,useClass:r.J},Us,Fs,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Li((function(){return Object(Zr.a)(null)})))}}]),e}(),{provide:Vs,useValue:{enableTracing:!1}}];function Hs(){return new r.y("Router",Es)}var Gs,Ks=((Gs=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Bs,Xs(t),{provide:zs,useFactory:Ys,deps:[[Es,new r.A,new r.I]]},{provide:Vs,useValue:n||{}},{provide:_,useFactory:Qs,deps:[c,[new r.p(T),new r.A],Vs]},{provide:qs,useFactory:Ws,deps:[Es,Y,Vs]},{provide:Ls,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Fs},{provide:r.y,multi:!0,useFactory:Hs},[Js,{provide:r.d,multi:!0,useFactory:Zs,deps:[Js]},{provide:ru,useFactory:eu,deps:[Js]},{provide:r.b,multi:!0,useExisting:ru}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Xs(t)]}}}]),e}()).\u0275mod=r.Gb({type:Gs}),Gs.\u0275inj=r.Fb({factory:function(e){return new(e||Gs)(r.Pb(zs,8),r.Pb(Es,8))}}),Gs);function Ws(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new qs(e,t,n)}function Qs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new O(e,t):new E(e,t)}function Ys(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Xs(e){return[{provide:r.a,multi:!0,useValue:e},{provide:gs,multi:!0,useValue:e}]}var $s,Js=(($s=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Jr.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(Es),i=e.injector.get(Vs);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(Zr.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Vs),n=this.injector.get(Us),i=this.injector.get(qs),o=this.injector.get(Es),a=this.injector.get(r.g);e===a.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||$s)(r.Pb(r.r))},$s.\u0275prov=r.Eb({token:$s,factory:$s.\u0275fac}),$s);function Zs(e){return e.appInitializer.bind(e)}function eu(e){return e.bootstrapListener.bind(e)}var tu,nu,ru=new r.q("Router Initializer"),iu=((nu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||nu)},nu.\u0275cmp=r.Cb({type:nu,selectors:[["app-document-creation-failure"]],decls:6,vars:0,consts:[["routerLink","/styles-selection",1,"primary-btn"]],template:function(e,t){1&e&&(r.Nb(0,"h1"),r.lc(1,"Oooops!"),r.Mb(),r.Nb(2,"p"),r.lc(3,"Something went wrong. Please Try again."),r.Mb(),r.Nb(4,"button",0),r.lc(5,"Try Again"),r.Mb())},directives:[Os],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100%;background-color:#2b2d42;padding:2rem 1.5rem;box-sizing:border-box}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.3rem;color:#fff;font-family:ps-reg;font-weight:400;margin-bottom:1.5rem}[_nghost-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:m-reg;font-size:1.2rem;margin-bottom:.5rem}[_nghost-%COMP%]   button.primary-btn[_ngcontent-%COMP%]{width:100%;padding:1.2rem 0;font-size:1.5rem;margin-bottom:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%]   button.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}"]}),nu),ou=((tu=function(){function e(t){_classCallCheck(this,e),this.activatedRoute=t,this.userEmail=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.userEmail=this.activatedRoute.snapshot.queryParamMap.get("userEmail")}}]),e}()).\u0275fac=function(e){return new(e||tu)(r.Ib(ya))},tu.\u0275cmp=r.Cb({type:tu,selectors:[["app-document-creation-success"]],decls:9,vars:1,consts:[["routerLink","/styles-selection",1,"primary-btn"]],template:function(e,t){1&e&&(r.Nb(0,"h1"),r.lc(1,"Thank You!"),r.Mb(),r.Nb(2,"p"),r.lc(3," We will send you pictures of your custom mug to "),r.Nb(4,"span"),r.lc(5),r.Mb(),r.lc(6," in about one day.\n"),r.Mb(),r.Nb(7,"button",0),r.lc(8," Create More Custom Mugs\n"),r.Mb()),2&e&&(r.xb(5),r.mc(t.userEmail||"your provided email address"))},directives:[Os],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100%;background-color:#2b2d42;padding:2rem 1.5rem;box-sizing:border-box}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.3rem;color:#fff;font-family:ps-reg;font-weight:400;margin-bottom:1.5rem}[_nghost-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:m-reg;font-size:1.2rem;margin-bottom:.5rem}[_nghost-%COMP%] > p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:m-bold;color:inherit}[_nghost-%COMP%]   button.primary-btn[_ngcontent-%COMP%]{width:100%;padding:1.2rem 0;font-size:1.5rem;margin-bottom:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%]   button.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}"]}),tu);function au(){return(au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var su={init:function(){var e=this.params.thumbs;if(this.thumbs.initialized)return!1;this.thumbs.initialized=!0;var t=this.constructor;return e.swiper instanceof t?(this.thumbs.swiper=e.swiper,Pr(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Pr(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):xr(e.swiper)&&(this.thumbs.swiper=new t(Pr({},e.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0),this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass),this.thumbs.swiper.on("tap",this.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this.thumbs.swiper;if(e){var t=e.clickedIndex,n=e.clickedSlide;if(!(n&&Tr(n).hasClass(this.params.thumbs.slideThumbActiveClass)||null==t)){var r;if(r=e.params.loop?parseInt(Tr(e.clickedSlide).attr("data-swiper-slide-index"),10):t,this.params.loop){var i=this.activeIndex;this.slides.eq(i).hasClass(this.params.slideDuplicateClass)&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,i=this.activeIndex);var o=this.slides.eq(i).prevAll('[data-swiper-slide-index="'+r+'"]').eq(0).index(),a=this.slides.eq(i).nextAll('[data-swiper-slide-index="'+r+'"]').eq(0).index();r=void 0===o?a:void 0===a?o:a-i<i-o?a:o}this.slideTo(r)}}},update:function(e){var t=this.thumbs.swiper;if(t){var n="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():t.params.slidesPerView,r=this.params.thumbs.autoScrollOffset,i=r&&!t.params.loop;if(this.realIndex!==t.realIndex||i){var o,a,s=t.activeIndex;if(t.params.loop){t.slides.eq(s).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,s=t.activeIndex);var u=t.slides.eq(s).prevAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index(),c=t.slides.eq(s).nextAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index();o=void 0===u?c:void 0===c?u:c-s==s-u?s:c-s<s-u?c:u,a=this.activeIndex>this.previousIndex?"next":"prev"}else a=(o=this.realIndex)>this.previousIndex?"next":"prev";i&&(o+="next"===a?r:-1*r),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(o)<0&&(t.params.centeredSlides?o=o>s?o-Math.floor(n/2)+1:o+Math.floor(n/2)-1:o>s&&(o=o-n+1),t.slideTo(o,e?0:void 0))}var l=1,h=this.params.thumbs.slideThumbActiveClass;if(this.params.slidesPerView>1&&!this.params.centeredSlides&&(l=this.params.slidesPerView),this.params.thumbs.multipleActiveThumbs||(l=1),l=Math.floor(l),t.slides.removeClass(h),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(var f=0;f<l;f+=1)t.$wrapperEl.children('[data-swiper-slide-index="'+(this.realIndex+f)+'"]').addClass(h);else for(var d=0;d<l;d+=1)t.slides.eq(this.realIndex+d).addClass(h)}}},uu={name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){Ir(this,{thumbs:au({swiper:null,initialized:!1},su)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var n=e.thumbs.swiper;n&&n.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}};function cu(){return(cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var lu={LinearSpline:function(e,t){var n,r,i,o,a;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(a=function(e,t){for(r=-1,n=e.length;n-r>1;)e[i=n+r>>1]<=t?r=i:n=i;return n}(this.x,e),(e-this.x[o=a-1])*(this.y[a]-this.y[o])/(this.x[a]-this.x[o])+this.y[o]):0},this},getInterpolateFunction:function(e){this.controller.spline||(this.controller.spline=this.params.loop?new lu.LinearSpline(this.slidesGrid,e.slidesGrid):new lu.LinearSpline(this.snapGrid,e.snapGrid))},setTranslate:function(e,t){var n,r,i=this,o=i.controller.control,a=i.constructor;function s(e){var t=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(e),r=-i.controller.spline.interpolate(-t)),r&&"container"!==i.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(i.maxTranslate()-i.minTranslate()),r=(t-i.minTranslate())*n+e.minTranslate()),i.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,i),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(o))for(var u=0;u<o.length;u+=1)o[u]!==t&&o[u]instanceof a&&s(o[u]);else o instanceof a&&t!==o&&s(o)},setTransition:function(e,t){var n,r=this,i=r.constructor,o=r.controller.control;function a(t){t.setTransition(e,r),0!==e&&(t.transitionStart(),t.params.autoHeight&&Er((function(){t.updateAutoHeight()})),t.$wrapperEl.transitionEnd((function(){o&&(t.params.loop&&"slide"===r.params.controller.by&&t.loopFix(),t.transitionEnd())})))}if(Array.isArray(o))for(n=0;n<o.length;n+=1)o[n]!==t&&o[n]instanceof i&&a(o[n]);else o instanceof i&&t!==o&&a(o)}},hu={name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){Ir(this,{controller:cu({control:this.params.controller.control},lu)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,n){e.controller.control&&e.controller.setTranslate(t,n)},setTransition:function(e,t,n){e.controller.control&&e.controller.setTransition(t,n)}}};function fu(){return(fu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var du={run:function(){var e=this,t=e.slides.eq(e.activeIndex),n=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(n=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=Er((function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&e.autoplay.run()}),n)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(e){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,0!==e&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))},onVisibilityChange:function(){var e=sr();"hidden"===e.visibilityState&&this.autoplay.running&&this.autoplay.pause(),"visible"===e.visibilityState&&this.autoplay.paused&&(this.autoplay.run(),this.autoplay.paused=!1)},onTransitionEnd:function(e){this&&!this.destroyed&&this.$wrapperEl&&e.target===this.$wrapperEl[0]&&(this.$wrapperEl[0].removeEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].removeEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd),this.autoplay.paused=!1,this.autoplay.running?this.autoplay.run():this.autoplay.stop())}},pu={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){Ir(this,{autoplay:fu({},du,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),sr().addEventListener("visibilitychange",e.autoplay.onVisibilityChange))},beforeTransitionStart:function(e,t,n){e.autoplay.running&&(n||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.running&&e.autoplay.stop(),sr().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}};function vu(){return(vu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var yu={setTranslate:function(){var e,t=this.$el,n=this.$wrapperEl,r=this.slides,i=this.width,o=this.height,a=this.rtlTranslate,s=this.size,u=this.browser,c=this.params.cubeEffect,l=this.isHorizontal(),h=this.virtual&&this.params.virtual.enabled,f=0;c.shadow&&(l?(0===(e=n.find(".swiper-cube-shadow")).length&&(e=Tr('<div class="swiper-cube-shadow"></div>'),n.append(e)),e.css({height:i+"px"})):0===(e=t.find(".swiper-cube-shadow")).length&&(e=Tr('<div class="swiper-cube-shadow"></div>'),t.append(e)));for(var d=0;d<r.length;d+=1){var p=r.eq(d),v=d;h&&(v=parseInt(p.attr("data-swiper-slide-index"),10));var y=90*v,g=Math.floor(y/360);a&&(y=-y,g=Math.floor(-y/360));var m=Math.max(Math.min(p[0].progress,1),-1),b=0,_=0,w=0;if(v%4==0?(b=4*-g*s,w=0):(v-1)%4==0?(b=0,w=4*-g*s):(v-2)%4==0?(b=s+4*g*s,w=s):(v-3)%4==0&&(b=-s,w=3*s+4*s*g),a&&(b=-b),l||(_=b,b=0),m<=1&&m>-1&&(f=90*v+90*m,a&&(f=90*-v-90*m)),p.transform("rotateX("+(l?0:-y)+"deg) rotateY("+(l?y:0)+"deg) translate3d("+b+"px, "+_+"px, "+w+"px)"),c.slideShadows){var C=p.find(l?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),k=p.find(l?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===C.length&&(C=Tr('<div class="swiper-slide-shadow-'+(l?"left":"top")+'"></div>'),p.append(C)),0===k.length&&(k=Tr('<div class="swiper-slide-shadow-'+(l?"right":"bottom")+'"></div>'),p.append(k)),C.length&&(C[0].style.opacity=Math.max(-m,0)),k.length&&(k[0].style.opacity=Math.max(m,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -"+s/2+"px","-moz-transform-origin":"50% 50% -"+s/2+"px","-ms-transform-origin":"50% 50% -"+s/2+"px","transform-origin":"50% 50% -"+s/2+"px"}),c.shadow)if(l)e.transform("translate3d(0px, "+(i/2+c.shadowOffset)+"px, "+-i/2+"px) rotateX(90deg) rotateZ(0deg) scale("+c.shadowScale+")");else{var S=Math.abs(f)-90*Math.floor(Math.abs(f)/90),T=1.5-(Math.sin(2*S*Math.PI/360)/2+Math.cos(2*S*Math.PI/360)/2),E=c.shadowScale/T;e.transform("scale3d("+c.shadowScale+", 1, "+E+") translate3d(0px, "+(o/2+c.shadowOffset)+"px, "+-o/2/E+"px) rotateX(-90deg)")}n.transform("translate3d(0px,0,"+(u.isSafari||u.isWebView?-s/2:0)+"px) rotateX("+(this.isHorizontal()?0:f)+"deg) rotateY("+(this.isHorizontal()?-f:0)+"deg)")},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}};$r.use([uu,hu,pu,{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){Ir(this,{cubeEffect:vu({},yu)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};Pr(e.params,t),Pr(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}}]);var gu,mu,bu,_u,wu,Cu=((_u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){this.initHeroSwiper()}},{key:"initHeroSwiper",value:function(){new $r(".swiper-hero",{slidesPerView:1,autoplay:{delay:4e3}})}}]),e}()).\u0275fac=function(e){return new(e||_u)},_u.\u0275cmp=r.Cb({type:_u,selectors:[["app-hero"]],decls:15,vars:0,consts:[[1,"container"],[1,"hero-box"],[1,"background"],["src","/assets/images/transparent_mug_mockup.png","alt","",1,"shadowed-img","animate__animated","animate__fadeInUp"],[1,"button-wrapper"],["routerLink","/styles-selection",1,"primary-btn"]],template:function(e,t){1&e&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"h1"),r.lc(4," artistic, "),r.Jb(5,"br"),r.Nb(6,"span"),r.Jb(7,"div"),r.lc(8," custom,"),r.Mb(),r.Jb(9,"br"),r.lc(10," & unique. "),r.Mb(),r.Jb(11,"img",3),r.Mb(),r.Mb(),r.Nb(12,"div",4),r.Nb(13,"button",5),r.lc(14," Choose Art-Style "),r.Mb(),r.Mb(),r.Mb())},directives:[Os],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;box-sizing:border-box;padding-bottom:0;padding-top:0;justify-content:space-evenly;max-width:700px;margin-left:auto;margin-right:auto}.header[_ngcontent-%COMP%]{font-family:m-bold;font-size:3rem;text-align:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-box[_ngcontent-%COMP%]{width:100%}.hero-box[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{overflow:hidden;border-radius:50px;height:100%;width:100%;bottom:0;box-shadow:0 5px 20px rgba(75,76,115,.4117647058823529);background:#3d4062;background:linear-gradient(149deg,#3d4062,#161835 100%,#141633 0,#141633 0)}.hero-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-family:m-bold;padding-left:3rem;padding-top:3rem;font-size:3rem}.hero-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#ef233c;color:#fff;font-family:m-bold;box-sizing:border-box;position:relative;padding-right:1.2rem;border-radius:0 20px 20px 0}.hero-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;left:-3rem;background-color:#ef233c;width:3rem;height:100%}.hero-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;bottom:-4%;width:100%}.swiper-hero[_ngcontent-%COMP%]{width:100%;box-shadow:0 5px 20px rgba(75,76,115,.4117647058823529);border-radius:64px;padding:40px;box-sizing:border-box}.swiper-hero[_ngcontent-%COMP%]   .swiper-slide.blue-background[_ngcontent-%COMP%]{background:#3d4062;background:linear-gradient(149deg,#3d4062,#161835 100%,#141633 0,#141633 0);position:relative;overflow:unset}.swiper-hero[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   img#person-mockup[_ngcontent-%COMP%]{height:calc(100% + 50px);transform:translateY(-50px)}.swiper-hero[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   img#cat-mockup[_ngcontent-%COMP%]{height:100%}.primary-btn[_ngcontent-%COMP%]{font-size:2rem;padding-top:1.2rem;padding-bottom:1.2rem}"]}),_u),ku=((bu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||bu)},bu.\u0275cmp=r.Cb({type:bu,selectors:[["app-how-it-works"]],decls:26,vars:0,consts:[[1,"step"],["src","/assets/icons/dog_photo.svg","alt",""],["src","/assets/icons/thumbs_up.svg","alt",""],["src","/assets/icons/bag.svg","alt",""]],template:function(e,t){1&e&&(r.Nb(0,"h2"),r.lc(1,"How it works"),r.Mb(),r.Nb(2,"div",0),r.Jb(3,"img",1),r.Nb(4,"h3"),r.lc(5,"Upload Photo"),r.Mb(),r.Nb(6,"p"),r.lc(7," A well lit pet photo will work best"),r.Jb(8,"br"),r.lc(9," Blurry photos don't work well "),r.Mb(),r.Mb(),r.Nb(10,"div",0),r.Jb(11,"img",2),r.Nb(12,"h3"),r.lc(13,"Approve Art"),r.Mb(),r.Nb(14,"p"),r.lc(15," In about one day"),r.Jb(16,"br"),r.lc(17," you can approve your art "),r.Mb(),r.Mb(),r.Nb(18,"div",0),r.Jb(19,"img",3),r.Nb(20,"h3"),r.lc(21,"Order If You Like It"),r.Mb(),r.Nb(22,"p"),r.lc(23," Once you approved the art,"),r.Jb(24,"br"),r.lc(25," order your product "),r.Mb(),r.Mb())},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}h2[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem;text-align:center;font-family:m-bold;color:#2b2d42;font-size:2.5rem}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:6rem}.step[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.step[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%;margin-bottom:1.5rem}.step[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:m-bold;font-size:1.5rem;margin-bottom:.5rem}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}"]}),bu),Su=((mu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||mu)},mu.\u0275cmp=r.Cb({type:mu,selectors:[["app-custom-footer"]],decls:21,vars:0,consts:[[1,"contact-information"],[1,"social-media"],["href","https://www.instagram.com/petartai/","target","_blank"],["src","assets/logos/instagram-logo.svg","alt",""],["src","assets/logos/facebook-logo.svg","alt",""]],template:function(e,t){1&e&&(r.Nb(0,"footer"),r.Nb(1,"section",0),r.Nb(2,"h6"),r.lc(3,"Contact"),r.Mb(),r.Nb(4,"ul"),r.Nb(5,"li"),r.lc(6,"info@pet-ai.com"),r.Mb(),r.Nb(7,"li"),r.lc(8,"Stra\xdfburger Str. 56, 70435 Stuttgart, Germany"),r.Mb(),r.Mb(),r.Mb(),r.Nb(9,"section",1),r.Nb(10,"h6"),r.lc(11,"Social Media"),r.Mb(),r.Nb(12,"ul"),r.Nb(13,"li"),r.Nb(14,"a",2),r.Jb(15,"img",3),r.Mb(),r.Mb(),r.Nb(16,"li"),r.Nb(17,"a"),r.Jb(18,"img",4),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(19,"p"),r.lc(20,"\xa9 2021 PetAI"),r.Mb(),r.Mb())},styles:["footer[_ngcontent-%COMP%]{background-color:#2b2d42;display:flex;flex-direction:column;align-items:center;padding:2.5rem}footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1rem 0}footer[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:0}footer[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:0}footer[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}footer[_ngcontent-%COMP%] > section.contact-information[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{list-style-type:none}footer[_ngcontent-%COMP%] > section.contact-information[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{color:#ccc;font-family:m-reg;font-size:1rem;text-align:center}footer[_ngcontent-%COMP%] > section.social-media[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{list-style-type:none;display:flex;flex-direction:row;justify-content:center}footer[_ngcontent-%COMP%] > section.social-media[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block}footer[_ngcontent-%COMP%] > section.social-media[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;width:40px;height:40px}footer[_ngcontent-%COMP%] > section[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{color:#fff;font-family:m-bold;font-size:1rem;margin-bottom:.5rem;text-align:center}footer[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#ccc;font-family:m-reg;font-size:1rem}"]}),mu),Tu=((gu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||gu)},gu.\u0275cmp=r.Cb({type:gu,selectors:[["app-home"]],decls:3,vars:0,template:function(e,t){1&e&&(r.Jb(0,"app-hero"),r.Jb(1,"app-how-it-works"),r.Jb(2,"app-custom-footer"))},directives:[Cu,ku,Su],styles:[""]}),gu),Eu=[{id:"546d376f89e9f39e",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/newspaper.jpg",name:"Newspaper",mockupUrls:["/assets/images/mug-transparent/mug_mockup_newspaper.png","/assets/images/mug-background-mockups/mockup_newspaper_coco.png","/assets/images/mug-background-mockups/mockup_newspaper_miri.png"]},{id:"bd08a8f3025c3b93",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/sprinkle.jpg",name:"Sprinkle",mockupUrls:["/assets/images/mug-transparent/mug_mockup_sprinkle.png","/assets/images/mug-background-mockups/mockup_sprinkle_melli.png","/assets/images/mug-background-mockups/mockup_sprinkle_luna.png"]},{id:"56d9a4de476a54bd",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/modern_strokes.jpg",name:"Modern Strokes",mockupUrls:["/assets/images/mug-transparent/mug_mockup_modern-strokes.png","/assets/images/mug-background-mockups/mockup_modern-strokes_mono.png","/assets/images/mug-background-mockups/mockup_modern-strokes_noah.png"]},{id:"669611e3d06fc96e",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/abstract.jpg",name:"Abstract",mockupUrls:["/assets/images/mug-transparent/mug_mockup_abstract.png","/assets/images/mug-background-mockups/mockup_abstract_emma.png","/assets/images/mug-background-mockups/mockup_abstract_rosi.png"]},{id:"6b2a7f5cbc459bad",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/blue_monsoon.jpg",name:"Blue Monsoon",mockupUrls:["/assets/images/mug-transparent/mug_mockup_blue-monsoon.png","/assets/images/mug-background-mockups/mockup_blue-monsoon_luna.png","/assets/images/mug-background-mockups/mockup_blue-monsoon_pacho.png"]}],Ou=((wu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"clearState",value:function(){this.state=void 0}}]),e}()).\u0275fac=function(e){return new(e||wu)},wu.\u0275prov=r.Eb({token:wu,factory:wu.\u0275fac,providedIn:"root"}),wu);$r.use([uu,hu]);var xu,Pu=((xu=function(){function e(){_classCallCheck(this,e),this.isDescriptionActive=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.initDescriptionSwiper()}},{key:"initDescriptionSwiper",value:function(){this.descriptionSwiper=new $r(".swiper-product-info",{slidesPerView:1,allowTouchMove:!1})}},{key:"toggleTo",value:function(e){this.isDescriptionActive=0==e,this.descriptionSwiper.slideTo(e)}}]),e}()).\u0275fac=function(e){return new(e||xu)},xu.\u0275cmp=r.Cb({type:xu,selectors:[["app-description-swiper"]],decls:43,vars:4,consts:[[1,"toggle"],[3,"click"],[1,"swiper-container","swiper-product-info"],[1,"swiper-wrapper"],[1,"container","swiper-slide","description"],[1,"container","swiper-slide","shipping"]],template:function(e,t){1&e&&(r.Nb(0,"div",0),r.Nb(1,"h4",1),r.Tb("click",(function(){return t.toggleTo(0)})),r.lc(2," Description "),r.Mb(),r.Nb(3,"h4",1),r.Tb("click",(function(){return t.toggleTo(1)})),r.lc(4,"Shipping"),r.Mb(),r.Mb(),r.Nb(5,"div",2),r.Nb(6,"div",3),r.Nb(7,"div",4),r.Nb(8,"p"),r.lc(9," \ud83d\udc68\u200d\ud83c\udfa8 Our artists design your custom pet artwork with love, care and attention. Capturing your pet's unique personality and facial expression, and turning your pet photo into an incredible one of a kind pet art, ready to show off to friends and family! "),r.Mb(),r.Nb(10,"p"),r.lc(11," \u2714\ufe0f You don't spend a single penny before you haven't approved the artwork. (This will take around one day after you have submitted your photo) "),r.Mb(),r.Nb(12,"p"),r.lc(13," \u2615 Our 11oz mugs are perfect for sipping your morning coffee or any drink while at your office or college desk. Seeing your pet\u2019s cute face will surely brighten up any stressful work day! "),r.Mb(),r.Nb(14,"ul"),r.Nb(15,"li"),r.lc(16," \ud83d\ude02\ud83e\udd70 A conversation starter when friends and family come to visit "),r.Mb(),r.Nb(17,"li"),r.lc(18,"\ud83c\udfa8 Your pet portrait will be printed using never-fade ink"),r.Mb(),r.Nb(19,"li"),r.lc(20," \ud83d\udc36\ud83d\udc31 Totally customised to your pet. Finally, a mug as unique as your pet\u2019s perfect face! "),r.Mb(),r.Mb(),r.Nb(21,"p"),r.lc(22," \ud83c\udf81 Our customized pet mugs make the most thoughtful gifts to pet owners everywhere. Give away a gift that will create a brilliant memory. The unboxing and reaction experience is so heart-warming! "),r.Mb(),r.Nb(23,"h2"),r.lc(24,"How to get the preview"),r.Mb(),r.Nb(25,"ol"),r.Nb(26,"li"),r.lc(27,"Pick your art-style"),r.Mb(),r.Nb(28,"li"),r.lc(29,'Upload your pet photo using the "Upload Pet Photo" button'),r.Mb(),r.Nb(30,"li"),r.lc(31," Optionally enter your pet's name and birthmonth + year (if you want them to be additionally printed on the mug) "),r.Mb(),r.Nb(32,"li"),r.lc(33,"Submit your email where we should send the artwork to"),r.Mb(),r.Nb(34,"li"),r.lc(35," In about one day - approve your art and buy if you are happy with the outcome! "),r.Mb(),r.Mb(),r.Mb(),r.Nb(36,"div",5),r.Nb(37,"p"),r.lc(38,"\ud83c\uddfa\ud83c\uddf8 Shipping in the USA is free"),r.Mb(),r.Nb(39,"p"),r.lc(40,"\ud83c\udf0e Outside the USA shipping will be max 4.99 $"),r.Mb(),r.Nb(41,"p"),r.lc(42,"\u2714\ufe0f You only pay after you have approved your art"),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&e&&(r.xb(1),r.Ab("active",t.isDescriptionActive),r.xb(2),r.Ab("active",!t.isDescriptionActive))},styles:["[_nghost-%COMP%]{background-color:#fff}.toggle[_ngcontent-%COMP%]{padding-top:3rem;display:flex;justify-content:center;padding-bottom:2rem}.toggle[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:m-bold;font-size:1.6rem;padding-bottom:.5rem;color:#2b2d42;margin-left:1rem;margin-right:1rem}.toggle[_ngcontent-%COMP%]   h4.active[_ngcontent-%COMP%]{border-bottom:2px solid #ef233c}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{box-sizing:border-box;padding-top:1.5rem}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2b2d42;margin-bottom:1rem}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#2b2d42;font-size:1.3rem;margin-bottom:1rem}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:inside;list-style-type:upper-roman}"]}),xu);function Iu(e,t){if(1&e&&(r.Nb(0,"div",25),r.Nb(1,"div",26),r.Jb(2,"img",27),r.Mb(),r.Mb()),2&e){var n=t.$implicit;r.xb(2),r.cc("src",n,r.gc)}}$r.use([uu,hu,pu]);var Au,Mu=((Au=function(){function e(t,n,r){_classCallCheck(this,e),this.routerStateService=t,this.router=n,this.activatedRoute=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this.activatedRoute.snapshot.queryParamMap.get("styleImageId");if(e){var t=Eu.find((function(t){return t.id===e}));t?(this.selectedStyleImage=t,this.initPreviewSwiper()):this.router.navigateByUrl("/styles-selection")}else this.router.navigateByUrl("/styles-selection")}},{key:"initPreviewSwiper",value:function(){new $r(".swiper-preview",{slidesPerView:1,autoplay:{delay:4e3},observer:!0})}},{key:"onSubmitForm",value:function(e){e.preventDefault(),this.routerStateService.state={petName:this.petName,petBirthMonth:this.petBirthMonth,selectedFile:this.selectedFile},this.router.navigate(["summary"],{queryParamsHandling:"preserve"})}}]),e}()).\u0275fac=function(e){return new(e||Au)(r.Ib(Ou),r.Ib(Es),r.Ib(ya))},Au.\u0275cmp=r.Cb({type:Au,selectors:[["app-product-detail"]],decls:41,vars:5,consts:[[1,"back-arrow-container"],["routerLink","/styles-selection"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 12l9-8v6h15v4h-15v6z"],[1,"swiper-container","swiper-preview"],[1,"swiper-wrapper"],["class","swiper-slide",4,"ngFor","ngForOf"],[1,"header","container"],[1,"title-price"],[1,"product-title"],[1,"price"],[1,"style-price"],[1,"art-style"],["ngNativeValidate","",1,"personalisation-form","container",3,"submit"],[1,"form-group"],["for","pet-name"],["type","text","id","pet-name","placeholder","Lucky",3,"keyup"],["for","pet-birth-month"],["type","text","id","pet-birth-month","placeholder","April 2017",3,"keyup"],["for","pet-picture"],[1,"custom-file-input"],["type","file","id","pet-picture","accept","image/*","required","",3,"change"],["type","submit",1,"primary-btn"],[1,"transition-radius"],[1,"description"],[1,"swiper-slide"],[1,"square-ratio"],["alt","",1,"shadowed-img","animate__animated","animate__fadeInUp",3,"src"]],template:function(e,t){1&e&&(r.Nb(0,"div",0),r.Nb(1,"a",1),r.Wb(),r.Nb(2,"svg",2),r.Jb(3,"path",3),r.Mb(),r.Mb(),r.Mb(),r.Vb(),r.Nb(4,"div",4),r.Nb(5,"div",5),r.jc(6,Iu,3,1,"div",6),r.Mb(),r.Mb(),r.Nb(7,"div",7),r.Nb(8,"div",8),r.Nb(9,"h2",9),r.lc(10,"Custom Mug"),r.Mb(),r.Nb(11,"p",10),r.lc(12,"19.99\u20ac"),r.Mb(),r.Mb(),r.Nb(13,"div",11),r.Nb(14,"h3",12),r.lc(15),r.Mb(),r.Mb(),r.Mb(),r.Nb(16,"form",13),r.Tb("submit",(function(e){return t.onSubmitForm(e)})),r.Nb(17,"h2"),r.lc(18,"Personalisation"),r.Mb(),r.Nb(19,"div",14),r.Nb(20,"label",15),r.lc(21,"Pet name (optional)"),r.Mb(),r.Nb(22,"input",16),r.Tb("keyup",(function(e){return t.petName=e.target.value})),r.Mb(),r.Mb(),r.Nb(23,"div",14),r.Nb(24,"label",17),r.lc(25,"Pet birthmonth + year (optional)"),r.Mb(),r.Nb(26,"input",18),r.Tb("keyup",(function(e){return t.petBirthMonth=e.target.value})),r.Mb(),r.Mb(),r.Nb(27,"div",14),r.Nb(28,"label",19),r.lc(29,"Pet picture"),r.Mb(),r.Nb(30,"div",20),r.Nb(31,"p"),r.lc(32),r.Mb(),r.Nb(33,"button"),r.lc(34,"Upload Pet Photo"),r.Mb(),r.Mb(),r.Nb(35,"input",21),r.Tb("change",(function(e){return t.selectedFile=e.target.files[0]})),r.Mb(),r.Mb(),r.Nb(36,"button",22),r.lc(37," Create Preview "),r.Mb(),r.Jb(38,"div",23),r.Mb(),r.Jb(39,"app-description-swiper",24),r.Jb(40,"app-custom-footer")),2&e&&(r.xb(6),r.cc("ngForOf",null==t.selectedStyleImage?null:t.selectedStyleImage.mockupUrls),r.xb(9),r.nc("",null==t.selectedStyleImage?null:t.selectedStyleImage.name," Style"),r.xb(17),r.mc(null==t.selectedFile?null:t.selectedFile.name),r.xb(4),r.Ab("disabled",!t.selectedFile))},directives:[xs,U,Pu,Su],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative}div.back-arrow-container[_ngcontent-%COMP%]{position:absolute;top:2rem;left:2rem;z-index:2}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;padding:.5rem}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;filter:drop-shadow(0 0 5px rgba(77,77,77,.5))}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#fff}.swiper-preview[_ngcontent-%COMP%]{width:100%;box-shadow:0 5px 20px rgba(75,76,115,.4117647058823529);background:#3d4062;background:linear-gradient(149deg,#3d4062,#161835 100%,#141633 0,#141633 0)}.swiper-preview[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{box-sizing:border-box}.swiper-preview[_ngcontent-%COMP%]   .square-ratio[_ngcontent-%COMP%]{padding-top:calc(100% + 40px)}.swiper-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;-o-object-fit:cover;object-fit:cover;margin:auto}.swiper-preview[_ngcontent-%COMP%]   img.transparent-background[_ngcontent-%COMP%]{width:80%;-o-object-fit:contain;object-fit:contain}.header[_ngcontent-%COMP%]{position:relative;z-index:10;border-radius:40px 40px 0 0;background-color:#fff;transform:translateY(-40px);padding-bottom:0}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:.5rem}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]   h2.product-title[_ngcontent-%COMP%]{font-family:pf-reg;font-weight:400;font-size:2.4rem}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:1.8rem;letter-spacing:1.9px;font-family:m-light}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.header[_ngcontent-%COMP%]   h3.art-style[_ngcontent-%COMP%]{font-family:m-bold;font-size:1.6rem}form.personalisation-form[_ngcontent-%COMP%]{border-radius:40px 40px 0 0;background-color:#2b2d42;padding-bottom:40px;position:relative}form.personalisation-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:pf-reg;color:#fff;font-weight:400;margin-bottom:2rem;font-size:1.7rem}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1.6rem;position:relative}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-size:1rem;margin-bottom:.8rem}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%], form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:42px;border:none;outline:none;border-radius:10px;padding-left:1.5rem;padding-right:1.5rem;color:#fff;background-color:#585b7e}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[type=file][_ngcontent-%COMP%], form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]::-moz-placeholder, form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#afafaf}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]::placeholder, form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#afafaf}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;padding-right:0}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#2b2d42;outline:none;color:#fff;border:1px solid #fff;height:100%;width:calc(50% + .725rem);border-radius:10px}.primary-btn[_ngcontent-%COMP%]{width:100%;padding-top:1.2rem;padding-bottom:1.2rem;font-size:1.5rem;margin-left:auto;margin-right:auto;margin-bottom:3rem;transition:opacity .25s ease-in-out}.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}.transition-radius[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:40px;border-radius:40px 40px 0 0;background-color:#fff;width:100%}app-custom-footer[_ngcontent-%COMP%]{margin-top:3.5rem}"]}),Au),Nu=function(e){return{styleImageId:e}};function Ru(e,t){if(1&e&&(r.Nb(0,"div",7),r.Nb(1,"div",8),r.Jb(2,"img",9),r.Mb(),r.Nb(3,"h3",10),r.lc(4),r.Mb(),r.Mb()),2&e){var n=t.$implicit;r.xb(1),r.cc("queryParams",r.dc(3,Nu,n.id)),r.xb(1),r.cc("src",n.publicUrl,r.gc),r.xb(2),r.mc(n.name)}}var Du,ju,Lu=((Du=function(){function e(){_classCallCheck(this,e),this.styleImages=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.styleImages=Eu}}]),e}()).\u0275fac=function(e){return new(e||Du)},Du.\u0275cmp=r.Cb({type:Du,selectors:[["app-style-selection"]],decls:10,vars:1,consts:[[1,"back-arrow-container"],["routerLink","/"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 12l9-8v6h15v4h-15v6z"],[1,"container"],[1,"grid"],["class","style",4,"ngFor","ngForOf"],[1,"style"],["routerLink","/product-detail",1,"square-ratio",3,"queryParams"],["alt","",3,"src"],[1,"style-title"]],template:function(e,t){1&e&&(r.Nb(0,"div",0),r.Nb(1,"a",1),r.Wb(),r.Nb(2,"svg",2),r.Jb(3,"path",3),r.Mb(),r.Mb(),r.Mb(),r.Vb(),r.Nb(4,"header"),r.Nb(5,"h1"),r.lc(6,"Art-Styles"),r.Mb(),r.Mb(),r.Nb(7,"div",4),r.Nb(8,"div",5),r.jc(9,Ru,5,5,"div",6),r.Mb(),r.Mb()),2&e&&(r.xb(9),r.cc("ngForOf",t.styleImages))},directives:[xs,U,Os],styles:["div.back-arrow-container[_ngcontent-%COMP%]{position:fixed;top:2rem;left:2rem;z-index:2}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;padding:.5rem}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#2b2d42}header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1;width:100%;display:flex;justify-content:center;background-color:#fff}header[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-family:m-bold;font-size:2rem;line-height:2rem;padding:calc(1.5rem + 12px)}div.container[_ngcontent-%COMP%]{padding-top:calc(5rem + 24px)}.header[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center;justify-content:center;position:relative;padding-top:1rem;padding-bottom:1rem;margin-bottom:2rem;position:sticky;top:0}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.grid[_ngcontent-%COMP%]   div.style[_ngcontent-%COMP%]{position:relative}.grid[_ngcontent-%COMP%]   div.style[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:40px;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:bottom;object-position:bottom}.grid[_ngcontent-%COMP%]   div.style[_ngcontent-%COMP%]   h3.style-title[_ngcontent-%COMP%]{height:auto;color:#2b2d42;text-align:center;bottom:0;padding-top:1rem;padding-bottom:.5rem;width:100%;border-radius:30px;font-family:m-bold;font-weight:400}"]}),Du);function Fu(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(hk){o(hk)}}function s(e){try{u(r.throw(e))}catch(hk){o(hk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}var Uu=new Uint8Array(16);function qu(){if(!ju&&!(ju="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ju(Uu)}for(var Vu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,zu=function(e){return"string"==typeof e&&Vu.test(e)},Bu=[],Hu=0;Hu<256;++Hu)Bu.push((Hu+256).toString(16).substr(1));var Gu=function(e,t,n){var r=(e=e||{}).random||(e.rng||qu)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Bu[e[t+0]]+Bu[e[t+1]]+Bu[e[t+2]]+Bu[e[t+3]]+"-"+Bu[e[t+4]]+Bu[e[t+5]]+"-"+Bu[e[t+6]]+Bu[e[t+7]]+"-"+Bu[e[t+8]]+Bu[e[t+9]]+"-"+Bu[e[t+10]]+Bu[e[t+11]]+Bu[e[t+12]]+Bu[e[t+13]]+Bu[e[t+14]]+Bu[e[t+15]]).toLowerCase();if(!zu(n))throw TypeError("Stringified UUID is invalid");return n}(r)},Ku=n("Jgta"),Wu=n("D0XW");function Qu(){return function(e){return e.lift(new Yu)}}var Yu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Xu(e))}}]),e}(),Xu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(bi.a);function $u(e,t){return function(n){return n.lift(new Ju(e,t))}}var Ju=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Zu(e,this.compare,this.keySelector))}}]),e}(),Zu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(bi.a),ec=n("pxpQ"),tc=n("spgP"),nc=n("zIRd"),rc=n("qOnz"),ic=n("q/0M"),oc=function(e,t){return(oc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ac(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var sc,uc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},cc=cc||{},lc=uc||self;function hc(){}function fc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function dc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var pc="closure_uid_"+(1e9*Math.random()>>>0),vc=0;function yc(e,t,n){return e.call.apply(e.bind,arguments)}function gc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function mc(e,t,n){return(mc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yc:gc).apply(null,arguments)}function bc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _c(){return Date.now()}function wc(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Cc(){this.j=this.j,this.i=this.i}Cc.prototype.j=!1,Cc.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,pc)&&e[pc]||(e[pc]=++vc)}(this)},Cc.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var kc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Sc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Tc(e){return Array.prototype.concat.apply([],arguments)}function Ec(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Oc(e){return/^[\s\xa0]*$/.test(e)}var xc,Pc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ic(e,t){return-1!=e.indexOf(t)}function Ac(e,t){return e<t?-1:e>t?1:0}e:{var Mc=lc.navigator;if(Mc){var Nc=Mc.userAgent;if(Nc){xc=Nc;break e}}xc=""}function Rc(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Dc(e){var t={};for(var n in e)t[n]=e[n];return t}var jc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<jc.length;o++)n=jc[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fc(e){return Fc[" "](e),e}Fc[" "]=hc;var Uc,qc,Vc=Ic(xc,"Opera"),zc=Ic(xc,"Trident")||Ic(xc,"MSIE"),Bc=Ic(xc,"Edge"),Hc=Bc||zc,Gc=Ic(xc,"Gecko")&&!(Ic(xc.toLowerCase(),"webkit")&&!Ic(xc,"Edge"))&&!(Ic(xc,"Trident")||Ic(xc,"MSIE"))&&!Ic(xc,"Edge"),Kc=Ic(xc.toLowerCase(),"webkit")&&!Ic(xc,"Edge");function Wc(){var e=lc.document;return e?e.documentMode:void 0}e:{var Qc="",Yc=(qc=xc,Gc?/rv:([^\);]+)(\)|;)/.exec(qc):Bc?/Edge\/([\d\.]+)/.exec(qc):zc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qc):Kc?/WebKit\/(\S+)/.exec(qc):Vc?/(?:Version)[ \/]?(\S+)/.exec(qc):void 0);if(Yc&&(Qc=Yc?Yc[1]:""),zc){var Xc=Wc();if(null!=Xc&&Xc>parseFloat(Qc)){Uc=String(Xc);break e}}Uc=Qc}var $c={};function Jc(e){return function(e,t){var n=$c;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=Pc(String(Uc)).split("."),r=Pc(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Ac(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Ac(0==a[2].length,0==s[2].length)||Ac(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var Zc=lc.document&&zc&&(Wc()||parseInt(Uc,10))||void 0,el=!zc||9<=Number(Zc),tl=zc&&!Jc("9"),nl=function(){if(!lc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{lc.addEventListener("test",hc,t),lc.removeEventListener("test",hc,t)}catch(n){}return e}();function rl(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function il(e,t){if(rl.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Gc){e:{try{Fc(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ol[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}rl.prototype.b=function(){this.defaultPrevented=!0},wc(il,rl);var ol={2:"touch",3:"pen",4:"mouse"};il.prototype.b=function(){il.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,tl)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var al="closure_listenable_"+(1e6*Math.random()|0),sl=0;function ul(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++sl,this.Y=this.Z=!1}function cl(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function ll(e){this.src=e,this.a={},this.b=0}function hl(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=kc(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(cl(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function fl(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}ll.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=fl(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ul(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var dl="closure_lm_"+(1e6*Math.random()|0),pl={};function vl(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=kl(r),t&&t[al]?t.wa(n,r,dc(i)?!!i.capture:!!i,o):yl(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)vl(e,t[o],n,r,i);return null}return n=kl(n),e&&e[al]?e.va(t,n,dc(r)?!!r.capture:!!r,i):yl(e,t,n,!1,r,i)}function yl(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=dc(i)?!!i.capture:!!i;if(a&&!el)return null;var s=wl(e);if(s||(e[dl]=s=new ll(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=_l,t=el?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nl||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ml(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function gl(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[al])hl(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ml(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wl(t))?(hl(n,e),0==n.b&&(n.src=null,t[dl]=null)):cl(e)}}}function ml(e){return e in pl?pl[e]:pl[e]="on"+e}function bl(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&gl(e),n.call(r,t)}function _l(e,t){if(e.Y)return!0;if(!el){if(!t)e:{t=["window","event"];for(var n=lc,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return bl(e,t=new il(t,this))}return bl(e,new il(t,this))}function wl(e){return(e=e[dl])instanceof ll?e:null}var Cl="__closure_events_fn_"+(1e9*Math.random()>>>0);function kl(e){return"function"==typeof e?e:(e[Cl]||(e[Cl]=function(t){return e.handleEvent(t)}),e[Cl])}function Sl(){Cc.call(this),this.c=new ll(this),this.J=this,this.C=null}function Tl(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new rl(t,e);else if(t instanceof rl)t.target=t.target||e;else{var i=t;Lc(t=new rl(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=El(a,r,!0,t)&&i}if(i=El(a=t.a=e,r,!0,t)&&i,i=El(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=El(a=t.a=n[o],r,!1,t)&&i}function El(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&hl(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}wc(Sl,Cc),Sl.prototype[al]=!0,(sc=Sl.prototype).addEventListener=function(e,t,n,r){vl(this,e,t,n,r)},sc.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=dc(i)?!!i.capture:!!i,r=kl(r),t&&t[al]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=fl(a=t.a[n],r,i,o))&&(cl(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):t&&(t=wl(t))&&(n=t.a[n.toString()],t=-1,n&&(t=fl(n,r,i,o)),(r=-1<t?n[t]:null)&&gl(r))}(this,e,t,n,r)},sc.G=function(){if(Sl.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)cl(n[r]);delete t.a[e],t.b--}}this.C=null},sc.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},sc.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ol=lc.JSON.stringify;function xl(){this.b=this.a=null}var Pl,Il=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new Ml}),(function(e){e.reset()}));function Al(){var e=jl,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ml(){this.next=this.b=this.a=null}function Nl(e){lc.setTimeout((function(){throw e}),0)}function Rl(e,t){Pl||function(){var e=lc.Promise.resolve(void 0);Pl=function(){e.then(Ll)}}(),Dl||(Pl(),Dl=!0),jl.add(e,t)}xl.prototype.add=function(e,t){var n=Il.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ml.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ml.prototype.reset=function(){this.next=this.b=this.a=null};var Dl=!1,jl=new xl;function Ll(){for(var e;e=Al();){try{e.a.call(e.b)}catch(n){Nl(n)}var t=Il;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Dl=!1}function Fl(e,t){Sl.call(this),this.b=e||1,this.a=t||lc,this.f=mc(this.Za,this),this.g=_c()}function Ul(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function ql(e,t,n){if("function"==typeof e)n&&(e=mc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=mc(e.handleEvent,e)}return 2147483647<Number(t)?-1:lc.setTimeout(e,t||0)}function Vl(e){e.a=ql((function(){e.a=null,e.c&&(e.c=!1,Vl(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}wc(Fl,Sl),(sc=Fl.prototype).aa=!1,sc.M=null,sc.Za=function(){if(this.aa){var e=_c()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Tl(this,"tick"),this.aa&&(Ul(this),this.start()))}},sc.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_c())},sc.G=function(){Fl.X.G.call(this),Ul(this),delete this.a};var zl=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}oc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Vl(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(lc.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Cc);function Bl(e){Cc.call(this),this.b=e,this.a={}}wc(Bl,Cc);var Hl=[];function Gl(e,t,n,r){Array.isArray(n)||(n&&(Hl[0]=n.toString()),n=Hl);for(var i=0;i<n.length;i++){var o=vl(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Kl(e){Rc(e.a,(function(e,t){this.a.hasOwnProperty(t)&&gl(e)}),e),e.a={}}function Wl(){this.a=!0}function Ql(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ol(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Bl.prototype.G=function(){Bl.X.G.call(this),Kl(this)},Bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wl.prototype.info=function(){};var Yl={},Xl=null;function $l(){return Xl=Xl||new Sl}function Jl(e){rl.call(this,Yl.Fa,e)}function Zl(e){var t=$l();Tl(t,new Jl(t,e))}function eh(e,t){rl.call(this,Yl.STAT_EVENT,e),this.stat=t}function th(e){var t=$l();Tl(t,new eh(t,e))}function nh(e){rl.call(this,Yl.Ga,e)}function rh(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return lc.setTimeout((function(){e()}),t)}Yl.Fa="serverreachability",wc(Jl,rl),Yl.STAT_EVENT="statevent",wc(eh,rl),Yl.Ga="timingevent",wc(nh,rl);var ih={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},oh={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ah(){}function sh(){}ah.prototype.a=null;var uh,ch={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function lh(){rl.call(this,"d")}function hh(){rl.call(this,"c")}function fh(){}function dh(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Bl(this),this.P=ph,this.R=new Fl(e=Hc?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}wc(lh,rl),wc(hh,rl),wc(fh,ah),uh=new fh;var ph=45e3,vh={},yh={};function gh(e,t,n){e.H=1,e.i=Uh(Nh(t)),e.j=n,e.I=!0,mh(e,null)}function mh(e,t){e.u=_c(),wh(e),e.l=Nh(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),Jh(n.b,"t",r),e.D=0,e.a=Wf(e.g,e.g.C?t:null),0<e.O&&(e.F=new zl(mc(e.Ca,e,e.a),e.O)),Gl(e.J,e.a,"readystatechange",e.Xa),t=e.B?Dc(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Zl(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function bh(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=_h(e,n);if(i==yh){4==t&&(e.h=4,th(14),r=!1),Ql(e.c,e.f,null,"[Incomplete Response]");break}if(i==vh){e.h=4,th(15),Ql(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Ql(e.c,e.f,i,null),Eh(e,i)}4==t&&0==n.length&&(e.h=1,th(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uf(t),t.F=!0,th(11))):(Ql(e.c,e.f,n,"[Invalid Chunked Response]"),Th(e),Sh(e))}function _h(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?yh:(n=Number(t.substring(n,r)),isNaN(n)?vh:(r+=1)+n>t.length?yh:(t=t.substr(r,n),e.D=r+n,t))}function wh(e){e.T=_c()+e.P,Ch(e,e.P)}function Ch(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=rh(mc(e.Va,e),t)}function kh(e){e.o&&(lc.clearTimeout(e.o),e.o=null)}function Sh(e){0==e.g.v||e.A||zf(e.g,e)}function Th(e){kh(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Ul(e.R),Kl(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Eh(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||af(n.b,e)))if(n.I=e.N,!e.C&&af(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(IC){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Vf(n),If(n)}Ff(n),th(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=rh(mc(n.Sa,n),6e3));if(1>=of(n.b)&&n.ea){try{n.ea()}catch(IC){}n.ea=void 0}}else Hf(n,11)}else if((e.C||n.a==e)&&Vf(n),!Oc(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(n.P=(i=t[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ic(l,"spdy")||Ic(l,"quic")||Ic(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(sf(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Fh(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=_c()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Kf(u,u.C?u.ga:null,u.fa),d.C){uf(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(kh(p),wh(p)),u.a=d}else Lf(u);0<n.g.length&&Nf(n)}else"stop"!=i[0]&&"close"!=i[0]||Hf(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hf(n,7):Pf(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Zl(4)}catch(IC){}}function Oh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(fc(e)||"string"==typeof e)Sc(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(fc(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(fc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function xh(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xh)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ph(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ih(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ih(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ih(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(sc=dh.prototype).setTimeout=function(e){this.P=e},sc.Xa=function(e){e=e.target;var t=this.F;t&&3==Tf(e)?t.f():this.Ca(e)},sc.Ca=function(e){try{if(e==this.a)e:{var t=Tf(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!Hc&&!this.a.$())){this.A||4!=t||7==n||Zl(8==n||0>=r?3:2),kh(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oc(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,th(12),Th(this),Sh(this);break e}Ql(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Eh(this,u)}this.I?(bh(this,t,o),Hc&&this.b&&3==t&&(Gl(this.J,this.R,"tick",this.Wa),this.R.start())):(Ql(this.c,this.f,o,null),Eh(this,o)),4==t&&Th(this),this.b&&!this.A&&(4==t?zf(this.g,this):(this.b=!1,wh(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,th(12)):(this.h=0,th(13)),Th(this),Sh(this)}}}catch(c){}},sc.Wa=function(){if(this.a){var e=Tf(this.a),t=this.a.$();this.D<t.length&&(kh(this),bh(this,e,t),this.b&&4!=e&&wh(this))}},sc.cancel=function(){this.A=!0,Th(this)},sc.Va=function(){this.o=null;var e=_c();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(Zl(3),th(17)),Th(this),this.h=2,Sh(this)):Ch(this,this.T-e)},(sc=xh.prototype).K=function(){Ph(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},sc.L=function(){return Ph(this),this.a.concat()},sc.get=function(e,t){return Ih(this.b,e)?this.b[e]:t},sc.set=function(e,t){Ih(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},sc.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ah=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mh(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Mh){this.a=void 0!==t?t:e.a,Rh(this,e.f),this.j=e.j,Dh(this,e.c),jh(this,e.h),this.g=e.g,t=e.b;var n=new Qh;n.c=t.c,t.a&&(n.a=new xh(t.a),n.b=t.b),Lh(this,n),this.i=e.i}else e&&(n=String(e).match(Ah))?(this.a=!!t,Rh(this,n[1]||"",!0),this.j=qh(n[2]||""),Dh(this,n[3]||"",!0),jh(this,n[4]),this.g=qh(n[5]||"",!0),Lh(this,n[6]||"",!0),this.i=qh(n[7]||"")):(this.a=!!t,this.b=new Qh(null,this.a))}function Nh(e){return new Mh(e)}function Rh(e,t,n){e.f=n?qh(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Dh(e,t,n){e.c=n?qh(t,!0):t}function jh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Lh(e,t,n){t instanceof Qh?(e.b=t,function(e,t){t&&!e.f&&(Yh(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xh(this,t),Jh(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Vh(t,Kh)),e.b=new Qh(t,e.a))}function Fh(e,t,n){e.b.set(t,n)}function Uh(e){return Fh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_c()).toString(36)),e}function qh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vh(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,zh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mh.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Vh(t,Bh,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Vh(t,Bh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vh(n,"/"==n.charAt(0)?Gh:Hh,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Vh(n,Wh)),e.join("")};var Bh=/[#\/\?@]/g,Hh=/[#\?:]/g,Gh=/[#\?]/g,Kh=/[#\?@]/g,Wh=/#/g;function Qh(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Yh(e){e.a||(e.a=new xh,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xh(e,t){Yh(e),t=Zh(e,t),Ih(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ih((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ph(e)))}function $h(e,t){return Yh(e),t=Zh(e,t),Ih(e.a.b,t)}function Jh(e,t,n){Xh(e,t),0<n.length&&(e.c=null,e.a.set(Zh(e,t),Ec(n)),e.b+=n.length)}function Zh(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(sc=Qh.prototype).add=function(e,t){Yh(this),this.c=null,e=Zh(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},sc.forEach=function(e,t){Yh(this),this.a.forEach((function(n,r){Sc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},sc.L=function(){Yh(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},sc.K=function(e){Yh(this);var t=[];if("string"==typeof e)$h(this,e)&&(t=Tc(t,this.a.get(Zh(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=Tc(t,e[n])}return t},sc.set=function(e,t){return Yh(this),this.c=null,$h(this,e=Zh(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},sc.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},sc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ef=function(e,t){this.b=e,this.a=t};function tf(e){this.g=e||nf,e=lc.PerformanceNavigationTiming?0<(e=lc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(lc.ia&&lc.ia.ya&&lc.ia.ya()&&lc.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var nf=10;function rf(e){return!!e.b||!!e.a&&e.a.size>=e.f}function of(e){return e.b?1:e.a?e.a.size:0}function af(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function sf(e,t){e.a?e.a.add(t):e.b=t}function uf(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function cf(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=ac(e.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ec(e.c)}function lf(){}function hf(){this.a=new lf}function ff(e,t,n){var r=n||"";try{Oh(e,(function(e,n){var i=e;dc(e)&&(i=Ol(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(hk){throw t.push(r+"type="+encodeURIComponent("_badmap")),hk}}function df(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}tf.prototype.cancel=function(){var e,t;if(this.c=cf(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ac(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},lf.prototype.stringify=function(e){return lc.JSON.stringify(e,void 0)},lf.prototype.parse=function(e){return lc.JSON.parse(e,void 0)};var pf=lc.JSON.parse;function vf(e){Sl.call(this),this.headers=new xh,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=yf,this.D=this.F=!1}wc(vf,Sl);var yf="",gf=/^https?$/i,mf=["POST","PUT"];function bf(e){return"content-type"==e.toLowerCase()}function _f(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,wf(e),kf(e)}function wf(e){e.u||(e.u=!0,Tl(e,"complete"),Tl(e,"error"))}function Cf(e){if(e.b&&void 0!==cc&&(!e.s[1]||4!=Tf(e)||2!=e.W()))if(e.l&&4==Tf(e))ql(e.za,0,e);else if(Tl(e,"readystatechange"),4==Tf(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Ah)[1]||null;if(!o&&lc.self&&lc.self.location){var a=lc.self.location.protocol;o=a.substr(0,a.length-1)}i=!gf.test(o?o.toLowerCase():"")}t=i}if(t)Tl(e,"complete"),Tl(e,"success");else{e.h=6;try{var s=2<Tf(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",wf(e)}}finally{kf(e)}}}function kf(e,t){if(e.a){Sf(e);var n=e.a,r=e.s[0]?hc:null;e.a=null,e.s=null,t||Tl(e,"ready");try{n.onreadystatechange=r}catch(hk){}}}function Sf(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(lc.clearTimeout(e.m),e.m=null)}function Tf(e){return e.a?e.a.readyState:0}function Ef(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Rc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Fh(e,t,n))}function Of(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xf(e){this.pa=0,this.g=[],this.c=new Wl,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Of("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Of("baseRetryDelayMs",5e3,e),this.Ra=Of("retryDelaySeedMs",1e4,e),this.Ma=Of("forwardChannelMaxRetries",2,e),this.ma=Of("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new tf(e&&e.concurrentRequestLimit),this.ka=new hf,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Pf(e){if(Af(e),3==e.v){var t=e.R++,n=Nh(e.B);Fh(n,"SID",e.J),Fh(n,"RID",t),Fh(n,"TYPE","terminate"),Df(e,n),(t=new dh(e,e.c,t,void 0)).H=2,t.i=Uh(Nh(n)),n=!1,lc.navigator&&lc.navigator.sendBeacon&&(n=lc.navigator.sendBeacon(t.i.toString(),"")),!n&&lc.Image&&((new Image).src=t.i,n=!0),n||(t.a=Wf(t.g,null),t.a.ba(t.i)),t.u=_c(),wh(t)}Gf(e)}function If(e){e.a&&(Uf(e),e.a.cancel(),e.a=null)}function Af(e){If(e),e.j&&(lc.clearTimeout(e.j),e.j=null),Vf(e),e.b.cancel(),e.h&&("number"==typeof e.h&&lc.clearTimeout(e.h),e.h=null)}function Mf(e,t){e.g.push(new ef(e.Oa++,t)),3==e.v&&Nf(e)}function Nf(e){rf(e.b)||e.h||(e.h=!0,Rl(e.Ba,e),e.u=0)}function Rf(e,t){var n;n=t?t.f:e.R++;var r=Nh(e.B);Fh(r,"SID",e.J),Fh(r,"RID",n),Fh(r,"AID",e.P),Df(e,r),e.i&&e.l&&Ef(r,e.i,e.l),n=new dh(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=jf(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),sf(e.b,n),gh(n,r,t)}function Df(e,t){e.f&&Oh({},(function(e,n){Fh(t,n,e)}))}function jf(e,t,n){n=Math.min(e.g.length,n);var r=e.f?mc(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{ff(l,a,"req"+c+"_")}catch(Pd){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Lf(e){e.a||e.j||(e.T=1,Rl(e.Aa,e),e.o=0)}function Ff(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=rh(mc(e.Aa,e),Bf(e,e.o)),e.o++,0))}function Uf(e){null!=e.s&&(lc.clearTimeout(e.s),e.s=null)}function qf(e){e.a=new dh(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Nh(e.la);Fh(t,"RID","rpc"),Fh(t,"SID",e.J),Fh(t,"CI",e.H?"0":"1"),Fh(t,"AID",e.P),Df(e,t),Fh(t,"TYPE","xmlhttp"),e.i&&e.l&&Ef(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Uh(Nh(t)),n.j=null,n.I=!0,mh(n,e)}function Vf(e){null!=e.m&&(lc.clearTimeout(e.m),e.m=null)}function zf(e,t){var n=null;if(e.a==t){Vf(e),Uf(e),e.a=null;var r=2}else{if(!af(e.b,t))return;n=t.s,uf(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=_c()-t.u;var i=e.u;Tl(r=$l(),new nh(r,n,t,i)),Nf(e)}else Lf(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(of(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=rh(mc(e.Ba,e,t),Bf(e,e.u)),e.u++,0)))}(e,t)||2==r&&Ff(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Hf(e,5);break;case 4:Hf(e,10);break;case 3:Hf(e,6);break;default:Hf(e,2)}}function Bf(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Hf(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=mc(e.Ya,e);n||(n=new Mh("//www.google.com/images/cleardot.gif"),lc.location&&"http"==lc.location.protocol||Rh(n,"https"),Uh(n)),function(e,t){var n=new Wl;if(lc.Image){var r=new Image;r.onload=bc(df,n,r,"TestLoadImage: loaded",!0,t),r.onerror=bc(df,n,r,"TestLoadImage: error",!1,t),r.onabort=bc(df,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=bc(df,n,r,"TestLoadImage: timeout",!1,t),lc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else th(2);e.v=0,e.f&&e.f.ra(t),Gf(e),Af(e)}function Gf(e){e.v=0,e.I=-1,e.f&&(0==cf(e.b).length&&0==e.g.length||(e.b.c.length=0,Ec(e.g),e.g.length=0),e.f.qa())}function Kf(e,t,n){var r=function(e){return e instanceof Mh?Nh(e):new Mh(e,void 0)}(n);if(""!=r.c)t&&Dh(r,t+"."+r.c),jh(r,r.h);else{var i=lc.location;r=function(e,t,n,r){var i=new Mh(null,void 0);return e&&Rh(i,e),t&&Dh(i,t),n&&jh(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Rc(e.V,(function(e,t){Fh(r,t,e)})),n=e.na,(t=e.A)&&n&&Fh(r,t,n),Fh(r,"VER",e.ha),Df(e,r),r}function Wf(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new vf(e.Na)).F=e.C,t}function Qf(){}function Yf(){if(zc&&!(10<=Number(Zc)))throw Error("Environmental error: no available transport.")}function Xf(e,t){Sl.call(this),this.a=new xf(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Oc(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oc(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new Zf(this)}function $f(e){lh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Jf(){hh.call(this),this.status=1}function Zf(e){this.a=e}(sc=vf.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.H?this.H:uh),this.a.onreadystatechange=mc(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void _f(this,o)}e=n||"";var i=new xh(this.headers);r&&Oh(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=bf,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=lc.FormData&&e instanceof lc.FormData,!(0<=kc(mf,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Sf(this),0<this.o&&((this.D=function(e){return zc&&Jc(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=mc(this.xa,this)):this.m=ql(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){_f(this,o)}},sc.xa=function(){void 0!==cc&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Tl(this,"timeout"),this.abort(8))},sc.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Tl(this,"complete"),Tl(this,"abort"),kf(this))},sc.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kf(this,!0)),vf.X.G.call(this)},sc.za=function(){this.j||(this.A||this.l||this.g?Cf(this):this.Ua())},sc.Ua=function(){Cf(this)},sc.W=function(){try{return 2<Tf(this)?this.a.status:-1}catch(qc){return-1}},sc.$=function(){try{return this.a?this.a.responseText:""}catch(qc){return""}},sc.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pf(t)}},sc.ua=function(){return this.h},sc.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(sc=xf.prototype).ha=8,sc.v=1,sc.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new dh(this,this.c,e,void 0),r=this.l;if(this.O&&(r?Lc(r=Dc(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=jf(this,n,t),Fh(i=Nh(this.B),"RID",e),Fh(i,"CVER",22),this.A&&Fh(i,"X-HTTP-Session-Id",this.A),Df(this,i),this.i&&r&&Ef(i,this.i,r),sf(this.b,n),this.Ia&&Fh(i,"TYPE","init"),this.da?(Fh(i,"$req",t),Fh(i,"SID","null"),n.U=!0,gh(n,i,null)):gh(n,i,t),this.v=2}}else 3==this.v&&(e?Rf(this,e):0==this.g.length||rf(this.b)||Rf(this))},sc.Aa=function(){if(this.j=null,qf(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=rh(mc(this.Ta,this),e)}},sc.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,th(10),If(this),qf(this))},sc.Sa=function(){null!=this.m&&(this.m=null,If(this),Ff(this),th(19))},sc.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),th(2)):(this.c.info("Failed to ping google.com"),th(1))},(sc=Qf.prototype).ta=function(){},sc.sa=function(){},sc.ra=function(){},sc.qa=function(){},sc.Ja=function(){},Yf.prototype.a=function(e,t){return new Xf(e,t)},wc(Xf,Sl),Xf.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;th(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Kf(e,null,e.fa),Nf(e)},Xf.prototype.close=function(){Pf(this.a)},Xf.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,Mf(this.a,t)}else this.l?((t={}).__data__=Ol(e),Mf(this.a,t)):Mf(this.a,e)},Xf.prototype.G=function(){this.a.f=null,delete this.f,Pf(this.a),delete this.a,Xf.X.G.call(this)},wc($f,lh),wc(Jf,hh),wc(Zf,Qf),Zf.prototype.ta=function(){Tl(this.a,"a")},Zf.prototype.sa=function(e){Tl(this.a,new $f(e))},Zf.prototype.ra=function(e){Tl(this.a,new Jf(e))},Zf.prototype.qa=function(){Tl(this.a,"b")},Yf.prototype.createWebChannel=Yf.prototype.a,Xf.prototype.send=Xf.prototype.h,Xf.prototype.open=Xf.prototype.g,Xf.prototype.close=Xf.prototype.close,ih.NO_ERROR=0,ih.TIMEOUT=8,ih.HTTP_ERROR=6,oh.COMPLETE="complete",sh.EventType=ch,ch.OPEN="a",ch.CLOSE="b",ch.ERROR="c",ch.MESSAGE="d",Sl.prototype.listen=Sl.prototype.va,vf.prototype.listenOnce=vf.prototype.wa,vf.prototype.getLastError=vf.prototype.Qa,vf.prototype.getLastErrorCode=vf.prototype.ua,vf.prototype.getStatus=vf.prototype.W,vf.prototype.getResponseJson=vf.prototype.Pa,vf.prototype.getResponseText=vf.prototype.$,vf.prototype.send=vf.prototype.ba;var ed=ih,td=oh,nd=Yl,rd=sh,id=vf,od=function(e,t){return(od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ad(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}od(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function sd(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(hk){o(hk)}}function s(e){try{u(r.throw(e))}catch(hk){o(hk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ud(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(hk){o=[6,hk],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function cd(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var ld=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();ld.o=-1;var hd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fd=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return ad(t,e),t}(Error),dd=new ic.b("@firebase/firestore");function pd(){return dd.logLevel}function vd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(dd.logLevel<=ic.a.DEBUG){var r=t.map(md);dd.debug.apply(dd,cd(["Firestore (8.4.0): "+e],r))}}function yd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(dd.logLevel<=ic.a.ERROR){var r=t.map(md);dd.error.apply(dd,cd(["Firestore (8.4.0): "+e],r))}}function gd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(dd.logLevel<=ic.a.WARN){var r=t.map(md);dd.warn.apply(dd,cd(["Firestore (8.4.0): "+e],r))}}function md(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(hk){return e}}function bd(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+e;throw yd(t),new Error(t)}function _d(e,t){e||bd()}function wd(e,t){return e}function Cd(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var kd=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Cd(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Sd(e,t){return e<t?-1:e>t?1:0}function Td(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ed(e){return e+"\0"}var Od=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fd(hd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fd(hd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fd(hd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fd(hd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Sd(this.nanoseconds,e.nanoseconds):Sd(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),xd=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Od(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Pd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Id(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ad(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Md=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&bd(),void 0===n?n=e.length-t:n>e.length-t&&bd(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Nd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ad(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new fd(hd.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Md),Rd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ad(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Rd.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new fd(hd.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new fd(hd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new fd(hd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new fd(hd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Md),jd=function(){function e(e){this.fields=e,e.sort(Dd.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Td(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Ld=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Sd(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Ld.EMPTY_BYTE_STRING=new Ld("");var Fd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ud(e){if(_d(!!e),"string"==typeof e){var t=0,n=Fd.exec(e);if(_d(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qd(e.seconds),nanos:qd(e.nanos)}}function qd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vd(e){return"string"==typeof e?Ld.fromBase64String(e):Ld.fromUint8Array(e)}function zd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bd(e){var t=Ud(e.mapValue.fields.__local_write_time__.timestampValue);return new Od(t.seconds,t.nanos)}function Hd(e){return null==e}function Gd(e){return 0===e&&1/e==-1/0}function Kd(e){return"number"==typeof e&&Number.isInteger(e)&&!Gd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Wd=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Nd.fromString(t))},e.fromName=function(t){return new e(Nd.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Nd.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Nd.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Nd(t.slice()))},e}();function Qd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zd(e)?4:10:bd()}function Yd(e,t){var n=Qd(e);if(n!==Qd(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bd(e).isEqual(Bd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ud(e.timestampValue),r=Ud(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vd(e.bytesValue).isEqual(Vd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qd(e.geoPointValue.latitude)===qd(t.geoPointValue.latitude)&&qd(e.geoPointValue.longitude)===qd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qd(e.integerValue)===qd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=qd(e.doubleValue),r=qd(t.doubleValue);return n===r?Gd(n)===Gd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Td(e.arrayValue.values||[],t.arrayValue.values||[],Yd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pd(n)!==Pd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yd(n[i],r[i])))return!1;return!0}(e,t);default:return bd()}}function Xd(e,t){return void 0!==(e.values||[]).find((function(e){return Yd(e,t)}))}function $d(e,t){var n=Qd(e),r=Qd(t);if(n!==r)return Sd(n,r);switch(n){case 0:return 0;case 1:return Sd(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=qd(e.integerValue||e.doubleValue),r=qd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Jd(e.timestampValue,t.timestampValue);case 4:return Jd(Bd(e),Bd(t));case 5:return Sd(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Vd(e),r=Vd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Sd(n[i],r[i]);if(0!==o)return o}return Sd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Sd(qd(e.latitude),qd(t.latitude));return 0!==n?n:Sd(qd(e.longitude),qd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=$d(n[i],r[i]);if(o)return o}return Sd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Sd(r[a],o[a]);if(0!==s)return s;var u=$d(n[r[a]],i[o[a]]);if(0!==u)return u}return Sd(r.length,o.length)}(e.mapValue,t.mapValue);default:throw bd()}}function Jd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Sd(e,t);var n=Ud(e),r=Ud(t),i=Sd(n.seconds,r.seconds);return 0!==i?i:Sd(n.nanos,r.nanos)}function Zd(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=Ud(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Vd(t.bytesValue).toBase64():"referenceValue"in t?Wd.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):bd();var n}(e)}function ep(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function tp(e){return!!e&&"integerValue"in e}function np(e){return!!e&&"arrayValue"in e}function rp(e){return!!e&&"nullValue"in e}function ip(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function op(e){return!!e&&"mapValue"in e}var ap=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(Dd.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return Yd(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Qd(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=op(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(Dd.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!op(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function sp(e){var t=[];return Id(e.fields||{},(function(e,n){var r=new Dd([e]);if(op(n)){var i=sp(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)})),new jd(t)}var up=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,xd.min(),ap.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ap.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ap.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ap.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ap.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),cp=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function lp(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new cp(e,t,n,r,i,o,a)}function hp(e){var t=wd(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Zd(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Hd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Sp(t.startAt)),t.endAt&&(n+="|ub:",n+=Sp(t.endAt)),t.h=n}return t.h}function fp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ep(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!Yd(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xp(e.startAt,t.startAt)&&xp(e.endAt,t.endAt)}function dp(e){return Wd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return ad(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new vp(e,n,r):"array-contains"===n?new bp(e,r):"in"===n?new _p(e,r):"not-in"===n?new wp(e,r):"array-contains-any"===n?new Cp(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new yp(e,n):new gp(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m($d(t,this.value)):null!==t&&Qd(this.value)===Qd(t)&&this.m($d(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bd()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),vp=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Wd.fromName(r.referenceValue),i}return ad(t,e),t.prototype.matches=function(e){var t=Wd.comparator(e.key,this.key);return this.m(t)},t}(pp),yp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=mp(0,n),r}return ad(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pp),gp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=mp(0,n),r}return ad(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pp);function mp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wd.fromName(e.referenceValue)}))}var bp=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return ad(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return np(t)&&Xd(t.arrayValue,this.value)},t}(pp),_p=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return ad(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Xd(this.value.arrayValue,t)},t}(pp),wp=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return ad(t,e),t.prototype.matches=function(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Xd(this.value.arrayValue,t)},t}(pp),Cp=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return ad(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Xd(t.value.arrayValue,e)}))},t}(pp),kp=function(e,t){this.position=e,this.before=t};function Sp(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Zd(e)})).join(",")}var Tp=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ep(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Op(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Wd.comparator(Wd.fromName(a.referenceValue),n.key):$d(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function xp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Yd(e.position[n],t.position[n]))return!1;return!0}var Pp=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Ip(e,t,n,r,i,o,a,s){return new Pp(e,t,n,r,i,o,a,s)}function Ap(e){return new Pp(e)}function Mp(e){return!Hd(e.limit)&&"F"===e.limitType}function Np(e){return!Hd(e.limit)&&"L"===e.limitType}function Rp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Dp(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function jp(e){return null!==e.collectionGroup}function Lp(e){var t=wd(e);if(null===t.p){t.p=[];var n=Dp(t),r=Rp(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Tp(n)),t.p.push(new Tp(Dd.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Tp(Dd.keyField(),u))}}}return t.p}function Fp(e){var t=wd(e);if(!t.T)if("F"===t.limitType)t.T=lp(t.path,t.collectionGroup,Lp(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Lp(t);r<i.length;r++){var o=i[r];n.push(new Tp(o.field,"desc"===o.dir?"asc":"desc"))}var a=t.endAt?new kp(t.endAt.position,!t.endAt.before):null,s=t.startAt?new kp(t.startAt.position,!t.startAt.before):null;t.T=lp(t.path,t.collectionGroup,n,t.filters,t.limit,a,s)}return t.T}function Up(e,t,n){return new Pp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qp(e,t){return fp(Fp(e),Fp(t))&&e.limitType===t.limitType}function Vp(e){return hp(Fp(e))+"|lt:"+e.limitType}function zp(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Zd(t.value);var t})).join(", ")+"]"),Hd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Sp(e.startAt)),e.endAt&&(t+=", endAt: "+Sp(e.endAt)),"Target("+t+")"}(Fp(e))+"; limitType="+e.limitType+")"}function Bp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Op(e.startAt,Lp(e),t)||e.endAt&&Op(e.endAt,Lp(e),t))}(e,t)}function Hp(e){return function(t,n){for(var r=!1,i=0,o=Lp(e);i<o.length;i++){var a=o[i],s=Gp(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Gp(e,t,n){var r=e.field.isKeyField()?Wd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$d(r,i):bd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bd()}}function Kp(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(t)?"-0":t}}function Wp(e){return{integerValue:""+e}}function Qp(e,t){return Kd(t)?Wp(t):Kp(e,t)}var Yp=function(){this._=void 0};function Xp(e,t,n){return e instanceof Zp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ev?tv(e,t):e instanceof nv?rv(e,t):function(e,t){var n=Jp(e,t),r=ov(n)+ov(e.A);return tp(n)&&tp(e.A)?Wp(r):Kp(e.R,r)}(e,t)}function $p(e,t,n){return e instanceof ev?tv(e,t):e instanceof nv?rv(e,t):n}function Jp(e,t){return e instanceof iv?tp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Zp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ad(t,e),t}(Yp),ev=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return ad(t,e),t}(Yp);function tv(e,t){for(var n=av(t),r=function(e){n.some((function(t){return Yd(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nv=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return ad(t,e),t}(Yp);function rv(e,t){for(var n=av(t),r=function(e){n=n.filter((function(t){return!Yd(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var iv=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return ad(t,e),t}(Yp);function ov(e){return qd(e.integerValue||e.doubleValue)}function av(e){return np(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var sv=function(e,t){this.field=e,this.transform=t},uv=function(e,t){this.version=e,this.transformResults=t},cv=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function lv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var hv=function(){};function fv(e,t,n){e instanceof gv?function(e,t,n){var r=e.value.clone(),i=_v(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mv?function(e,t,n){if(lv(e.precondition,t)){var r=_v(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dv(e,t,n){e instanceof gv?function(e,t,n){if(lv(e.precondition,t)){var r=e.value.clone(),i=wv(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(yv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof mv?function(e,t,n){if(lv(e.precondition,t)){var r=wv(e.fieldTransforms,n,t),i=t.data;i.setAll(bv(e)),i.setAll(r),t.convertToFoundDocument(yv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){lv(e.precondition,t)&&t.convertToNoDocument(xd.min())}(e,t)}function pv(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Jp(o.transform,a||null);null!=s&&(null==n&&(n=ap.empty()),n.set(o.field,s))}return n||null}function vv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Td(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ev&&t instanceof ev||e instanceof nv&&t instanceof nv?Td(e.elements,t.elements,Yd):e instanceof iv&&t instanceof iv?Yd(e.A,t.A):e instanceof Zp&&t instanceof Zp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function yv(e){return e.isFoundDocument()?e.version:xd.min()}var gv=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return ad(t,e),t}(hv),mv=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return ad(t,e),t}(hv);function bv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function _v(e,t,n){var r=new Map;_d(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,$p(a,s,n[i]))}return r}function wv(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Xp(s,u,t))}return r}var Cv,kv,Sv=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return ad(t,e),t}(hv),Tv=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return ad(t,e),t}(hv),Ev=function(e){this.count=e};function Ov(e){switch(e){case hd.OK:return bd();case hd.CANCELLED:case hd.UNKNOWN:case hd.DEADLINE_EXCEEDED:case hd.RESOURCE_EXHAUSTED:case hd.INTERNAL:case hd.UNAVAILABLE:case hd.UNAUTHENTICATED:return!1;case hd.INVALID_ARGUMENT:case hd.NOT_FOUND:case hd.ALREADY_EXISTS:case hd.PERMISSION_DENIED:case hd.FAILED_PRECONDITION:case hd.ABORTED:case hd.OUT_OF_RANGE:case hd.UNIMPLEMENTED:case hd.DATA_LOSS:return!0;default:return bd()}}function xv(e){if(void 0===e)return yd("GRPC error has no .code"),hd.UNKNOWN;switch(e){case Cv.OK:return hd.OK;case Cv.CANCELLED:return hd.CANCELLED;case Cv.UNKNOWN:return hd.UNKNOWN;case Cv.DEADLINE_EXCEEDED:return hd.DEADLINE_EXCEEDED;case Cv.RESOURCE_EXHAUSTED:return hd.RESOURCE_EXHAUSTED;case Cv.INTERNAL:return hd.INTERNAL;case Cv.UNAVAILABLE:return hd.UNAVAILABLE;case Cv.UNAUTHENTICATED:return hd.UNAUTHENTICATED;case Cv.INVALID_ARGUMENT:return hd.INVALID_ARGUMENT;case Cv.NOT_FOUND:return hd.NOT_FOUND;case Cv.ALREADY_EXISTS:return hd.ALREADY_EXISTS;case Cv.PERMISSION_DENIED:return hd.PERMISSION_DENIED;case Cv.FAILED_PRECONDITION:return hd.FAILED_PRECONDITION;case Cv.ABORTED:return hd.ABORTED;case Cv.OUT_OF_RANGE:return hd.OUT_OF_RANGE;case Cv.UNIMPLEMENTED:return hd.UNIMPLEMENTED;case Cv.DATA_LOSS:return hd.DATA_LOSS;default:return bd()}}(kv=Cv||(Cv={}))[kv.OK=0]="OK",kv[kv.CANCELLED=1]="CANCELLED",kv[kv.UNKNOWN=2]="UNKNOWN",kv[kv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kv[kv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kv[kv.NOT_FOUND=5]="NOT_FOUND",kv[kv.ALREADY_EXISTS=6]="ALREADY_EXISTS",kv[kv.PERMISSION_DENIED=7]="PERMISSION_DENIED",kv[kv.UNAUTHENTICATED=16]="UNAUTHENTICATED",kv[kv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kv[kv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kv[kv.ABORTED=10]="ABORTED",kv[kv.OUT_OF_RANGE=11]="OUT_OF_RANGE",kv[kv.UNIMPLEMENTED=12]="UNIMPLEMENTED",kv[kv.INTERNAL=13]="INTERNAL",kv[kv.UNAVAILABLE=14]="UNAVAILABLE",kv[kv.DATA_LOSS=15]="DATA_LOSS";var Pv=function(){function e(e,t){this.comparator=e,this.root=t||Av.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Av.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Av.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Iv(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Iv(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Iv(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Iv(this.root,e,this.comparator,!0)},e}(),Iv=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Av=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw bd();if(this.right.isRed())throw bd();var e=this.left.check();if(e!==this.right.check())throw bd();return e+(this.isRed()?0:1)},e}();Av.EMPTY=null,Av.RED=!0,Av.BLACK=!1,Av.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw bd()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw bd()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw bd()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw bd()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw bd()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Av(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Mv=function(){function e(e){this.comparator=e,this.data=new Pv(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Nv(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Nv(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Nv=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Rv=new Pv(Wd.comparator);function Dv(){return Rv}var jv=new Pv(Wd.comparator);function Lv(){return jv}var Fv=new Pv(Wd.comparator);function Uv(){return Fv}var qv=new Mv(Wd.comparator);function Vv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=qv,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var zv=new Mv(Sd);function Bv(){return zv}var Hv=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Gv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(xd.min(),r,Bv(),Dv(),Vv())},e}(),Gv=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Ld.EMPTY_BYTE_STRING,n,Vv(),Vv(),Vv())},e}(),Kv=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Wv=function(e,t){this.targetId=e,this.V=t},Qv=function(e,t,n,r){void 0===n&&(n=Ld.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Yv=function(){function e(){this.S=0,this.D=Jv(),this.C=Ld.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Vv(),t=Vv(),n=Vv();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bd()}})),new Gv(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Jv()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Xv=function(){function e(e){this.W=e,this.G=new Map,this.H=Dv(),this.J=$v(),this.Y=new Mv(Sd)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.tt(r=o[i],e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:bd()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(dp(i))if(0===n){var o=new Wd(i.path);this.tt(t,o,up.newNoDocument(o,xd.min()))}else _d(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&dp(o.target)){var a=new Wd(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,up.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Vv();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Hv(e,n,this.Y,this.H,r);return this.H=Dv(),this.J=$v(),this.Y=new Mv(Sd),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Yv,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Mv(Sd),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||vd("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Yv),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function $v(){return new Pv(Wd.comparator)}function Jv(){return new Pv(Wd.comparator)}var Zv={asc:"ASCENDING",desc:"DESCENDING"},ey={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ty=function(e,t){this.databaseId=e,this.I=t};function ny(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ry(e,t){return e.I?t.toBase64():t.toUint8Array()}function iy(e,t){return ny(e,t.toTimestamp())}function oy(e){return _d(!!e),xd.fromTimestamp(function(e){var t=Ud(e);return new Od(t.seconds,t.nanos)}(e))}function ay(e,t){return function(e){return new Nd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sy(e){var t=Nd.fromString(e);return _d(Iy(t)),t}function uy(e,t){return ay(e.databaseId,t.path)}function cy(e,t){var n=sy(t);if(n.get(1)!==e.databaseId.projectId)throw new fd(hd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fd(hd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wd(dy(n))}function ly(e,t){return ay(e.databaseId,t)}function hy(e){var t=sy(e);return 4===t.length?Nd.emptyPath():dy(t)}function fy(e){return new Nd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dy(e){return _d(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function py(e,t,n){return{name:uy(e,t),fields:n.toProto().mapValue.fields}}function vy(e,t,n){var r=cy(e,t.name),i=oy(t.updateTime),o=new ap({mapValue:{fields:t.fields}}),a=up.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function yy(e,t){var n;if(t instanceof gv)n={update:py(e,t.key,t.value)};else if(t instanceof Sv)n={delete:uy(e,t.key)};else if(t instanceof mv)n={update:py(e,t.key,t.data),updateMask:Py(t.fieldMask)};else{if(!(t instanceof Tv))return bd();n={verify:uy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ev)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof iv)return{fieldPath:t.field.canonicalString(),increment:n.A};throw bd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:iy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bd()}(e,t.precondition)),n}function gy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?cv.updateTime(oy(e.updateTime)):void 0!==e.exists?cv.exists(e.exists):cv.none()}(t.currentDocument):cv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(_d("REQUEST_TIME"===t.setToServerValue),n=new Zp):"appendMissingElements"in t?n=new ev(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new nv(t.removeAllFromArray.values||[]):"increment"in t?n=new iv(e,t.increment):bd();var r=Dd.fromServerFormat(t.fieldPath);return new sv(r,n)}(e,t)})):[];if(t.update){var i=cy(e,t.update.name),o=new ap({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){return new jd((e.fieldPaths||[]).map((function(e){return Dd.fromServerFormat(e)})))}(t.updateMask);return new mv(i,o,a,n,r)}return new gv(i,o,n,r)}if(t.delete){var s=cy(e,t.delete);return new Sv(s,n)}if(t.verify){var u=cy(e,t.verify);return new Tv(u,n)}return bd()}function my(e,t){return{documents:[ly(e,t.path)]}}function by(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ly(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ly(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ip(e.value))return{unaryFilter:{field:Ty(e.field),op:"IS_NAN"}};if(rp(e.value))return{unaryFilter:{field:Ty(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ip(e.value))return{unaryFilter:{field:Ty(e.field),op:"IS_NOT_NAN"}};if(rp(e.value))return{unaryFilter:{field:Ty(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ty(e.field),op:Sy(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ty(e.field),direction:ky(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Hd(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=wy(t.startAt)),t.endAt&&(n.structuredQuery.endAt=wy(t.endAt)),n}function _y(e){var t=hy(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_d(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[xy(t)]:void 0!==t.fieldFilter?[Oy(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):bd():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Tp(Ey(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Hd(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Cy(n.startAt));var l=null;return n.endAt&&(l=Cy(n.endAt)),Ip(t,i,s,a,u,"F",c,l)}function wy(e){return{before:e.before,values:e.position}}function Cy(e){return new kp(e.values||[],!!e.before)}function ky(e){return Zv[e]}function Sy(e){return ey[e]}function Ty(e){return{fieldPath:e.canonicalString()}}function Ey(e){return Dd.fromServerFormat(e.fieldPath)}function Oy(e){return pp.create(Ey(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return bd()}}(e.fieldFilter.op),e.fieldFilter.value)}function xy(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ey(e.unaryFilter.field);return pp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ey(e.unaryFilter.field);return pp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ey(e.unaryFilter.field);return pp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ey(e.unaryFilter.field);return pp.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return bd()}}function Py(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Iy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ay(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ny(t)),t=My(e.get(n),t);return Ny(t)}function My(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ny(e){return e+"\x01\x01"}function Ry(e){var t=e.length;if(_d(t>=2),2===t)return _d("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Nd.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&bd(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:bd()}o=a+2}return new Nd(r)}var Dy=function(e,t){this.seconds=e,this.nanoseconds=t},jy=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};jy.store="owner",jy.key="owner";var Ly=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ly.store="mutationQueues",Ly.keyPath="userId";var Fy=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Fy.store="mutations",Fy.keyPath="batchId",Fy.userMutationsIndex="userMutationsIndex",Fy.userMutationsKeyPath=["userId","batchId"];var Uy=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Ay(t)]},e.key=function(e,t,n){return[e,Ay(t),n]},e}();Uy.store="documentMutations",Uy.PLACEHOLDER=new Uy;var qy=function(e,t){this.path=e,this.readTime=t},Vy=function(e,t){this.path=e,this.version=t},zy=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};zy.store="remoteDocuments",zy.readTimeIndex="readTimeIndex",zy.readTimeIndexPath="readTime",zy.collectionReadTimeIndex="collectionReadTimeIndex",zy.collectionReadTimeIndexPath=["parentPath","readTime"];var By=function(e){this.byteSize=e};By.store="remoteDocumentGlobal",By.key="remoteDocumentGlobalKey";var Hy=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Hy.store="targets",Hy.keyPath="targetId",Hy.queryTargetsIndexName="queryTargetsIndex",Hy.queryTargetsKeyPath=["canonicalId","targetId"];var Gy=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Gy.store="targetDocuments",Gy.keyPath=["targetId","path"],Gy.documentTargetsIndex="documentTargetsIndex",Gy.documentTargetsKeyPath=["path","targetId"];var Ky=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ky.key="targetGlobalKey",Ky.store="targetGlobal";var Wy=function(e,t){this.collectionId=e,this.parent=t};Wy.store="collectionParents",Wy.keyPath=["collectionId","parent"];var Qy=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Qy.store="clientMetadata",Qy.keyPath="clientId";var Yy=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Yy.store="bundles",Yy.keyPath="bundleId";var Xy=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Xy.store="namedQueries",Xy.keyPath="name";var $y=cd(cd([],cd(cd([],cd(cd([],cd(cd([],[Ly.store,Fy.store,Uy.store,zy.store,Hy.store,jy.store,Ky.store,Gy.store]),[Qy.store])),[By.store])),[Wy.store])),[Yy.store,Xy.store]),Jy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zy=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),eg=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},tg=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&bd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),ng=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new eg,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new og(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=lg(t.target.error);n.ft.reject(new og(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new og(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(vd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new sg(t)},e}(),rg=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Object(rc.k)())&&yd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return vd("SimpleDb","Removing database:",e),ug(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(rc.k)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return sd(this,void 0,void 0,(function(){var t,n=this;return ud(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(vd("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new og(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new fd(hd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new og(e,n))},i.onupgradeneeded=function(e){vd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.wt.Rt(e.target.result,i.transaction,e.oldVersion,n.version).next((function(){vd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return sd(this,void 0,void 0,(function(){var i,o,a,s,u;return ud(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return ud(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=ng.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),tg.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return vd("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ig=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return ug(this.Pt.delete())},e}(),og=function(e){function t(t,n){var r=this;return(r=e.call(this,hd.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return ad(t,e),t}(fd);function ag(e){return"IndexedDbTransactionError"===e.name}var sg=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(vd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(vd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ug(n)},e.prototype.add=function(e){return vd("SimpleDb","ADD",this.store.name,e,e),ug(this.store.add(e))},e.prototype.get=function(e){var t=this;return ug(this.store.get(e)).next((function(n){return void 0===n&&(n=null),vd("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return vd("SimpleDb","DELETE",this.store.name,e),ug(this.store.delete(e))},e.prototype.count=function(){return vd("SimpleDb","COUNT",this.store.name),ug(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){vd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new tg((function(n,r){t.onerror=function(e){var t=lg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new tg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new ig(i),a=t(i.primaryKey,i.value,o);if(a instanceof tg){var s=a.catch((function(e){return o.done(),tg.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return tg.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ug(e){return new tg((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=lg(e.target.error);n(t)}}))}var cg=!1;function lg(e){var t=rg._t(Object(rc.k)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new fd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return cg||(cg=!0,setTimeout((function(){throw r}),0)),r}}return e}var hg=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return ad(t,e),t}(Zy);function fg(e,t){var n=wd(e);return rg.It(n.Mt,t)}var dg=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fv(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&dv(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&dv(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(xd.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Vv())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Td(this.mutations,e.mutations,(function(e,t){return vv(e,t)}))&&Td(this.baseMutations,e.baseMutations,(function(e,t){return vv(e,t)}))},e}(),pg=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){_d(t.mutations.length===r.length);for(var i=Uv(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),vg=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=xd.min()),void 0===o&&(o=xd.min()),void 0===a&&(a=Ld.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),yg=function(e){this.Lt=e};function gg(e,t){if(t.document)return vy(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Wd.fromSegments(t.noDocument.path),r=Cg(t.noDocument.readTime),i=up.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Wd.fromSegments(t.unknownDocument.path);return r=Cg(t.unknownDocument.version),up.newUnknownDocument(o,r)}return bd()}function mg(e,t,n){var r=bg(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:uy(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:ny(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new zy(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=wg(t.version);return a=t.hasCommittedMutations,new zy(null,new qy(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=wg(t.version);return new zy(new Vy(c,l),null,null,!0,r,i)}return bd()}function bg(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function _g(e){var t=new Od(e[0],e[1]);return xd.fromTimestamp(t)}function wg(e){var t=e.toTimestamp();return new Dy(t.seconds,t.nanoseconds)}function Cg(e){var t=new Od(e.seconds,e.nanoseconds);return xd.fromTimestamp(t)}function kg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gy(e.Lt,t)})),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map((function(t){return gy(e.Lt,t)})),o=Od.fromMillis(t.localWriteTimeMs);return new dg(t.batchId,o,n,i)}function Sg(e){var t,n,r=Cg(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Cg(e.lastLimboFreeSnapshotVersion):xd.min();return void 0!==e.query.documents?(_d(1===(n=e.query).documents.length),t=Fp(Ap(hy(n.documents[0])))):t=function(e){return Fp(_y(e))}(e.query),new vg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ld.fromBase64String(e.resumeToken))}function Tg(e,t){var n,r=wg(t.snapshotVersion),i=wg(t.lastLimboFreeSnapshotVersion);n=dp(t.target)?my(e.Lt,t.target):by(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Hy(t.targetId,hp(t.target),r,o,t.sequenceNumber,i,n)}function Eg(e){var t=_y({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Up(t,t.limit,"L"):t}var Og=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return xg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Cg(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return xg(e).put({bundleId:(n=t).id,createTime:wg(oy(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Pg(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Eg(t.bundledQuery),readTime:Cg(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Pg(e).put(function(e){return{name:e.name,readTime:wg(oy(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function xg(e){return fg(e,Yy.store)}function Pg(e){return fg(e,Xy.store)}var Ig=function(){function e(){this.Bt=new Ag}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),tg.resolve()},e.prototype.getCollectionParents=function(e,t){return tg.resolve(this.Bt.getEntries(t))},e}(),Ag=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mv(Nd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Mv(Nd.comparator)).toArray()},e}(),Mg=function(){function e(){this.qt=new Ag}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Ay(i)};return Ng(e).put(o)}return tg.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ed(t),""],!1,!0);return Ng(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ry(o.parent))}return n}))},e}();function Ng(e){return fg(e,Wy.store)}var Rg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dg=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function jg(e,t,n){var r=e.store(Fy.store),i=e.store(Uy.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){_d(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Uy.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return tg.waitFor(o).next((function(){return c}))}function Lg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw bd();t=e.noDocument}return JSON.stringify(t).length}Dg.DEFAULT_COLLECTION_PERCENTILE=10,Dg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dg.DEFAULT=new Dg(41943040,Dg.DEFAULT_COLLECTION_PERCENTILE,Dg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dg.DISABLED=new Dg(-1,0,0);var Fg=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return _d(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qg(e).Ot({index:Fy.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Vg(e),a=qg(e);return a.add({}).next((function(s){_d("number"==typeof s);for(var u=new dg(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return yy(e.Lt,t)})),i=n.mutations.map((function(t){return yy(e.Lt,t)}));return new Fy(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Mv((function(e,t){return Sd(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Uy.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Uy.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),tg.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return qg(e).get(t).next((function(e){return e?(_d(e.userId===n.userId),kg(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?tg.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return qg(e).Ot({index:Fy.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(_d(t.batchId>=r),o=kg(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return qg(e).Ot({index:Fy.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qg(e).Nt(Fy.userMutationsIndex,n).next((function(e){return e.map((function(e){return kg(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Uy.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Vg(e).Ot({range:i},(function(r,i,a){var s=r[0],u=r[2],c=Ry(r[1]);if(s===n.userId&&t.path.isEqual(c))return qg(e).get(u).next((function(e){if(!e)throw bd();_d(e.userId===n.userId),o.push(kg(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Mv(Sd),i=[];return t.forEach((function(t){var o=Uy.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Vg(e).Ot({range:a},(function(e,i,o){var a=e[0],s=e[2],u=Ry(e[1]);a===n.userId&&t.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),tg.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Uy.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Mv(Sd);return Vg(e).Ot({range:a},(function(e,t,o){var a=e[0],u=e[2],c=Ry(e[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(qg(e).get(t).next((function(e){if(null===e)throw bd();_d(e.userId===n.userId),r.push(kg(n.R,e))})))})),tg.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return jg(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),tg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return tg.resolve();var r=IDBKeyRange.lowerBound(Uy.prefixForUser(t.userId)),i=[];return Vg(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ry(e[1]);i.push(o)}else r.done()})).next((function(){_d(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Ug(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return zg(e).get(this.userId).next((function(e){return e||new Ly(t.userId,-1,"")}))},e}();function Ug(e,t,n){var r=Uy.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Vg(e).Ot({range:o,kt:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function qg(e){return fg(e,Fy.store)}function Vg(e){return fg(e,Uy.store)}function zg(e){return fg(e,Ly.store)}var Bg=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Hg=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Bg(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return xd.fromTimestamp(new Od(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Gg(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return _d(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Gg(e).Ot((function(a,s){var u=Sg(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return tg.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Gg(e).Ot((function(e,n){var r=Sg(n);t(r)}))},e.prototype.Xt=function(e){return Kg(e).get(Ky.key).next((function(e){return _d(null!==e),e}))},e.prototype.Zt=function(e,t){return Kg(e).put(Ky.key,t)},e.prototype.te=function(e,t){return Gg(e).put(Tg(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=hp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Gg(e).Ot({range:r,index:Hy.queryTargetsIndexName},(function(e,n,r){var o=Sg(n);fp(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Wg(e);return t.forEach((function(t){var a=Ay(t.path);i.push(o.put(new Gy(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),tg.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Wg(e);return tg.forEach(t,(function(t){var o=Ay(t.path);return tg.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Wg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wg(e),i=Vv();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=Ry(e[1]),o=new Wd(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Ay(t.path),r=IDBKeyRange.bound([n],[Ed(n)],!1,!0),i=0;return Wg(e).Ot({index:Gy.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Gg(e).get(t).next((function(e){return e?Sg(e):null}))},e}();function Gg(e){return fg(e,Hy.store)}function Kg(e){return fg(e,Ky.store)}function Wg(e){return fg(e,Gy.store)}function Qg(e){return sd(this,void 0,void 0,(function(){return ud(this,(function(t){if(e.code!==hd.FAILED_PRECONDITION||e.message!==Jy)throw e;return vd("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Yg(e,t){var n=e[1],r=t[1],i=Sd(e[0],t[0]);return 0===i?Sd(n,r):i}var Xg=function(){function e(e){this.ne=e,this.buffer=new Mv(Yg),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Yg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),$g=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;vd("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return sd(t,void 0,void 0,(function(){var t;return ud(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ag(t=n.sent())?(vd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Qg(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Jg=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return tg.resolve(ld.o);var r=new Xg(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(vd("LruGarbageCollector","Garbage collection skipped; disabled"),tg.resolve(Rg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(vd("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Rg):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(vd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),pd()<=ic.a.DEBUG&&vd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),tg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Zg=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Jg(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return em(e,n)},e.prototype.removeReference=function(e,t,n){return em(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return em(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return zg(e).$t((function(r){return Ug(e,r,t).next((function(e){return e&&(n=!0),tg.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Wg(e).delete([0,Ay(a.path)])}))}));i.push(u)}})).next((function(){return tg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return em(e,t)},e.prototype.we=function(e,t){var n,r=Wg(e),i=ld.o;return r.Ot({index:Gy.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==ld.o&&t(new Wd(Ry(n)),i),i=a,n=o):i=ld.o})).next((function(){i!==ld.o&&t(new Wd(Ry(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function em(e,t){return Wg(e).put(function(e,t){return new Gy(0,Ay(e.path),t)}(t,e.currentSequenceNumber))}var tm=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Id(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.isEmpty=function(){return Ad(this.inner)},e}(),nm=function(){function e(){this.changes=new tm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:xd.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:up.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?tg.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),rm=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return am(e).put(sm(t),n)},e.prototype.removeEntry=function(e,t){var n=am(e),r=sm(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return am(e).get(sm(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return am(e).get(sm(t)).next((function(e){return{document:n.ye(t,e),size:Lg(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Dv();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Dv(),i=new Pv(Wd.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Lg(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return tg.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return am(e).Ot({range:r},(function(e,t,r){for(var a=Wd.fromSegments(e);o&&Wd.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Dv(),o=t.path.length+1,a={};if(n.isEqual(xd.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=bg(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=zy.collectionReadTimeIndex}return am(e).Ot(a,(function(e,n,a){if(e.length===o){var s=gg(r.R,n);t.path.isPrefixOf(s.key.path)?Bp(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new im(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return om(e).get(By.key).next((function(e){return _d(!!e),e}))},e.prototype.me=function(e,t){return om(e).put(By.key,t)},e.prototype.ye=function(e,t){if(t){var n=gg(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(xd.min()))return n}return up.newInvalidDocument(e)},e}(),im=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new tm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return ad(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Mv((function(e,t){return Sd(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=mg(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Lg(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=mg(t.Ie.R,up.newNoDocument(o,xd.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),tg.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(nm);function om(e){return fg(e,By.store)}function am(e){return fg(e,zy.store)}function sm(e){return e.path.toArray()}var um=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;_d(n<r&&n>=0&&r<=11);var o=new ng("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(jy.store)}(e),function(e){e.createObjectStore(Ly.store,{keyPath:Ly.keyPath}),e.createObjectStore(Fy.store,{keyPath:Fy.keyPath,autoIncrement:!0}).createIndex(Fy.userMutationsIndex,Fy.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Uy.store)}(e),cm(e),function(e){e.createObjectStore(zy.store)}(e));var a=tg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Gy.store),e.deleteObjectStore(Hy.store),e.deleteObjectStore(Ky.store)}(e),cm(e)),a=a.next((function(){return function(e){var t=e.store(Ky.store),n=new Ky(0,0,xd.min().toTimestamp(),0);return t.put(Ky.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Fy.store).Nt().next((function(n){e.deleteObjectStore(Fy.store),e.createObjectStore(Fy.store,{keyPath:Fy.keyPath,autoIncrement:!0}).createIndex(Fy.userMutationsIndex,Fy.userMutationsKeyPath,{unique:!0});var r=t.store(Fy.store),i=n.map((function(e){return r.put(e)}));return tg.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Qy.store,{keyPath:Qy.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(By.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(zy.store);t.createIndex(zy.readTimeIndex,zy.readTimeIndexPath,{unique:!1}),t.createIndex(zy.collectionReadTimeIndex,zy.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Yy.store,{keyPath:Yy.keyPath})}(e),function(e){e.createObjectStore(Xy.store,{keyPath:Xy.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(zy.store).Ot((function(e,n){t+=Lg(n)})).next((function(){var n=new By(t);return e.store(By.store).put(By.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Ly.store),r=e.store(Fy.store);return n.Nt().next((function(n){return tg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Fy.userMutationsIndex,i).next((function(r){return tg.forEach(r,(function(r){_d(r.userId===n.userId);var i=kg(t.R,r);return jg(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Gy.store),n=e.store(zy.store);return e.store(Ky.store).get(Ky.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Nd(n),a=function(e){return[0,Ay(e)]}(o);r.push(t.get(a).next((function(n){return n?tg.resolve():function(n){return t.put(new Gy(0,Ay(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return tg.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Wy.store,{keyPath:Wy.keyPath});var n=t.store(Wy.store),r=new Ag,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ay(i)})}};return t.store(zy.store).Ot({kt:!0},(function(e,t){var n=new Nd(e);return i(n.popLast())})).next((function(){return t.store(Uy.store).Ot({kt:!0},(function(e,t){var n=Ry(e[1]);return i(n.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Hy.store);return n.Ot((function(e,r){var i=Sg(r),o=Tg(t.R,i);return n.put(o)}))},e}();function cm(e){e.createObjectStore(Gy.store,{keyPath:Gy.keyPath}).createIndex(Gy.documentTargetsIndex,Gy.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Hy.store,{keyPath:Hy.keyPath}).createIndex(Hy.queryTargetsIndexName,Hy.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ky.store)}var lm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hm=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new fd(hd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zg(this,i),this.Le=n+"main",this.R=new yg(u),this.Be=new rg(this.Le,11,new um(this.R)),this.qe=new Hg(this.referenceDelegate,this.R),this.Ut=new Mg,this.Ue=function(e,t){return new rm(e,t)}(this.R,this.Ut),this.Qe=new Og,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&yd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new fd(hd.FAILED_PRECONDITION,lm);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new ld(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return sd(t,void 0,void 0,(function(){return ud(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return sd(t,void 0,void 0,(function(){return ud(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return sd(t,void 0,void 0,(function(){return ud(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return dm(t).put(new Qy(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(ag(t))return vd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return vd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return fm(e).get(jy.key).next((function(e){return tg.resolve(t.tn(e))}))},e.prototype.en=function(e){return dm(e).delete(this.clientId)},e.prototype.nn=function(){return sd(this,void 0,void 0,(function(){var e,t,n,r=this;return ud(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=fg(e,Qy.store);return t.Nt().next((function(e){var n=r.rn(e,18e5),i=e.filter((function(e){return-1===n.indexOf(e)}));return tg.forEach(i,(function(e){return t.delete(e.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)this.Ke.removeItem(this.on(n[t].clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?tg.resolve(!0):fm(e).get(jy.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new fd(hd.FAILED_PRECONDITION,lm);return!1}}return!(!t.networkEnabled||!t.inForeground)||dm(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&vd("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return sd(this,void 0,void 0,(function(){var e=this;return ud(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[jy.store,Qy.store],(function(t){var n=new hg(t,ld.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return dm(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Fg.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r,i=this;return vd("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",$y,(function(o){return r=new hg(o,i.Ne?i.Ne.next():ld.o),"readwrite-primary"===t?i.Je(r).next((function(e){return!!e||i.Ye(r)})).next((function(t){if(!t)throw yd("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new fd(hd.FAILED_PRECONDITION,Jy);return n(r)})).next((function(e){return i.Ze(r).next((function(){return e}))})):i.dn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return fm(e).get(jy.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new fd(hd.FAILED_PRECONDITION,lm)}))},e.prototype.Ze=function(e){var t=new jy(this.clientId,this.allowTabSynchronization,Date.now());return fm(e).put(jy.key,t)},e.yt=function(){return rg.yt()},e.prototype.Xe=function(e){var t=this,n=fm(e);return n.get(jy.key).next((function(e){return t.tn(e)?(vd("IndexedDbPersistence","Releasing primary lease."),n.delete(jy.key)):tg.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(yd("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return vd("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return yd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){yd("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function fm(e){return fg(e,jy.store)}function dm(e){return fg(e,Qy.store)}function pm(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var vm=function(e,t){this.progress=e,this.wn=t},ym=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Wd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):jp(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Wd(t)).next((function(e){var t=Lv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Lv();return this.Ut.getCollectionParents(e,i).next((function(a){return tg.forEach(a,(function(a){var s=function(e,t){return new Pp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o.Rn(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=up.newInvalidDocument(c),r=r.insert(c,l)),dv(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Bp(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Vv(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof mv&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),gm=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Vv(),i=Vv(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),mm=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(xd.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Mp(t)||Np(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(pd()<=ic.a.DEBUG&&vd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),zp(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Mv(Hp(e));return t.forEach((function(t,r){Bp(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return pd()<=ic.a.DEBUG&&vd("QueryEngine","Using full collection scan to execute query:",zp(t)),this.Sn.getDocumentsMatchingQuery(e,t,xd.min())},e}(),bm=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Pv(Sd),this.kn=new tm((function(e){return hp(e)}),fp),this.On=xd.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new ym(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function _m(e,t,n,r){return new bm(e,t,n,r)}function wm(e,t){return sd(this,void 0,void 0,(function(){var n,r,i,o;return ud(this,(function(a){switch(a.label){case 0:return n=wd(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new ym(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Vv(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Cm(e,t){var n=wd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=tg.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);_d(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function km(e){var t=wd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Sm(e,t){var n=wd(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return _d(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Dv();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Tm(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(xd.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return tg.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Tm(e,t,n,r,i){var o=Vv();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Dv();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(xd.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):vd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Em(e,t){var n=wd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Om(e,t){var n=wd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?tg.resolve(r=i):n.qe.allocateTargetId(e).next((function(i){return r=new vg(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function xm(e,t,n){return sd(this,void 0,void 0,(function(){var r,i,o,a;return ud(this,(function(s){switch(s.label){case 0:r=wd(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!ag(a=s.sent()))throw a;return vd("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Pm(e,t,n){var r=wd(e),i=xd.min(),o=Vv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=wd(e),i=r.kn.get(n);return void 0!==i?tg.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Fp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:xd.min(),n?o:Vv())})).next((function(e){return{documents:e,Bn:o}}))}))}function Im(e,t){var n=wd(e),r=wd(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Am(e){var t=wd(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=wd(e),i=Dv(),o=bg(n),a=am(t),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:zy.readTimeIndex,range:s},(function(e,t){var n=gg(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:_g(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn;return t.On=e.readTime,n}))}function Mm(e){return sd(this,void 0,void 0,(function(){var t;return ud(this,(function(n){return[2,(t=wd(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=am(e),n=xd.min();return t.Ot({index:zy.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=_g(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function Nm(e,t,n,r){return sd(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return ud(this,(function(p){switch(p.label){case 0:for(i=wd(e),o=Vv(),a=Dv(),s=Uv(),u=0,c=n;u<c.length;u++)h=t.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Om(i,function(e){return Fp(Ap(Nd.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Tm(e,f,a,xd.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Rm(e,t,n){return void 0===n&&(n=Vv()),sd(this,void 0,void 0,(function(){var r,i;return ud(this,(function(o){switch(o.label){case 0:return[4,Om(e,Fp(Eg(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=wd(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=oy(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(Ld.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var Dm=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return tg.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:oy(n.createTime)}),tg.resolve()},e.prototype.getNamedQuery=function(e,t){return tg.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Eg(e.bundledQuery),readTime:oy(e.readTime)}}(t)),tg.resolve()},e}(),jm=function(){function e(){this.Wn=new Mv(Lm.Gn),this.zn=new Mv(Lm.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Lm(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Lm(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Wd(new Nd([])),r=new Lm(n,e),i=new Lm(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Wd(new Nd([])),n=new Lm(t,e),r=new Lm(t,e+1),i=Vv();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Lm(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Lm=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Wd.comparator(e.key,t.key)||Sd(e.ns,t.ns)},e.Hn=function(e,t){return Sd(e.ns,t.ns)||Wd.comparator(e.key,t.key)},e}(),Fm=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Mv(Lm.Gn)}return e.prototype.checkEmpty=function(e){return tg.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++;var o=new dg(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Lm(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return tg.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return tg.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return tg.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return tg.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return tg.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Lm(t,0),i=new Lm(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),tg.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Mv(Sd);return t.forEach((function(e){var t=new Lm(e,0),i=new Lm(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),tg.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Wd.isDocumentKey(i)||(i=i.child(""));var o=new Lm(new Wd(i),0),a=new Mv(Sd);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),tg.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;_d(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return tg.forEach(t.mutations,(function(i){var o=new Lm(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Lm(t,0),r=this.rs.firstAfterOrEqual(n);return tg.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return tg.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Um=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Pv(Wd.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return tg.resolve(n?n.document.clone():up.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Dv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():up.newInvalidDocument(e))})),tg.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Dv(),i=new Wd(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!t.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||Bp(t,u)&&(r=r.insert(u.key,u.clone()))}return tg.resolve(r)},e.prototype.fs=function(e,t){return tg.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new qm(this)},e.prototype.getSize=function(e){return tg.resolve(this.size)},e}(),qm=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return ad(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),tg.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(nm),Vm=function(){function e(e){this.persistence=e,this.ds=new tm((function(e){return hp(e)}),fp),this.lastRemoteSnapshotVersion=xd.min(),this.highestTargetId=0,this.ws=0,this._s=new jm,this.targetCount=0,this.ys=Bg.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),tg.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return tg.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return tg.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),tg.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),tg.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Bg(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,tg.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),tg.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,tg.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),tg.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return tg.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return tg.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),tg.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),tg.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),tg.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return tg.resolve(n)},e.prototype.containsKey=function(e,t){return tg.resolve(this._s.containsKey(t))},e}(),zm=function(){function e(e,t){var n=this;this.gs={},this.Ne=new ld(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Vm(this),this.Ut=new Ig,this.Ue=function(e,t){return new Um(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new yg(t),this.Qe=new Dm(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Fm(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;vd("MemoryPersistence","Starting transaction:",e);var i=new Bm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return tg.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Bm=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return ad(t,e),t}(Zy),Hm=function(){function e(e){this.persistence=e,this.As=new jm,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw bd()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),tg.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),tg.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),tg.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tg.forEach(this.vs,(function(r){var i=Wd.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return tg.or([function(){return tg.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Gm=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Km(e,t){return"firestore_clients_"+e+"_"+t}function Wm(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Qm(e,t){return"firestore_targets_"+e+"_"+t}Gm.UNAUTHENTICATED=new Gm(null),Gm.GOOGLE_CREDENTIALS=new Gm("google-credentials-uid"),Gm.FIRST_PARTY=new Gm("first-party-uid");var Ym=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new fd(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(yd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Xm=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new fd(i.error.code,i.error.message)),o?new e(t,i.state,r):(yd("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),$m=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Bv(),a=0;i&&a<r.activeTargetIds.length;++a)i=Kd(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(yd("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Jm=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(yd("SharedClientState","Failed to parse online state: "+t),null)},e}(),Zm=function(){function e(){this.activeTargetIds=Bv()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),eb=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Pv(Sd),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Km(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Zm),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return sd(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return ud(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Km(this.persistenceKey,r)))&&(o=$m.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Qm(this.persistenceKey,e));if(n){var r=Xm.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Qm(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return vd("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){vd("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){vd("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(vd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void yd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return sd(t,void 0,void 0,(function(){var e,t,r,i,o,a;return ud(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=ld.o;if(null!=e)try{var n=JSON.parse(e);_d("number"==typeof n),t=n}catch(e){yd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ld.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Ym(this.currentUser,e,t,n),i=Wm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Wm(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},e.prototype.Ys=function(e,t,n){var r=Qm(this.persistenceKey,e),i=new Xm(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return $m.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]);return Ym.Vs(new Gm(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Xm.Vs(r,t)},e.prototype.js=function(e){return Jm.Vs(e)},e.prototype.ii=function(e){return sd(this,void 0,void 0,(function(){return ud(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(vd("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Bv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),tb=function(){function e(){this.li=new Zm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Zm,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),nb=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),rb=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){vd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){vd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ib={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ob=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),ab=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return ad(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new id;a.listenOnce(td.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case ed.NO_ERROR:var t=a.getResponseJson();vd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ed.TIMEOUT:vd("Connection",'RPC "'+e+'" timed out'),o(new fd(hd.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:var n=a.getStatus();if(vd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(hd).indexOf(t)>=0?t:hd.UNKNOWN}(r.status);o(new fd(s,r.message))}else o(new fd(hd.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new fd(hd.UNAVAILABLE,"Connection failed."));break;default:bd()}}finally{vd("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Yf,i=$l(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,t),Object(rc.q)()||Object(rc.s)()||Object(rc.n)()||Object(rc.o)()||Object(rc.t)()||Object(rc.m)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");vd("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new ob({Ei:function(e){c?vd("Connection","Not sending because WebChannel is closed:",e):(u||(vd("Connection","Opening WebChannel transport."),s.open(),u=!0),vd("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,rd.EventType.OPEN,(function(){c||vd("Connection","WebChannel transport opened.")})),h(s,rd.EventType.CLOSE,(function(){c||(c=!0,vd("Connection","WebChannel transport closed"),l.Vi())})),h(s,rd.EventType.ERROR,(function(e){c||(c=!0,gd("Connection","WebChannel transport errored:",e),l.Vi(new fd(hd.UNAVAILABLE,"The operation could not be completed")))})),h(s,rd.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];_d(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){vd("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=Cv[e];if(void 0!==t)return xv(t)}(i),a=r.message;void 0===o&&(o=hd.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new fd(o,a)),s.close()}else vd("Connection","WebChannel received:",n),l.Si(n)}})),h(i,nd.STAT_EVENT,(function(e){10===e.stat?vd("Connection","Detected buffering proxy"):11===e.stat&&vd("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);vd("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return vd("RestConnection","Received: ",e),e}),(function(t){throw gd("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",e["X-Firebase-GMPID"]=this.databaseInfo.appId,e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+ib[e]},e}());function sb(){return"undefined"!=typeof window?window:null}function ub(){return"undefined"!=typeof document?document:null}function cb(e){return new ty(e,!0)}var lb=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&vd("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),hb=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new lb(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return sd(this,void 0,void 0,(function(){return ud(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return sd(this,void 0,void 0,(function(){return ud(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return sd(this,void 0,void 0,(function(){return ud(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===hd.RESOURCE_EXHAUSTED?(yd(t.toString()),yd("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===hd.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new fd(hd.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return sd(e,void 0,void 0,(function(){return ud(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return vd("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(vd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),fb=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return ad(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(_d(void 0===t||"string"==typeof t),Ld.fromBase64String(t||"")):(_d(void 0===t||t instanceof Uint8Array),Ld.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?hd.UNKNOWN:xv(e.code);return new fd(t,e.message||"")}(s);n=new Qv(r,i,o,a||null)}else if("documentChange"in t){i=cy(e,(r=t.documentChange).document.name),o=oy(r.document.updateTime);var s=new ap({mapValue:{fields:r.document.fields}}),u=(a=up.newFoundDocument(i,o,s),r.targetIds||[]);n=new Kv(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t)i=cy(e,(r=t.documentDelete).document),o=r.readTime?oy(r.readTime):xd.min(),s=up.newNoDocument(i,o),n=new Kv([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in t)i=cy(e,(r=t.documentRemove).document),n=new Kv([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return bd();var c=t.filter;i=new Ev(r=c.count||0),n=new Wv(o=c.targetId,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return xd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?xd.min():t.readTime?oy(t.readTime):xd.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=fy(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=dp(r)?{documents:my(e,r)}:{query:by(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ry(e,t.resumeToken):t.snapshotVersion.compareTo(xd.min())>0&&(n.readTime=ny(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=fy(this.R),t.removeTarget=e,this.cr(t)},t}(hb),db=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return ad(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(_d(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(_d(void 0!==t),e.map((function(e){return function(e,t){var n=oy(e.updateTime?e.updateTime:t);return n.isEqual(xd.min())&&(n=oy(t)),new uv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=oy(e.commitTime);return this.listener.Tr(n,t)}return _d(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=fy(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yy(t.R,e)}))};this.cr(n)},t}(hb),pb=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return ad(t,e),t.prototype.br=function(){if(this.Rr)throw new fd(hd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw e.code===hd.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw e.code===hd.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Rr=!1},t}((function(){})),vb=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(yd(t),this.Vr=!1):vd("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),yb=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return sd(o,void 0,void 0,(function(){return ud(this,(function(e){switch(e.label){case 0:return Tb(this)?(vd("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return sd(this,void 0,void 0,(function(){var t;return ud(this,(function(n){switch(n.label){case 0:return(t=wd(e)).$r.add(4),[4,mb(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,gb(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new vb(n,r)};function gb(e){return sd(this,void 0,void 0,(function(){var t,n;return ud(this,(function(r){switch(r.label){case 0:if(!Tb(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function mb(e){return sd(this,void 0,void 0,(function(){var t,n;return ud(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function bb(e,t){var n=wd(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Sb(n)?kb(n):qb(n).er()&&wb(n,t))}function _b(e,t){var n=wd(e),r=qb(n);n.Or.delete(t),r.er()&&Cb(n,t),0===n.Or.size&&(r.er()?r.ir():Tb(n)&&n.Br.set("Unknown"))}function wb(e,t){e.qr.U(t.targetId),qb(e).mr(t)}function Cb(e,t){e.qr.U(t),qb(e).yr(t)}function kb(e){e.qr=new Xv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),qb(e).start(),e.Br.Sr()}function Sb(e){return Tb(e)&&!qb(e).tr()&&e.Or.size>0}function Tb(e){return 0===wd(e).$r.size}function Eb(e){e.qr=void 0}function Ob(e){return sd(this,void 0,void 0,(function(){return ud(this,(function(t){return e.Or.forEach((function(t,n){wb(e,t)})),[2]}))}))}function xb(e,t){return sd(this,void 0,void 0,(function(){return ud(this,(function(n){return Eb(e),Sb(e)?(e.Br.Nr(t),kb(e)):e.Br.set("Unknown"),[2]}))}))}function Pb(e,t,n){return sd(this,void 0,void 0,(function(){var r,i,o;return ud(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Qv&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return sd(this,void 0,void 0,(function(){var n,r,i,o;return ud(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?e.Or.has(o=i[r])?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),vd("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Ib(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Kv?e.qr.X(t):t instanceof Wv?e.qr.rt(t):e.qr.et(t),n.isEqual(xd.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,km(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(Ld.EMPTY_BYTE_STRING,n.snapshotVersion)),Cb(e,t);var r=new vg(n.target,t,1,n.sequenceNumber);wb(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return vd("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Ib(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Ib(e,t,n){return sd(this,void 0,void 0,(function(){var r=this;return ud(this,(function(i){switch(i.label){case 0:if(!ag(t))throw t;return e.$r.add(1),[4,mb(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return km(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return sd(r,void 0,void 0,(function(){return ud(this,(function(t){switch(t.label){case 0:return vd("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,gb(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Ab(e,t){return t().catch((function(n){return Ib(e,n,t)}))}function Mb(e){return sd(this,void 0,void 0,(function(){var t,n,r,i,o;return ud(this,(function(a){switch(a.label){case 0:t=wd(e),n=Vb(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Tb(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Em(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Vb(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Ib(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Nb(t)&&Rb(t),[2]}}))}))}function Nb(e){return Tb(e)&&!Vb(e).tr()&&e.kr.length>0}function Rb(e){Vb(e).start()}function Db(e){return sd(this,void 0,void 0,(function(){return ud(this,(function(t){return Vb(e).Ar(),[2]}))}))}function jb(e){return sd(this,void 0,void 0,(function(){var t,n,r;return ud(this,(function(i){for(t=Vb(e),n=0,r=e.kr;n<r.length;n++)t.Er(r[n].mutations);return[2]}))}))}function Lb(e,t,n){return sd(this,void 0,void 0,(function(){var r,i;return ud(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=pg.from(r,t,n),[4,Ab(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Mb(e)];case 2:return o.sent(),[2]}}))}))}function Fb(e,t){return sd(this,void 0,void 0,(function(){return ud(this,(function(n){switch(n.label){case 0:return t&&Vb(e).pr?[4,function(e,t){return sd(this,void 0,void 0,(function(){var n,r;return ud(this,(function(i){switch(i.label){case 0:return Ov(r=t.code)&&r!==hd.ABORTED?(n=e.kr.shift(),Vb(e).sr(),[4,Ab(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Mb(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Nb(e)&&Rb(e),[2]}}))}))}function Ub(e,t){return sd(this,void 0,void 0,(function(){var n;return ud(this,(function(r){switch(r.label){case 0:return n=wd(e),t?(n.$r.delete(2),[4,gb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,mb(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function qb(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=wd(e);return r.br(),new fb(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ob.bind(null,e),Ri:xb.bind(null,e),_r:Pb.bind(null,e)}),e.Mr.push((function(n){return sd(t,void 0,void 0,(function(){return ud(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Sb(e)?kb(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Eb(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Vb(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=wd(e);return r.br(),new db(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Db.bind(null,e),Ri:Fb.bind(null,e),Ir:jb.bind(null,e),Tr:Lb.bind(null,e)}),e.Mr.push((function(n){return sd(t,void 0,void 0,(function(){return ud(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Mb(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(vd("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var zb=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new eg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fd(hd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Bb(e,t){if(yd("AsyncQueue",t+": "+e),ag(e))return new fd(hd.UNAVAILABLE,t+": "+e);throw e}var Hb=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Wd.comparator(t.key,n.key)}:function(e,t){return Wd.comparator(e.key,t.key)},this.keyedMap=Lv(),this.sortedSet=new Pv(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Gb=function(){function e(){this.Kr=new Pv(Wd.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):bd():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Kb=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Hb.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Wb=function(){this.Wr=void 0,this.listeners=[]},Qb=function(){this.queries=new tm((function(e){return Vp(e)}),qp),this.onlineState="Unknown",this.Gr=new Set};function Yb(e,t){return sd(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return ud(this,(function(c){switch(c.label){case 0:if(n=wd(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new Wb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Bb(s,"Initialization of query '"+zp(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Zb(n),[2]}}))}))}function Xb(e,t){return sd(this,void 0,void 0,(function(){var n,r,i,o,a;return ud(this,(function(s){return n=wd(e),i=!1,(o=n.queries.get(r=t.query))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function $b(e,t){for(var n=wd(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&Zb(n)}function Jb(e,t,n){var r=wd(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Zb(e){e.Gr.forEach((function(e){e.next()}))}var e_=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Kb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Kb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),t_=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),n_=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return cy(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?vy(this.R,e.document,!1):up.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return oy(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new n_(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Vv()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return sd(this,void 0,void 0,(function(){var e,t,n,r,i;return ud(this,(function(o){switch(o.label){case 0:return[4,Nm(this.localStore,new n_(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Rm(this.localStore,i=r[n],t.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new vm(Object.assign({},this.progress),e))]}}))}))}}();var r_=function(e){this.key=e},i_=function(e){this.key=e},o_=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Vv(),this.mutatedKeys=Vv(),this.lo=Hp(e),this.fo=new Hb(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Gb,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Mp(this.query)&&i.size===this.query.limit?i.last():null,c=Np(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Bp(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Mp(this.query)||Np(this.query))for(;a.size>this.query.limit;){var l=Mp(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bd()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Kb(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Gb,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Vv(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new i_(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new r_(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Vv();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Kb.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),a_=function(e,t,n){this.query=e,this.targetId=t,this.view=n},s_=function(e){this.key=e,this.bo=!1},u_=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new tm((function(e){return Vp(e)}),qp),this.Vo=new Map,this.So=new Set,this.Do=new Pv(Wd.comparator),this.Co=new Map,this.No=new jm,this.xo={},this.Fo=new Map,this.ko=Bg.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function c_(e,t){return sd(this,void 0,void 0,(function(){var n,r,i,o,a;return ud(this,(function(s){switch(s.label){case 0:return n=F_(e),(i=n.Po.get(t))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Om(n.localStore,Fp(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,l_(n,t,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&bb(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function l_(e,t,n,r){return sd(this,void 0,void 0,(function(){var i,o,a,s,u,c;return ud(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return sd(this,void 0,void 0,(function(){var i,o,a;return ud(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Pm(e.localStore,t.query,!1).then((function(e){return t.view._o(e.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(k_(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Pm(e.localStore,t,!0)];case 1:return i=l.sent(),o=new o_(t,i.Bn),a=o._o(i.documents),s=Gv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),k_(e,n,u.To),c=new a_(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function h_(e,t){return sd(this,void 0,void 0,(function(){var n,r,i;return ud(this,(function(o){switch(o.label){case 0:return n=wd(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!qp(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,xm(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),_b(n.remoteStore,r.targetId),w_(n,r.targetId)})).catch(Qg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return w_(n,r.targetId),[4,xm(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function f_(e,t,n){return sd(this,void 0,void 0,(function(){var r,i,o,a;return ud(this,(function(s){switch(s.label){case 0:r=U_(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=wd(e),i=Od.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Vv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=pv(c,n.get(c.key));null!=l&&a.push(new mv(c.key,l,sp(l.toProto().mapValue),cv.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Pv(Sd)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,E_(r,i.changes)];case 3:return s.sent(),[4,Mb(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Bb(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function d_(e,t){return sd(this,void 0,void 0,(function(){var n,r;return ud(this,(function(i){switch(i.label){case 0:n=wd(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Sm(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(_d(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?_d(r.bo):e.removedDocuments.size>0&&(_d(r.bo),r.bo=!1))})),[4,E_(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Qg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function p_(e,t,n){var r=wd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=wd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Zb(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function v_(e,t,n){return sd(this,void 0,void 0,(function(){var r,i,o,a,s,u;return ud(this,(function(c){switch(c.label){case 0:return(r=wd(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Pv(Wd.comparator)).insert(o,up.newNoDocument(o,xd.min())),s=Vv().add(o),u=new Hv(xd.min(),new Map,new Mv(Sd),a,s),[4,d_(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),T_(r),[3,4];case 2:return[4,xm(r.localStore,t,!1).then((function(){return w_(r,t,n)})).catch(Qg)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function y_(e,t){return sd(this,void 0,void 0,(function(){var n,r,i;return ud(this,(function(o){switch(o.label){case 0:n=wd(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Cm(n.localStore,t)];case 2:return i=o.sent(),__(n,r,null),b_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,E_(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Qg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function g_(e,t,n){return sd(this,void 0,void 0,(function(){var r,i;return ud(this,(function(o){switch(o.label){case 0:r=wd(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=wd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return _d(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),__(r,t,n),b_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,E_(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Qg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function m_(e,t){return sd(this,void 0,void 0,(function(){var n,r,i,o,a;return ud(this,(function(s){switch(s.label){case 0:Tb((n=wd(e)).remoteStore)||vd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=wd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Bb(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function b_(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function __(e,t,n){var r=wd(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function w_(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||C_(e,t)}))}function C_(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(_b(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),T_(e))}function k_(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof r_?(e.No.addReference(o.key,t),S_(e,o)):o instanceof i_?(vd("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||C_(e,o.key)):bd()}}function S_(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(vd("SyncEngine","New document in limbo: "+n),e.So.add(r),T_(e))}function T_(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Wd(Nd.fromString(t)),r=e.ko.next();e.Co.set(r,new s_(n)),e.Do=e.Do.insert(n,r),bb(e.remoteStore,new vg(Fp(Ap(n.path)),r,2,ld.o))}}function E_(e,t,n){return sd(this,void 0,void 0,(function(){var r,i,o,a;return ud(this,(function(s){switch(s.label){case 0:return r=wd(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.$o(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=gm.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return sd(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return ud(this,(function(l){switch(l.label){case 0:n=wd(e),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return tg.forEach(t,(function(t){return tg.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return tg.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!ag(r=l.sent()))throw r;return vd("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function O_(e,t){return sd(this,void 0,void 0,(function(){var n,r;return ud(this,(function(i){switch(i.label){case 0:return(n=wd(e)).currentUser.isEqual(t)?[3,3]:(vd("SyncEngine","User change. New user:",t.toKey()),[4,wm(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new fd(hd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,E_(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function x_(e,t){var n=wd(e),r=n.Co.get(t);if(r&&r.bo)return Vv().add(r.key);var i=Vv(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function P_(e,t){return sd(this,void 0,void 0,(function(){var n,r,i;return ud(this,(function(o){switch(o.label){case 0:return[4,Pm((n=wd(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&k_(n,t.targetId,i.To),i)]}}))}))}function I_(e){return sd(this,void 0,void 0,(function(){var t;return ud(this,(function(n){return[2,Am((t=wd(e)).localStore).then((function(e){return E_(t,e)}))]}))}))}function A_(e,t,n,r){return sd(this,void 0,void 0,(function(){var i,o;return ud(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=wd(e),r=wd(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):tg.resolve(null)}))}))}((i=wd(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Mb(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(__(i,t,r||null),b_(i,t),function(e,t){wd(wd(e)._n).Gt(t)}(i.localStore,t)):bd(),a.label=4;case 4:return[4,E_(i,o)];case 5:return a.sent(),[3,7];case 6:vd("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function M_(e,t){return sd(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return ud(this,(function(c){switch(c.label){case 0:return F_(n=wd(e)),U_(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,N_(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Ub(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)bb(n.remoteStore,a[o]);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):u=u.then((function(){return w_(n,t),xm(n.localStore,t,!0)})),_b(n.remoteStore,t)})),[4,u]);case 4:return c.sent(),[4,N_(n,s)];case 5:return c.sent(),function(e){var t=wd(e);t.Co.forEach((function(e,n){_b(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Pv(Wd.comparator)}(n),n.Oo=!1,[4,Ub(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function N_(e,t,n){return sd(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return ud(this,(function(v){switch(v.label){case 0:n=wd(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,Om(n.localStore,Fp(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,P_(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Im(n.localStore,s)];case 8:return p=v.sent(),[4,Om(n.localStore,p)];case 9:return u=v.sent(),[4,l_(n,R_(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function R_(e){return Ip(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function D_(e){var t=wd(e);return wd(wd(t.localStore).persistence).fn()}function j_(e,t,n,r){return sd(this,void 0,void 0,(function(){var i,o,a;return ud(this,(function(s){switch(s.label){case 0:return(i=wd(e)).Oo?(vd("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Am(i.localStore)];case 3:return o=s.sent(),a=Hv.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,E_(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,xm(i.localStore,t,!0)];case 6:return s.sent(),w_(i,t,r),[3,8];case 7:bd(),s.label=8;case 8:return[2]}}))}))}function L_(e,t,n){return sd(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return ud(this,(function(f){switch(f.label){case 0:if(!(r=F_(e)).Oo)return[3,10];i=0,o=t,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(vd("SyncEngine","Adding an already active target "+a),[3,5]):[4,Im(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,Om(r.localStore,s)];case 3:return u=f.sent(),[4,l_(r,R_(s),u.targetId,!1)];case 4:f.sent(),bb(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(e){return ud(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,xm(r.localStore,e,!1).then((function(){_b(r.remoteStore,e),w_(r,e)})).catch(Qg)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function F_(e){var t=wd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=d_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=x_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=v_.bind(null,t),t.vo._r=$b.bind(null,t.eventManager),t.vo.Mo=Jb.bind(null,t.eventManager),t}function U_(e){var t=wd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=y_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=g_.bind(null,t),t}var q_=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return sd(this,void 0,void 0,(function(){return ud(this,(function(t){switch(t.label){case 0:return this.R=cb(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return _m(this.persistence,new mm,e.initialUser,this.R)},e.prototype.qo=function(e){return new zm(Hm.bs,this.R)},e.prototype.Bo=function(e){return new tb},e.prototype.terminate=function(){return sd(this,void 0,void 0,(function(){return ud(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),V_=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return ad(t,e),t.prototype.initialize=function(t){return sd(this,void 0,void 0,(function(){return ud(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Mm(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,U_(this.Ko.syncEngine)];case 4:return n.sent(),[4,Mb(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return _m(this.persistence,new mm,e.initialUser,this.R)},t.prototype.Uo=function(e){return new $g(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=pm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Dg.withCacheSize(this.cacheSizeBytes):Dg.DEFAULT;return new hm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,sb(),ub(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new tb},t}(q_),z_=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return ad(t,e),t.prototype.initialize=function(t){return sd(this,void 0,void 0,(function(){var n,r=this;return ud(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof eb?(this.sharedClientState.syncEngine={ui:A_.bind(null,n),ai:j_.bind(null,n),hi:L_.bind(null,n),fn:D_.bind(null,n),ci:I_.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return sd(r,void 0,void 0,(function(){return ud(this,(function(t){switch(t.label){case 0:return[4,M_(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=sb();if(!eb.yt(t))throw new fd(hd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=pm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eb(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(V_),B_=function(){function e(){}return e.prototype.initialize=function(e,t){return sd(this,void 0,void 0,(function(){var n=this;return ud(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return p_(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=O_.bind(null,this.syncEngine),[4,Ub(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Qb},e.prototype.createDatastore=function(e){var t=cb(e.databaseInfo.databaseId),n=new ab(e.databaseInfo);return function(e,t,n){return new pb(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return p_(a.syncEngine,e,0)},o=rb.yt()?new rb:new nb,new yb(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new u_(e,t,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return sd(this,void 0,void 0,(function(){var t;return ud(this,(function(n){switch(n.label){case 0:return t=wd(e),vd("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,mb(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),H_=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),G_=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new eg,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return sd(this,void 0,void 0,(function(){return ud(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return sd(this,void 0,void 0,(function(){return ud(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return sd(this,void 0,void 0,(function(){var e,t,n,r;return ud(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new t_(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return sd(this,void 0,void 0,(function(){var e,t;return ud(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return sd(this,void 0,void 0,(function(){var t;return ud(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return sd(this,void 0,void 0,(function(){var e,t;return ud(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return sd(this,void 0,void 0,(function(){var t,n=this;return ud(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new fd(hd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return sd(this,void 0,void 0,(function(){var n,r,i,o,a,s;return ud(this,(function(u){switch(u.label){case 0:return n=wd(e),r=fy(n.R)+"/documents",i={documents:t.map((function(e){return uy(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){_d(!!t.found);var n=cy(e,t.found.name),r=oy(t.found.updateTime),i=new ap({mapValue:{fields:t.found.fields}});return up.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){_d(!!t.missing),_d(!!t.readTime);var n=cy(e,t.missing),r=oy(t.readTime);return up.newNoDocument(n,r)}(e,t):bd()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());_d(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Sv(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return sd(this,void 0,void 0,(function(){var e,t=this;return ud(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Wd.fromPath(n);t.mutations.push(new Tv(r,t.precondition(r)))})),[4,function(e,t){return sd(this,void 0,void 0,(function(){var n,r,i;return ud(this,(function(o){switch(o.label){case 0:return n=wd(e),r=fy(n.R)+"/documents",i={writes:t.map((function(e){return yy(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bd();t=xd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new fd(hd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?cv.updateTime(t):cv.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xd.min()))throw new fd(hd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cv.updateTime(t)}return cv.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),K_=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new lb(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return sd(e,void 0,void 0,(function(){var e,t,n=this;return ud(this,(function(r){return e=new G_(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Hd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ov(t)}return!1},e}(),W_=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Gm.UNAUTHENTICATED,this.clientId=kd.u(),this.credentialListener=function(){},this.receivedInitialUser=new eg,this.credentials.setChangeListener((function(e){vd("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return sd(this,void 0,void 0,(function(){return ud(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new fd(hd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new eg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return sd(e,void 0,void 0,(function(){var e,n;return ud(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Bb(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Q_(e,t){return sd(this,void 0,void 0,(function(){var n,r,i=this;return ud(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),vd("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return sd(i,void 0,void 0,(function(){return ud(this,(function(e){switch(e.label){case 0:return[4,wm(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Y_(e,t){return sd(this,void 0,void 0,(function(){var n,r;return ud(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,X_(e)];case 1:return n=i.sent(),vd("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return sd(this,void 0,void 0,(function(){var n,r;return ud(this,(function(i){switch(i.label){case 0:return(n=wd(e)).asyncQueue.verifyOperationInProgress(),vd("RemoteStore","RemoteStore received new credentials"),r=Tb(n),n.$r.add(3),[4,mb(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,gb(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function X_(e){return sd(this,void 0,void 0,(function(){return ud(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(vd("FirestoreClient","Using default OfflineComponentProvider"),[4,Q_(e,new q_)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function $_(e){return sd(this,void 0,void 0,(function(){return ud(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(vd("FirestoreClient","Using default OnlineComponentProvider"),[4,Y_(e,new B_)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function J_(e){return X_(e).then((function(e){return e.persistence}))}function Z_(e){return X_(e).then((function(e){return e.localStore}))}function ew(e){return $_(e).then((function(e){return e.remoteStore}))}function tw(e){return $_(e).then((function(e){return e.syncEngine}))}function nw(e){return sd(this,void 0,void 0,(function(){var t,n;return ud(this,(function(r){switch(r.label){case 0:return[4,$_(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=c_.bind(null,t.syncEngine),n.onUnlisten=h_.bind(null,t.syncEngine),n)]}}))}))}function rw(e,t,n){var r=this;void 0===n&&(n={});var i=new eg;return e.asyncQueue.enqueueAndForget((function(){return sd(r,void 0,void 0,(function(){var r;return ud(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new H_({next:function(o){t.enqueueAndForget((function(){return Xb(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new fd(hd.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new fd(hd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new e_(Ap(n.path),o,{includeMetadataChanges:!0,so:!0});return Yb(e,a)},[4,nw(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function iw(e,t,n){var r=this;void 0===n&&(n={});var i=new eg;return e.asyncQueue.enqueueAndForget((function(){return sd(r,void 0,void 0,(function(){var r;return ud(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new H_({next:function(n){t.enqueueAndForget((function(){return Xb(e,a)})),n.fromCache&&"server"===r.source?i.reject(new fd(hd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new e_(n,o,{includeMetadataChanges:!0,so:!0});return Yb(e,a)},[4,nw(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var ow=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},aw=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),sw=new Map,uw=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},cw=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Gm.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),lw=function(){function e(e){var t=this;this.oc=null,this.currentUser=Gm.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(vd("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_d("string"==typeof n.accessToken),new uw(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return _d(null===e||"string"==typeof e),new Gm(e)},e}(),hw=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=Gm.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),fw=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new hw(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e(Gm.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function dw(e,t,n){if(!n)throw new fd(hd.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function pw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new fd(hd.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function vw(e,t,n,r){if(!0===t&&!0===r)throw new fd(hd.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function yw(e){if(!Wd.isDocumentKey(e))throw new fd(hd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function gw(e){if(Wd.isDocumentKey(e))throw new fd(hd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function mw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":bd()}function bw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fd(hd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mw(e);throw new fd(hd.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function _w(e,t){if(t<=0)throw new fd(hd.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var ww=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new fd(hd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fd(hd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,vw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Cw=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new ww({}),this._settingsFrozen=!1,e instanceof aw?(this._databaseId=e,this._credentials=new cw):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fd(hd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aw(e.options.projectId)}(e),this._credentials=new lw(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new fd(hd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new fd(hd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ww(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new cw;switch(e.type){case"gapi":var t=e.client;return _d(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new fw(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new fd(hd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=sw.get(this))&&(vd("ComponentProvider","Removing Datastore"),sw.delete(this),e.terminate()),Promise.resolve();var e},e}(),kw=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Tw(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Sw=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Tw=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ap(r))||this)._path=r,i.type="collection",i}return ad(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new kw(this.firestore,null,new Wd(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Sw);function Ew(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(rc.j)(e),dw("collection","path",t),e instanceof Cw)return gw(n=Nd.fromString.apply(Nd,cd([t],r))),new Tw(e,null,n);if(!(e instanceof kw||e instanceof Tw))throw new fd(hd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gw(n=Nd.fromString.apply(Nd,cd([e.path],r)).child(Nd.fromString(t))),new Tw(e.firestore,null,n)}function Ow(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(rc.j)(e),1===arguments.length&&(t=kd.u()),dw("doc","path",t),e instanceof Cw)return yw(n=Nd.fromString.apply(Nd,cd([t],r))),new kw(e,null,new Wd(n));if(!(e instanceof kw||e instanceof Tw))throw new fd(hd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yw(n=e._path.child(Nd.fromString.apply(Nd,cd([t],r)))),new kw(e.firestore,e instanceof Tw?e._converter:null,new Wd(n))}function xw(e,t){return e=Object(rc.j)(e),t=Object(rc.j)(t),(e instanceof kw||e instanceof Tw)&&(t instanceof kw||t instanceof Tw)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function Pw(e,t){return e=Object(rc.j)(e),t=Object(rc.j)(t),e instanceof Sw&&t instanceof Sw&&e.firestore===t.firestore&&qp(e._query,t._query)&&e._converter===t._converter}var Iw=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new lb(this,"async_queue_retry"),this.Ec=function(){var t=ub();t&&vd("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=ub();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=ub();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return sd(this,void 0,void 0,(function(){var e,t=this;return ud(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!ag(e=n.sent()))throw e;return vd("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,yd("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=zb.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&bd()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return sd(this,void 0,void 0,(function(){var e;return ud(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function Aw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new eg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Mw=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new Iw,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return ad(t,e),t.prototype._terminate=function(){return this._firestoreClient||Rw(this),this._firestoreClient.terminate()},t}(Cw);function Nw(e){return e._firestoreClient||Rw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Rw(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ow(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new W_(e._credentials,e._queue,r)}function Dw(e,t,n){var r=this,i=new eg;return e.asyncQueue.enqueue((function(){return sd(r,void 0,void 0,(function(){var r;return ud(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Q_(e,n)];case 1:return o.sent(),[4,Y_(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===hd.FAILED_PRECONDITION||e.code===hd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function jw(e){if(e._initialized||e._terminated)throw new fd(hd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Lw=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new fd(hd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dd(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Fw=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Ld.fromBase64String(t))}catch(t){throw new fd(hd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Ld.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Uw=function(e){this._methodName=e},qw=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new fd(hd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fd(hd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Sd(this._lat,e._lat)||Sd(this._long,e._long)},e}(),Vw=/^__.*__$/,zw=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new mv(e,this.data,this.fieldMask,t,this.fieldTransforms):new gv(e,this.data,t,this.fieldTransforms)},e}(),Bw=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new mv(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Hw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bd()}}var Gw=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return hC(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(Hw(this.Dc)&&Vw.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),Kw=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||cb(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new Gw({Dc:e,methodName:t,Lc:n,path:Dd.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ww(e){var t=e._freezeSettings(),n=cb(e._databaseId);return new Kw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qw(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);sC("Data must be an object, but it was:",a,r);var s,u,c=oC(r,a);if(o.merge)s=new jd(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=uC(t,f[h],n);if(!a.contains(d))throw new fd(hd.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");fC(l,d)||l.push(d)}s=new jd(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new zw(new ap(c),s,u)}var Yw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ad(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw e.$c(1===e.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Uw);function Xw(e,t,n){return new Gw({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var $w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ad(t,e),t.prototype._toFieldTransform=function(e){return new sv(e.path,new Zp)},t.prototype.isEqual=function(e){return e instanceof t},t}(Uw),Jw=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return ad(t,e),t.prototype._toFieldTransform=function(e){var t=Xw(this,e,!0),n=this.qc.map((function(e){return iC(e,t)})),r=new ev(n);return new sv(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Uw),Zw=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return ad(t,e),t.prototype._toFieldTransform=function(e){var t=Xw(this,e,!0),n=this.qc.map((function(e){return iC(e,t)})),r=new nv(n);return new sv(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Uw),eC=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return ad(t,e),t.prototype._toFieldTransform=function(e){var t=new iv(e.R,Qp(e.R,this.Uc));return new sv(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Uw);function tC(e,t,n,r){var i=e.Bc(1,t,n);sC("Data must be an object, but it was:",i,r);var o=[],a=ap.empty();Id(r,(function(e,r){var s=lC(t,e,n);r=Object(rc.j)(r);var u=i.kc(s);if(r instanceof Yw)o.push(s);else{var c=iC(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new jd(o);return new Bw(a,s,i.fieldTransforms)}function nC(e,t,n,r,i,o){var a=e.Bc(1,t,n),s=[uC(t,r,n)],u=[i];if(o.length%2!=0)throw new fd(hd.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(uC(t,o[c])),u.push(o[c+1]);for(var l=[],h=ap.empty(),f=s.length-1;f>=0;--f)if(!fC(l,s[f])){var d=s[f],p=u[f];p=Object(rc.j)(p);var v=a.kc(d);if(p instanceof Yw)l.push(d);else{var y=iC(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new jd(l);return new Bw(h,g,a.fieldTransforms)}function rC(e,t,n,r){return void 0===r&&(r=!1),iC(n,e.Bc(r?4:3,t))}function iC(e,t){if(aC(e=Object(rc.j)(e)))return sC("Unsupported field value:",t,e),oC(e,t);if(e instanceof Uw)return function(e,t){if(!Hw(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=iC(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(rc.j)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qp(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Od.fromDate(e);return{timestampValue:ny(t.R,n)}}if(e instanceof Od)return n=new Od(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ny(t.R,n)};if(e instanceof qw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Fw)return{bytesValue:ry(t.R,e._byteString)};if(e instanceof kw){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ay(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+mw(e))}(e,t)}function oC(e,t){var n={};return Ad(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Id(e,(function(e,r){var i=iC(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function aC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Od||e instanceof qw||e instanceof Fw||e instanceof kw||e instanceof Uw)}function sC(e,t,n){if(!aC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=mw(n);throw t.$c("an object"===r?e+" a custom object":e+" "+r)}}function uC(e,t,n){if((t=Object(rc.j)(t))instanceof Lw)return t._internalPath;if("string"==typeof t)return lC(e,t);throw hC("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var cC=new RegExp("[~\\*/\\[\\]]");function lC(e,t,n){if(t.search(cC)>=0)throw hC("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Lw.bind.apply(Lw,cd([void 0],t.split(".")))))._internalPath}catch(r){throw hC("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function hC(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new fd(hd.INVALID_ARGUMENT,(s+=". ")+e+u)}function fC(e,t){return e.some((function(e){return e.isEqual(t)}))}var dC=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new kw(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new pC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(vC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),pC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ad(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(dC);function vC(e,t){return"string"==typeof t?lC(e,t):t instanceof Lw?t._internalPath:t._delegate._internalPath}var yC=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),gC=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return ad(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new mC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(vC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(dC),mC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ad(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(gC),bC=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yC(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new mC(n._firestore,n._userDataWriter,r.key,r,new yC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fd(hd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new mC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new mC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:_C(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function _C(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bd()}}function wC(e,t){return e instanceof gC&&t instanceof gC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof bC&&t instanceof bC&&e._firestore===t._firestore&&Pw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function CC(e){if(Np(e)&&0===e.explicitOrderBy.length)throw new fd(hd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kC=function(){};function SC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var TC=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return ad(t,e),t.prototype._apply=function(e){var t=Ww(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new fd(hd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){MC(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(AC(r,e,l[c]));s={arrayValue:{values:u}}}else s=AC(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||MC(a,o),s=rC(n,"where",a,"in"===o||"not-in"===o);var h=pp.create(i,o,s);return function(e,t){if(t.g()){var n=Dp(e);if(null!==n&&!n.isEqual(t.field))throw new fd(hd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Rp(e);null!==r&&NC(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new fd(hd.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Sw(e.firestore,e._converter,function(e,t){var n=e.filters.concat([t]);return new Pp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(kC),EC=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return ad(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new fd(hd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new fd(hd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Tp(t,n);return function(e,t){if(null===Rp(e)){var n=Dp(e);null!==n&&NC(0,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new Sw(e.firestore,e._converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Pp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(kC),OC=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return ad(t,e),t.prototype._apply=function(e){return new Sw(e.firestore,e._converter,Up(e._query,this.Gc,this.zc))},t}(kC),xC=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return ad(t,e),t.prototype._apply=function(e){var t=IC(e,this.type,this.Hc,this.Jc);return new Sw(e.firestore,e._converter,function(e,t){return new Pp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(kC),PC=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return ad(t,e),t.prototype._apply=function(e){var t=IC(e,this.type,this.Hc,this.Jc);return new Sw(e.firestore,e._converter,function(e,t){return new Pp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(kC);function IC(e,t,n,r){if(n[0]=Object(rc.j)(n[0]),n[0]instanceof dC)return function(e,t,n,r,i){if(!r)throw new fd(hd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Lp(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(ep(t,r.key));else{var c=r.data.field(u.field);if(zd(c))throw new fd(hd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new fd(hd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new kp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ww(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new fd(hd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new fd(hd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!jp(e)&&-1!==c.indexOf("/"))throw new fd(hd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Nd.fromString(c));if(!Wd.isDocumentKey(l))throw new fd(hd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Wd(l);s.push(ep(t,h))}else{var f=rC(n,r,c);s.push(f)}}return new kp(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function AC(e,t,n){if("string"==typeof(n=Object(rc.j)(n))){if(""===n)throw new fd(hd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jp(t)&&-1!==n.indexOf("/"))throw new fd(hd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Nd.fromString(n));if(!Wd.isDocumentKey(r))throw new fd(hd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ep(e,new Wd(r))}if(n instanceof kw)return ep(e,n._key);throw new fd(hd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+mw(n)+".")}function MC(e,t){if(!Array.isArray(e)||0===e.length)throw new fd(hd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new fd(hd.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function NC(e,t,n){if(!n.isEqual(t))throw new fd(hd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var RC=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Qd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bd()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Id(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new qw(qd(e.latitude),qd(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return zd(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bd(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Ud(e);return new Od(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Nd.fromString(e);_d(Iy(n));var r=new aw(n.get(1),n.get(3)),i=new Wd(n.popFirst(5));return r.isEqual(t)||yd("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function DC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var jC=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return ad(t,e),t.prototype.convertBytes=function(e){return new Fw(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kw(this.firestore,null,t)},t}(RC),LC=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ww(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=FC(e,this._firestore),i=DC(r._converter,t,n),o=Qw(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,cv.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=FC(e,this._firestore);return o="string"==typeof(t=Object(rc.j)(t))||t instanceof Lw?nC(this._dataReader,"WriteBatch.update",a._key,t,n,r):tC(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,cv.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=FC(e,this._firestore);return this._mutations=this._mutations.concat(new Sv(t._key,cv.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new fd(hd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function FC(e,t){if((e=Object(rc.j)(e)).firestore!==t)throw new fd(hd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var UC=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return ad(t,e),t.prototype.convertBytes=function(e){return new Fw(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kw(this.firestore,null,t)},t}(RC);function qC(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=bw(e,kw);var o=bw(e.firestore,Mw),a=Ww(o);return zC(o,[("string"==typeof(t=Object(rc.j)(t))||t instanceof Lw?nC(a,"updateDoc",e._key,t,n,r):tC(a,"updateDoc",e._key,t)).toMutation(e._key,cv.exists(!0))])}function VC(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Object(rc.j)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Aw(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Aw(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof kw)c=bw(e.firestore,Mw),l=Ap(e._key.path),u={next:function(t){i[s]&&i[s](BC(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=bw(e,Sw);c=bw(d.firestore,Mw),l=d._query;var p=new UC(c);u={next:function(e){i[s]&&i[s](new bC(c,p,d,e))},error:i[s+1],complete:i[s+2]},CC(e._query)}return function(e,t,n,r){var i=this,o=new H_(r),a=new e_(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return sd(i,void 0,void 0,(function(){var t;return ud(this,(function(n){switch(n.label){case 0:return t=Yb,[4,nw(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return sd(i,void 0,void 0,(function(){var t;return ud(this,(function(n){switch(n.label){case 0:return t=Xb,[4,nw(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Nw(c),l,h,u)}function zC(e,t){return function(e,t){var n=this,r=new eg;return e.asyncQueue.enqueueAndForget((function(){return sd(n,void 0,void 0,(function(){var n;return ud(this,(function(i){switch(i.label){case 0:return n=f_,[4,tw(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Nw(e),t)}function BC(e,t,n){var r=n.docs.get(t._key),i=new UC(e);return new gC(e,i,t._key,r,new yC(n.hasPendingWrites,n.fromCache),t._converter)}var HC=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return ad(t,e),t.prototype.get=function(t){var n=this,r=FC(t,this._firestore),i=new UC(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new gC(n._firestore,i,r._key,e._document,new yC(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ww(e)}return e.prototype.get=function(e){var t=this,n=FC(e,this._firestore),r=new jC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return bd();var i=e[0];if(i.isFoundDocument())return new dC(t._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new dC(t._firestore,r,n._key,null,n._converter);throw bd()}))},e.prototype.set=function(e,t,n){var r=FC(e,this._firestore),i=DC(r._converter,t,n),o=Qw(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=FC(e,this._firestore);return o="string"==typeof(t=Object(rc.j)(t))||t instanceof Lw?nC(this._dataReader,"Transaction.update",a._key,t,n,r):tC(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=FC(e,this._firestore);return this._transaction.delete(t._key),this},e}());function GC(){if("undefined"==typeof Uint8Array)throw new fd(hd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function KC(){if("undefined"==typeof atob)throw new fd(hd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var WC=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return KC(),new e(Fw.fromBase64String(t))},e.fromUint8Array=function(t){return GC(),new e(Fw.fromUint8Array(t))},e.prototype.toBase64=function(){return KC(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return GC(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),QC=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){jw(e=bw(e,Mw));var n=Nw(e),r=e._freezeSettings(),i=new B_;return Dw(n,i,new V_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){jw(e=bw(e,Mw));var t=Nw(e),n=e._freezeSettings(),r=new B_;return Dw(t,r,new z_(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new fd(hd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new eg;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return sd(t,void 0,void 0,(function(){var t;return ud(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return sd(this,void 0,void 0,(function(){return ud(this,(function(t){switch(t.label){case 0:return rg.yt()?[4,rg.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(pm(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),YC=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof aw||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t){!function(e,t,n){var r=(e=bw(e,Cw))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==t&&gd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:t+":"+n,ssl:!1}))}(this._delegate,e,t)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return sd(t,void 0,void 0,(function(){var t,n;return ud(this,(function(r){switch(r.label){case 0:return[4,J_(e)];case 1:return t=r.sent(),[4,ew(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=wd(e);return t.$r.delete(0),gb(t)}(n))]}}))}))}))}(Nw(bw(this._delegate,Mw)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return sd(t,void 0,void 0,(function(){var t,n;return ud(this,(function(r){switch(r.label){case 0:return[4,J_(e)];case 1:return t=r.sent(),[4,ew(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return sd(this,void 0,void 0,(function(){var t;return ud(this,(function(n){switch(n.label){case 0:return(t=wd(e)).$r.add(0),[4,mb(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Nw(bw(this._delegate,Mw)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&vw("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new eg;return e.asyncQueue.enqueueAndForget((function(){return sd(t,void 0,void 0,(function(){var t;return ud(this,(function(r){switch(r.label){case 0:return t=m_,[4,tw(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Nw(bw(this._delegate,Mw)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new H_(t);return e.asyncQueue.enqueueAndForget((function(){return sd(n,void 0,void 0,(function(){var t;return ud(this,(function(n){switch(n.label){case 0:return t=function(e,t){wd(e).Gr.add(t),t.next()},[4,nw(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return sd(n,void 0,void 0,(function(){var t;return ud(this,(function(n){switch(n.label){case 0:return t=function(e,t){wd(e).Gr.delete(t)},[4,nw(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Nw(e=bw(e,Mw)),Aw(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new fd(hd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new ck(this,Ew(this._delegate,e))}catch(e){throw tk(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new ek(this,Ow(this._delegate,e))}catch(e){throw tk(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new ak(this,function(e,t){if(e=bw(e,Cw),dw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new fd(hd.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Sw(e,null,function(e){return new Pp(Nd.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw tk(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new eg;return e.asyncQueue.enqueueAndForget((function(){return sd(n,void 0,void 0,(function(){var n;return ud(this,(function(i){switch(i.label){case 0:return[4,function(e){return $_(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new K_(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Nw(e),(function(n){return t(new HC(e,n))}))}(this._delegate,(function(n){return e(new $C(t,n))}))},e.prototype.batch=function(){var e=this;return Nw(this._delegate),new JC(new LC(this._delegate,(function(t){return zC(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new fd(hd.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new fd(hd.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),XC=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return ad(t,e),t.prototype.convertBytes=function(e){return new WC(new Fw(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ek.Zc(t,this.firestore,null)},t}(RC),$C=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}return e.prototype.get=function(e){var t=this,n=lk(e);return this._delegate.get(n).then((function(e){return new ik(t._firestore,new gC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},e.prototype.set=function(e,t,n){var r=lk(e);return n?(pw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=lk(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,cd([a,t,n],i)),this},e.prototype.delete=function(e){var t=lk(e);return this._delegate.delete(t),this},e}(),JC=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=lk(e);return n?(pw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=lk(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,cd([a,t,n],i)),this},e.prototype.delete=function(e){var t=lk(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ZC=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new mC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ok(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new XC(t),n),i.set(n,o)),o},e}();ZC.eu=new WeakMap;var ek=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new fd(hd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new kw(n._delegate,r,new Wd(t)))},e.Zc=function(t,n,r){return new e(n,new kw(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ck(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new ck(this.firestore,Ew(this._delegate,e))}catch(e){throw tk(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(rc.j)(e))instanceof kw&&xw(this._delegate,e)},e.prototype.set=function(e,t){t=pw("DocumentReference.set",t);try{return function(e,t,n){e=bw(e,kw);var r=bw(e.firestore,Mw),i=DC(e._converter,t,n);return zC(r,[Qw(Ww(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,cv.none())])}(this._delegate,e,t)}catch(e){throw tk(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?qC(this._delegate,e):qC.apply(void 0,cd([this._delegate,e,t],n))}catch(e){throw tk(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return zC(bw((e=this._delegate).firestore,Mw),[new Sv(e._key,cv.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=nk(t),i=rk(t,(function(t){return new ik(e.firestore,new gC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return VC(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=bw(e,kw);var t=bw(e.firestore,Mw),n=Nw(t),r=new UC(t);return function(e,t){var n=this,r=new eg;return e.asyncQueue.enqueueAndForget((function(){return sd(n,void 0,void 0,(function(){var n;return ud(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return sd(this,void 0,void 0,(function(){var r,i;return ud(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=wd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new fd(hd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Bb(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Z_(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new gC(t,r,e._key,n,new yC(null!==n&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=bw(e,kw);var t=bw(e.firestore,Mw);return rw(Nw(t),e._key,{source:"server"}).then((function(n){return BC(t,e,n)}))}(this._delegate):function(e){e=bw(e,kw);var t=bw(e.firestore,Mw);return rw(Nw(t),e._key).then((function(n){return BC(t,e,n)}))}(this._delegate)).then((function(e){return new ik(t.firestore,new gC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?ZC.tu(this.firestore,t):null))},e}();function tk(e,t,n){return e.message=e.message.replace(t,n),e}function nk(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Aw(r))return r}return{}}function rk(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Aw(e[0])?e[0]:Aw(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ik=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ek(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return wC(this._delegate,e._delegate)},e}(),ok=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ad(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(ik),ak=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,SC(this._delegate,function(e,t,n){var r=t,i=vC("where",e);return new TC(i,r,n)}(t,n,r)))}catch(t){throw tk(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,SC(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=vC("orderBy",e);return new EC(r,n)}(t,n)))}catch(t){throw tk(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,SC(this._delegate,function(e){return _w("limit",e),new OC("limit",e,"F")}(t)))}catch(t){throw tk(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,SC(this._delegate,function(e){return _w("limitToLast",e),new OC("limitToLast",e,"L")}(t)))}catch(t){throw tk(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,SC(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xC("startAt",e,!0)}).apply(void 0,t)))}catch(t){throw tk(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,SC(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xC("startAfter",e,!1)}).apply(void 0,t)))}catch(t){throw tk(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,SC(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new PC("endBefore",e,!0)}).apply(void 0,t)))}catch(t){throw tk(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,SC(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new PC("endAt",e,!1)}).apply(void 0,t)))}catch(t){throw tk(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Pw(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=bw(e,Sw);var t=bw(e.firestore,Mw),n=Nw(t),r=new UC(t);return function(e,t){var n=this,r=new eg;return e.asyncQueue.enqueueAndForget((function(){return sd(n,void 0,void 0,(function(){var n;return ud(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return sd(this,void 0,void 0,(function(){var r,i,o,a,s;return ud(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Pm(e,t,!0)];case 1:return s=u.sent(),r=new o_(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Bb(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Z_(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new bC(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=bw(e,Sw);var t=bw(e.firestore,Mw),n=Nw(t),r=new UC(t);return iw(n,e._query,{source:"server"}).then((function(n){return new bC(t,r,e,n)}))}(this._delegate):function(e){e=bw(e,Sw);var t=bw(e.firestore,Mw),n=Nw(t),r=new UC(t);return CC(e._query),iw(n,e._query).then((function(n){return new bC(t,r,e,n)}))}(this._delegate)).then((function(e){return new uk(t.firestore,new bC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=nk(t),i=rk(t,(function(t){return new uk(e.firestore,new bC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return VC(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?ZC.tu(this.firestore,t):null))},e}(),sk=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ok(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),uk=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new ak(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new ok(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new sk(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ok(n._firestore,r))}))},e.prototype.isEqual=function(e){return wC(this._delegate,e._delegate)},e}(),ck=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return ad(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new ek(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new ek(this.firestore,void 0===e?Ow(this._delegate):Ow(this._delegate,e))}catch(e){throw tk(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=bw(e.firestore,Mw),r=Ow(e),i=DC(e._converter,t);return zC(n,[Qw(Ww(e.firestore),"addDoc",r._key,i,null!==e._converter,{}).toMutation(r._key,cv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ek(t.firestore,e)}))},t.prototype.isEqual=function(e){return xw(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?ZC.tu(this.firestore,e):null))},t}(ak);function lk(e){return bw(e,kw)}var hk,fk=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Lw.bind.apply(Lw,cd([void 0],e)))}return e.documentId=function(){return new e(Dd.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(rc.j)(e))instanceof Lw&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),dk=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new $w("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Yw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Jw("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zw("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new eC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),pk=n("/6Yf"),vk={Firestore:YC,GeoPoint:qw,Timestamp:Od,Blob:WC,Transaction:$C,WriteBatch:JC,DocumentReference:ek,DocumentSnapshot:ik,Query:ak,QueryDocumentSnapshot:ok,QuerySnapshot:uk,CollectionReference:ck,FieldPath:fk,FieldValue:dk,setLogLevel:function(e){dd.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new pk.a("firestore",(function(e){return function(e,t){return new YC(e,new Mw(e,t),new QC)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},vk)))})(hk=nc.a),hk.registerVersion("@firebase/firestore","2.2.4");var yk=n("VRyK"),gk=n("qgXg"),mk=n("Ylt2"),bk=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf2(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new _k(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf2(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new ni.a;if(this.isStopped||this.hasError?t=oo.a.EMPTY:(this.observers.push(e),t=new mk.a(this,e)),i&&e.add(e=new ec.a(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(var s=0;s<o&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||gk.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(Jr.a),_k=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n};function wk(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=e.refCount,u=e.scheduler,c=0,l=!1,h=!1;return function(e){c++,t&&!l||(l=!1,t=new bk(i,a,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}));var r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}function Ck(e,t){return t?Wi((function(){return e}),t):Wi((function(){return e}))}var kk,Sk=n("tf+s"),Tk=new r.q("angularfire2.auth.use-emulator"),Ek=new r.q("angularfire2.auth.settings"),Ok=new r.q("angularfire2.auth.tenant-id"),xk=new r.q("angularfire2.auth.langugage-code"),Pk=new r.q("angularfire2.auth.use-device-language"),Ik=new r.q("angularfire.auth.persistence"),Ak=((kk=function e(t,r,i,o,a,s,u,c,l,h){_classCallCheck(this,e);var f=new tc.e(o),d=Object(tc.i)(f),p=new Jr.a,v=Object(Zr.a)(void 0).pipe(Object(ec.b)(f.outsideAngular),Wi((function(){return o.runOutsideAngular((function(){return n.e(6).then(n.bind(null,"6nsN"))}))})),Object(yi.a)((function(){return Object(tc.h)(t,o,r)})),Object(yi.a)((function(e){return o.runOutsideAngular((function(){var t=a,n=s;return Object(tc.g)(e.name+".auth","AngularFireAuth",e,(function(){var r=o.runOutsideAngular((function(){return e.auth()}));return t&&r.useEmulator("http://"+t.join(":")),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r}),[t,u,c,l,n,h])}))})),wk({bufferSize:1,refCount:!1}));if(B(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Zr.a)(null);else{v.pipe(Bi()).subscribe();var y=v.pipe(Wi((function(e){return e.getRedirectResult().then((function(e){return e}),(function(){return null}))})),d,wk({bufferSize:1,refCount:!1})),g=function(e){return new ii.a((function(t){return{unsubscribe:o.runOutsideAngular((function(){return e(t)}))}}))},m=v.pipe(Wi((function(e){return g(e.onAuthStateChanged.bind(e))}))),b=v.pipe(Wi((function(e){return g(e.onIdTokenChanged.bind(e))})));this.authState=y.pipe(Ck(m),Object(Sk.a)(f.outsideAngular),Object(ec.b)(f.insideAngular)),this.user=y.pipe(Ck(b),Object(Sk.a)(f.outsideAngular),Object(ec.b)(f.insideAngular)),this.idToken=this.user.pipe(Wi((function(e){return e?Object(ti.a)(e.getIdToken()):Object(Zr.a)(null)}))),this.idTokenResult=this.user.pipe(Wi((function(e){return e?Object(ti.a)(e.getIdTokenResult()):Object(Zr.a)(null)}))),this.credential=Object(yk.a)(y,p,this.authState.pipe(_i((function(e){return!e})))).pipe(Object(yi.a)((function(e){return(null==e?void 0:e.user)?e:null})),Object(Sk.a)(f.outsideAngular),Object(ec.b)(f.insideAngular))}return Object(tc.j)(this,v,o,{spy:{apply:function(e,t,n){(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then((function(e){return p.next(e)}))}}})}).\u0275fac=function(e){return new(e||kk)(r.Pb(tc.c),r.Pb(tc.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Tk,8),r.Pb(Ek,8),r.Pb(Ok,8),r.Pb(xk,8),r.Pb(Pk,8),r.Pb(Ik,8))},kk.\u0275prov=Object(r.Eb)({factory:function(){return new kk(Object(r.Pb)(tc.c),Object(r.Pb)(tc.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Tk,8),Object(r.Pb)(Ek,8),Object(r.Pb)(Ok,8),Object(r.Pb)(xk,8),Object(r.Pb)(Pk,8),Object(r.Pb)(Ik,8))},token:kk,providedIn:"any"}),kk);function Mk(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wu.a;return new ii.a((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot({includeMetadataChanges:!0},n)})):r=e.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(e,t)}function Nk(e,t){return Mk(e,t).pipe(Object(yi.a)((function(e){return{payload:e,type:"query"}})))}function Rk(e,t){return Nk(e,t).pipe($i(void 0),Qu(),Object(yi.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=r.payload.docChanges(),o=i.map((function(e){return{type:e.type,payload:e}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(e,t){var r=i.find((function(t){return t.doc.ref.isEqual(e.ref)})),a=null==n?void 0:n.payload.docs.find((function(t){return t.ref.isEqual(e.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(e.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(e.metadata)||o.push({type:"modified",payload:{oldIndex:t,newIndex:t,type:"modified",doc:e}})})),o})))}function Dk(e,t,n){return Rk(e,n).pipe(Ji((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return jk(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){var n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return jk(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return jk(e,t.oldIndex,1)}return e}(e,t))})),e}(e,n.map((function(e){return e.payload})),t)}),[]),$u(),Object(yi.a)((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function jk(e,t,n){for(var r=e.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[t,n].concat(o)),r}function Lk(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var Fk=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){var t=Rk(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Object(yi.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})))),t.pipe($i(void 0),Qu(),_i((function(e){var t=_slicedToArray(e,2),n=t[0];return t[1].length>0||!n})),Object(yi.a)((function(e){var t=_slicedToArray(e,2);t[0];return t[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Ji((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=Lk(e);return Dk(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nk(this.query,this.afs.schedulers.outsideAngular).pipe(Object(yi.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(ti.a)(this.query.get(e)).pipe(Object(ec.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new Uk(this.ref.doc(e),this.afs)}}]),e}(),Uk=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=Gk(this.ref.collection(e),t),r=n.ref,i=n.query;return new Fk(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return Mk(this.ref,this.afs.schedulers.outsideAngular).pipe($i(void 0),Qu(),Object(yi.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(yi.a)((function(t){var n=t.payload;return e.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},e.idField,n.id)):n.data()})))}},{key:"get",value:function(e){return Object(ti.a)(this.ref.get(e)).pipe(Object(ec.b)(this.afs.schedulers.insideAngular))}}]),e}(),qk=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?Rk(this.query,this.afs.schedulers.outsideAngular).pipe(Object(yi.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),_i((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):Rk(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Ji((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=Lk(e);return Dk(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nk(this.query,this.afs.schedulers.outsideAngular).pipe(Object(yi.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(_defineProperty({},e.idField,t.id),t.data()):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(ti.a)(this.query.get(e)).pipe(Object(ec.b)(this.afs.schedulers.insideAngular))}}]),e}(),Vk=new r.q("angularfire2.enableFirestorePersistence"),zk=new r.q("angularfire2.firestore.persistenceSettings"),Bk=new r.q("angularfire2.firestore.settings"),Hk=new r.q("angularfire2.firestore.use-emulator");function Gk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var Kk,Wk,Qk=((Wk=function(){function e(t,n,r,i,o,a,s,u,c){_classCallCheck(this,e),this.schedulers=new tc.e(a),this.keepUnstableUntilFirst=Object(tc.i)(this.schedulers);var l=Object(tc.h)(t,a,n);!Ku.a.auth&&c&&Object(tc.k)();var h=u,f=_slicedToArray(Object(tc.g)(l.name+".firestore","AngularFirestore",l,(function(){var e=a.runOutsideAngular((function(){return l.firestore()}));return i&&e.settings(i),h&&e.useEmulator.apply(e,_toConsumableArray(h)),r&&!B(o)?[e,a.runOutsideAngular((function(){try{return Object(ti.a)(e.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(hk){return"undefined"!=typeof console&&console.warn(hk),Object(Zr.a)(!1)}}))]:[e,Object(Zr.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(e,[{key:"collection",value:function(e,t){var n=Gk("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new Fk(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new qk(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run((function(){return t}));return new Uk(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}()).\u0275fac=function(e){return new(e||Wk)(r.Pb(tc.c),r.Pb(tc.b,8),r.Pb(Vk,8),r.Pb(Bk,8),r.Pb(r.B),r.Pb(r.z),r.Pb(zk,8),r.Pb(Hk,8),r.Pb(Tk,8))},Wk.\u0275prov=Object(r.Eb)({factory:function(){return new Wk(Object(r.Pb)(tc.c),Object(r.Pb)(tc.b,8),Object(r.Pb)(Vk,8),Object(r.Pb)(Bk,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(zk,8),Object(r.Pb)(Hk,8),Object(r.Pb)(Tk,8))},token:Wk,providedIn:"any"}),Wk),Yk=((Kk=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"enablePersistence",value:function(t){return{ngModule:e,providers:[{provide:Vk,useValue:!0},{provide:zk,useValue:t}]}}}]),e}()).\u0275mod=r.Gb({type:Kk}),Kk.\u0275inj=r.Fb({factory:function(e){return new(e||Kk)},providers:[Qk]}),Kk),Xk=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new $k(e,this.dueTime,this.scheduler))}}]),e}(),$k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Jk,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(bi.a);function Jk(e){e.debouncedNext()}var Zk=function(e,t){return(Zk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},eS=function(){return(eS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function tS(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(hk){o(hk)}}function s(e){try{u(r.throw(e))}catch(hk){o(hk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function nS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(hk){o=[6,hk],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function rS(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var iS=function(e){function t(n,r){var i=e.call(this,oS(n),"Firebase Storage: "+r+" ("+oS(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Zk(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._codeEquals=function(e){return oS(e)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(rc.c);function oS(e){return"storage/"+e}function aS(){return new iS("unknown","An unknown error occurred, please check the error payload for server response.")}function sS(){return new iS("canceled","User canceled the upload/download.")}function uS(){return new iS("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function cS(e){return new iS("invalid-argument",e)}function lS(){return new iS("app-deleted","The Firebase app was deleted.")}function hS(e){return new iS("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fS(e,t){return new iS("invalid-format","String does not match format '"+e+"': "+t)}function dS(e){throw new iS("internal-error","Internal error: "+e)}var pS={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},vS=function(e,t){this.data=e,this.contentType=t||null};function yS(e,t){switch(e){case pS.RAW:return new vS(gS(t));case pS.BASE64:case pS.BASE64URL:return new vS(mS(e,t));case pS.DATA_URL:return new vS((n=new bS(t)).base64?mS(pS.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(hk){throw fS(pS.DATA_URL,"Malformed data URL.")}return gS(t)}(n.rest),new bS(t).contentType)}var n;throw aS()}function gS(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function mS(e,t){switch(e){case pS.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw fS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case pS.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw fS(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(hk){throw fS(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var bS=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw fS(pS.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},_S={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wS(e){switch(e){case"running":case"pausing":case"canceling":return _S.RUNNING;case"paused":return _S.PAUSED;case"success":return _S.SUCCESS;case"canceled":return _S.CANCELED;case"error":default:return _S.ERROR}}var CS=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),kS=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=CS.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=CS.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=CS.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw dS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw dS("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw dS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(hk){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw dS("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),SS=function(){function e(){}return e.prototype.createXhrIo=function(){return new kS},e}(),TS=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(hk){return new e(t,"")}if(""===r.path)return r;throw new iS("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(t);if(l){var h=l[c.indices.path];h||(h=""),r=new e(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(e){return new iS("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),ES=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function OS(e){return"string"==typeof e||e instanceof String}function xS(e){return PS()&&e instanceof Blob}function PS(){return"undefined"!=typeof Blob}function IS(e,t,n,r){if(r<t)throw cS("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw cS("Invalid value for '"+e+"'. Expected "+n+" or less.")}function AS(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function MS(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var NS=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(hk){o(hk)}else null!==a?((r=aS()).serverResponse=a.getResponseText(),o(e.errorCallback_?e.errorCallback_(a,r):r)):o(r=n.canceled?e.appDelete_?lS():sS():new iS("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new RS(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new RS(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===CS.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new RS(a,n))}else{var s=n.getErrorCode()===CS.ABORT;t(!1,new RS(!1,null,s))}}))}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,rS([null,e],t));else{var r,o=u()||a;o?l.call.apply(l,rS([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),RS=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function DS(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function jS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=DS();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(PS())return new Blob(e);throw new iS("unsupported-environment","This browser doesn't seem to support creating Blobs")}var LS=function(){function e(e,t){var n=0,r="";xS(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(xS(this.data_)){var r=(o=t,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(PS()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(jS.apply(null,r))}var i=t.map((function(e){return OS(e)?yS(pS.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function FS(e){var t,n;try{t=JSON.parse(e)}catch(hk){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function US(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function qS(e,t){return t}var VS=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||qS},zS=null;function BS(){if(zS)return zS;var e=[];e.push(new VS("bucket")),e.push(new VS("generation")),e.push(new VS("metageneration")),e.push(new VS("name","fullPath",!0));var t=new VS("name");t.xform=function(e,t){return function(e){return!OS(e)||e.length<2?e:US(e)}(t)},e.push(t);var n=new VS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new VS("timeCreated")),e.push(new VS("updated")),e.push(new VS("md5Hash",null,!0)),e.push(new VS("cacheControl",null,!0)),e.push(new VS("contentDisposition",null,!0)),e.push(new VS("contentEncoding",null,!0)),e.push(new VS("contentLanguage",null,!0)),e.push(new VS("contentType",null,!0)),e.push(new VS("metadata","customMetadata",!0)),zS=e}function HS(e,t,n){var r=FS(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new TS(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function GS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var KS=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function WS(e){if(!e)throw aS()}function QS(e,t){return function(n,r){var i=HS(e,r,t);return WS(null!==i),i}}function YS(e){return function(t,n){var r;return(r=401===t.getStatus()?new iS("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new iS("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new iS("unauthorized","User does not have permission to access '"+e.path+"'."):n).serverResponse=n.serverResponse,r}}function XS(e){var t=YS(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new iS("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function $S(e,t,n){var r=AS(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new KS(r,"GET",QS(e,n),i);return o.errorHandler=XS(t),o}function JS(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var ZS=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function eT(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(hk){WS(!1)}return WS(!!n&&-1!==(t||["active"]).indexOf(n)),n}var tT=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function nT(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var rT=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=BS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=JS(t,r,i),s={name:a.fullPath},u=AS(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=GS(a,n),h=new KS(u,"POST",(function(e){var t;eT(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(hk){WS(!1)}return WS(OS(t)),t}),e.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=YS(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=function(e,t,n,r){var i=new KS(n,"POST",(function(e){var t=eT(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(hk){WS(!1)}n||WS(!1);var i=Number(n);return WS(!isNaN(i)),new ZS(i,r.size(),"final"===t)}),e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=YS(t),i}(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(r,n);e._request=i,i.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new ZS(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(e,t,n,r,i,o,a,s){var u=new ZS(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new iS("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw uS();var p=new KS(n,"POST",(function(e,n){var i,a=eT(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?QS(t,o)(e,n):null,new ZS(s,c,"final"===a,i)}),t.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=s||null,p.errorHandler=YS(e),p}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(hk){return e._error=hk,void e._transition("error")}var a=e._ref.storage._makeRequest(o,i);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=$S(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=JS(t,r,i),c=GS(u,n),l=LS.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw uS();var h={name:u.fullPath},f=AS(o,e.host),d=e.maxUploadRetryTime,p=new KS(f,"POST",QS(e,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=YS(t),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=sS(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=wS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new tT(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(wS(this._state)){case _S.SUCCESS:nT(this._resolve.bind(null,this.snapshot))();break;case _S.CANCELED:case _S.ERROR:nT(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(wS(this._state)){case _S.RUNNING:case _S.PAUSED:e.next&&nT(e.next.bind(e,this.snapshot))();break;case _S.SUCCESS:e.complete&&nT(e.complete.bind(e))();break;case _S.CANCELED:case _S.ERROR:e.error&&nT(e.error.bind(e,this._error))();break;default:e.error&&nT(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),iT=function(){function e(e,t){this._service=e,this._location=t instanceof TS?t:TS.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new TS(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return US(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new TS(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw hS(e)},e}();function oT(e,t){return tS(this,void 0,void 0,(function(){var n,r,i;return nS(this,(function(o){switch(o.label){case 0:return null!=t&&"number"==typeof t.maxResults&&IS("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),i=function(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=AS(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new KS(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=FS(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new TS(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=e._makeStorageReference(new TS(t,c[u].name)),r.items.push(s);return r}(e,t,r)}(e,t,r);return WS(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=YS(t),u}(e.storage,e._location,0,(r=t||{}).pageToken,r.maxResults),[2,e.storage._makeRequest(i,n).getPromise()]}}))}))}function aT(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new TS(e._location.bucket,n);return new iT(e.storage,r)}function sT(e){return/^[A-Za-z]+:\/\//.test(e)}function uT(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:TS.makeFromBucketSpec(n,e)}var cT=function(){function e(e,t,n,r,i){this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?TS.makeFromBucketSpec(r,this._host):uT(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?TS.makeFromBucketSpec(this._url,e):uT(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){IS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){IS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return tS(this,void 0,void 0,(function(){var e,t;return nS(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new iT(this,e)},e.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new ES(lS());var r=function(e,t,n,r,i){var o=MS(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(s,i),new NS(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}();function lT(e,t){return function(e,t){if(t&&sT(t)){if(e instanceof cT)return new iT(e,t);throw cS("To use ref(service, url), the first argument must be a Storage instance.")}return function e(t,n){if(t instanceof cT){var r=t;if(null==r._bucket)throw new iS("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new iT(r,r._bucket);return null!=n?e(i,n):i}if(void 0!==n){if(n.includes(".."))throw cS('`path` param cannot contain ".."');return aT(t,n)}return t}(e,t)}(e=Object(rc.j)(e),t)}var hT,fT,dT=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),pT=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new dT(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new dT(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new dT(e,i,i._ref))}:{next:t.next?function(e){return t.next(new dT(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),vT=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new yT(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new yT(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),yT=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return aT(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new pT(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new rT(e,new LS(t),n)}(e=Object(rc.j)(e),t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=pS.RAW),this._throwIfRoot("putString");var r=yS(t,e),i=eS({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new pT(new rT(this._delegate,new LS(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,function(e){var t={prefixes:[],items:[]};return function e(t,n,r){return tS(this,void 0,void 0,(function(){var i,o,a;return nS(this,(function(s){switch(s.label){case 0:return[4,oT(t,{pageToken:r})];case 1:return i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}(e=Object(rc.j)(e))).then((function(e){return new vT(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return oT(e=Object(rc.j)(e),t)}(this._delegate,e||void 0).then((function(e){return new vT(e,t.storage)}))},e.prototype.getMetadata=function(){return e=this._delegate,function(e){return tS(this,void 0,void 0,(function(){var t,n;return nS(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=$S(e.storage,e._location,BS()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e=Object(rc.j)(e));var e},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return tS(this,void 0,void 0,(function(){var n,r;return nS(this,(function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=function(e,t,n,r){var i=AS(t.fullServerUrl(),e.host),o=GS(n,r),a=e.maxOperationRetryTime,s=new KS(i,"PATCH",QS(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=XS(t),s}(e.storage,e._location,t,BS()),[2,e.storage._makeRequest(r,n).getPromise()]}}))}))}(e=Object(rc.j)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,function(e){return tS(this,void 0,void 0,(function(){var t,n;return nS(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t,n){var r=AS(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new KS(r,"GET",function(e,t){return function(n,r){var i=HS(e,r,t);return WS(null!==i),function(e,t,n){var r=FS(t);if(null===r)return null;if(!OS(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.fullPath;return AS("/b/"+o(e.bucket)+"/o/"+o(r),n)+MS({alt:"media",token:t})}))[0]}(i,r,e.host)}}(e,n),i);return o.errorHandler=XS(t),o}(e.storage,e._location,BS()),[2,e.storage._makeRequest(n,t).getPromise().then((function(e){if(null===e)throw new iS("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}(e=Object(rc.j)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,function(e){return tS(this,void 0,void 0,(function(){var t,n;return nS(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t){var n=AS(t.fullServerUrl(),e.host),r=new KS(n,"DELETE",(function(e,t){}),e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=XS(t),r}(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e=Object(rc.j)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw hS(e)},e}(),gT=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(sT(e))throw cS("ref() expected a child path but got a URL, use refFromURL instead.");return new yT(lT(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!sT(e))throw cS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{TS.makeFromUrl(e,this._delegate.host)}catch(hk){throw cS("refFromUrl() expected a valid full URL but got an invalid one.")}return new yT(lT(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();function mT(e){var t=function(e){return new ii.a((function(t){var n=function(e){return t.next(e)};n(e.snapshot);var r=e.on("state_changed",n);return e.then((function(e){n(e),t.complete()}),(function(r){n(e.snapshot),function(e){t.error(e)}(r)})),function(){r()}})).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wu.a;return function(n){return n.lift(new Xk(e,t))}}(0))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:function(){return t},percentageChanges:function(){return t.pipe(Object(yi.a)((function(e){return e.bytesTransferred/e.totalBytes*100})))}}}function bT(e,t,n){return{getDownloadURL:function(){return Object(Zr.a)(void 0).pipe(Object(ec.b)(t.outsideAngular),Wi((function(){return e.getDownloadURL()})),n)},getMetadata:function(){return Object(Zr.a)(void 0).pipe(Object(ec.b)(t.outsideAngular),Wi((function(){return e.getMetadata()})),n)},delete:function(){return Object(ti.a)(e.delete())},child:function(r){return bT(e.child(r),t,n)},updateMetadata:function(t){return Object(ti.a)(e.updateMetadata(t))},put:function(t,n){return mT(e.put(t,n))},putString:function(t,n,r){return mT(e.putString(t,n,r))},listAll:function(){return Object(ti.a)(e.listAll())}}}fT={TaskState:_S,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:pS,Storage:cT,Reference:yT},(hT=nc.a).INTERNAL.registerComponent(new pk.a("storage",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return new gT(r,new cT(r,i,new SS,n,nc.a.SDK_VERSION))}),"PUBLIC").setServiceProps(fT).setMultipleInstances(!0)),hT.registerVersion("@firebase/storage","0.5.0");var _T,wT,CT,kT=new r.q("angularfire2.storageBucket"),ST=new r.q("angularfire2.storage.maxUploadRetryTime"),TT=new r.q("angularfire2.storage.maxOperationRetryTime"),ET=((CT=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this.schedulers=new tc.e(o),this.keepUnstableUntilFirst=Object(tc.i)(this.schedulers);var u=Object(tc.h)(t,o,n);this.storage=Object(tc.g)("".concat(u.name,".storage.").concat(r),"AngularFireStorage",u,(function(){var e=o.runOutsideAngular((function(){return u.storage(r||void 0)}));return a&&e.setMaxUploadRetryTime(a),s&&e.setMaxOperationRetryTime(s),e}),[a,s])}return _createClass(e,[{key:"ref",value:function(e){return bT(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"refFromURL",value:function(e){return bT(this.storage.refFromURL(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(e,t,n){return bT(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(t,n)}}]),e}()).\u0275fac=function(e){return new(e||CT)(r.Pb(tc.c),r.Pb(tc.b,8),r.Pb(kT,8),r.Pb(r.B),r.Pb(r.z),r.Pb(ST,8),r.Pb(TT,8))},CT.\u0275prov=Object(r.Eb)({factory:function(){return new CT(Object(r.Pb)(tc.c),Object(r.Pb)(tc.b,8),Object(r.Pb)(kT,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(ST,8),Object(r.Pb)(TT,8))},token:CT,providedIn:"any"}),CT),OT=((wT=function e(){_classCallCheck(this,e)}).\u0275mod=r.Gb({type:wT}),wT.\u0275inj=r.Fb({factory:function(e){return new(e||wT)}}),wT),xT=((_T=function e(){_classCallCheck(this,e)}).\u0275mod=r.Gb({type:_T}),_T.\u0275inj=r.Fb({factory:function(e){return new(e||_T)},providers:[ET],imports:[OT]}),_T);function PT(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(hk){o(hk)}}function s(e){try{u(r.throw(e))}catch(hk){o(hk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}var IT,AT,MT,NT,RT,DT,jT,LT,FT=function(){function e(t,n,r,i){_classCallCheck(this,e),this.keySelector=t,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new UT(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),e}(),UT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e)).keySelector=r,s.elementSelector=i,s.durationSelector=o,s.subjectSelector=a,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)}},{key:"_group",value:function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(s){this.error(s)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new Jr.a,n.set(t,i);var o=new VT(t,i,this);if(this.destination.next(o),this.durationSelector){var a;try{a=this.durationSelector(new VT(t,i))}catch(s){return void this.error(s)}this.add(a.subscribe(new qT(t,i,this)))}}i.closed||i.next(r)}},{key:"_error",value:function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)}},{key:"_complete",value:function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()}},{key:"removeGroup",value:function(e){this.groups.delete(e)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_get(_getPrototypeOf2(n.prototype),"unsubscribe",this).call(this))}}]),n}(bi.a),qT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,r)).key=e,o.group=r,o.parent=i,o}return _createClass(n,[{key:"_next",value:function(e){this.complete()}},{key:"_unsubscribe",value:function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)}}]),n}(bi.a),VT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).key=e,o.groupSubject=r,o.refCountSubscription=i,o}return _createClass(n,[{key:"_subscribe",value:function(e){var t=new oo.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new zT(n)),t.add(r.subscribe(e)),t}}]),n}(ii.a),zT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,e.count++,r}return _createClass(n,[{key:"unsubscribe",value:function(){var e=this.parent;e.closed||this.closed||(_get(_getPrototypeOf2(n.prototype),"unsubscribe",this).call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}]),n}(oo.a),BT=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),HT=new r.q("angularfire2.analytics.appVersion"),GT=new r.q("angularfire2.analytics.appName"),KT=new r.q("angularfire2.analytics.debugMode"),WT=new r.q("angularfire2.analytics.config"),QT=((AT=function(){function e(t,r,i,o,a,s,u,c){var l=this;if(_classCallCheck(this,e),this.analyticsInitialized=new Promise((function(){})),z(u)){window.dataLayer=window.dataLayer||[];var h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"config"===t[0]&&"firebase"===t[2].origin&&(l.measurementId=t[1],!0)},f=function(e){window.gtag=function(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];e&&e.apply(void 0,r),"event"===r[0]&&r[2].send_to===l.measurementId&&(o&&(r[2].app_name=o),i&&(r[2].app_version=i)),a&&"undefined"!=typeof console&&(t=console).info.apply(t,r),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.dataLayer.push(arguments)}).apply(void 0,r)}};window.dataLayer.some(h)?(this.analyticsInitialized=Promise.resolve(),f()):this.analyticsInitialized=new Promise((function(e){f((function(){h.apply(void 0,arguments)&&e()}))})),s&&this.updateConfig(s),a&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();var d=Object(Zr.a)(void 0).pipe(Object(ec.b)(new tc.e(c).outsideAngular),Wi((function(){return z(u)?c.runOutsideAngular((function(){return n.e(5).then(n.bind(null,"AAub"))})):pi.a})),Object(yi.a)((function(){return Object(tc.g)("analytics","AngularFireAnalytics",t,(function(){var e=t.analytics();return!1===r&&e.setAnalyticsCollectionEnabled(!1),e}),[t,r,s,a])})),wk({bufferSize:1,refCount:!1}));return Object(tc.j)(this,d,c)}return _createClass(e,[{key:"updateConfig",value:function(e){return PT(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.analyticsInitialized;case 2:window.gtag("config",this.measurementId,Object.assign(Object.assign({},e),{update:!0}));case 3:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||AT)(r.Pb(tc.d),r.Pb(BT,8),r.Pb(HT,8),r.Pb(GT,8),r.Pb(KT,8),r.Pb(WT,8),r.Pb(r.B),r.Pb(r.z))},AT.\u0275prov=Object(r.Eb)({factory:function(){return new AT(Object(r.Pb)(tc.d),Object(r.Pb)(BT,8),Object(r.Pb)(HT,8),Object(r.Pb)(GT,8),Object(r.Pb)(KT,8),Object(r.Pb)(WT,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z))},token:AT,providedIn:"any"}),AT),YT=((IT=function(){function e(t,n,r,i){var o;_classCallCheck(this,e),this.disposables=[],B(n)?this.initialized=Promise.resolve():(this.initialized=i.runOutsideAngular((function(){return new Promise((function(e){return o=e}))})),this.disposables=[r.authState.subscribe((function(e){t.setUserId(null==e?void 0:e.uid),o()})),r.credential.subscribe((function(e){if(e){var n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}}))])}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.disposables.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||IT)(r.Pb(QT),r.Pb(r.B),r.Pb(Ak),r.Pb(r.z))},IT.\u0275prov=r.Eb({token:IT,factory:IT.\u0275fac}),IT),XT=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31),$T={},JT=function(e){var t=[e.screen_class,e.outlet].join("#");if($T.hasOwnProperty(t))return $T[t];var n=XT++;return $T[t]=n,n},ZT=((NT=function(){function e(t,n,r,i,o,a,s){var u=this;if(_classCallCheck(this,e),!n||!z(o))return this;a.runOutsideAngular((function(){var e,o=n.events.pipe(_i((function(e){return e instanceof So})));u.disposable=o.pipe(Wi((function(e){var t,o=(null===(t=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,(function(e){return e.replace("://",":///")}))).root.children[e.snapshot.outlet])||void 0===t?void 0:t.toString())||"",a=n.routerState.root.children.map((function(e){return e})).find((function(t){return t.outlet===e.snapshot.outlet}));if(!a)return Object(Zr.a)(null);for(var s=a;s.firstChild;)s=s.firstChild;var u=s.pathFromRoot.map((function(e){var t;return null===(t=e.routeConfig)||void 0===t?void 0:t.path})).filter((function(e){return e})).join("/")||"/",c={screen_name:u,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:u,outlet:e.snapshot.outlet};r&&(c.page_title=r.getTitle());var l=a.component;if(l){if(l===Eo){for(var h=e.snapshot;h.firstChild;)h=h.firstChild;l=h.component}}else l=e.snapshot.component;if("string"==typeof l)return Object(Zr.a)(Object.assign(Object.assign({},c),{screen_class:l}));if(l){var f=i.resolveComponentFactory(l);return Object(Zr.a)(Object.assign(Object.assign({},c),{screen_class:f.selector}))}return Object(Zr.a)(null)})),_i((function(e){return e})),Object(yi.a)((function(e){return Object.assign({firebase_screen_class:e.screen_class,firebase_screen_id:JT(e)},e)})),(e=function(e){return e.outlet},function(t){return t.lift(new FT(e,void 0,void 0,void 0))}),Object(Hi.a)((function(e){return e.pipe($u((function(e,t){return JSON.stringify(e)===JSON.stringify(t)})),$i(void 0),Qu(),Object(yi.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return n?Object.assign({firebase_previous_class:n.screen_class,firebase_previous_screen:n.screen_name,firebase_previous_id:n.firebase_screen_id},r):r})),Wi((function(e){return PT(u,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=s,!n.t0){n.next=4;break}return n.next=4,s.initialized;case 4:return n.next=6,t.logEvent("screen_view",e);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))})))}))).subscribe()}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.disposable&&this.disposable.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||NT)(r.Pb(QT),r.Pb(Es,8),r.Pb(Ae,8),r.Pb(r.j),r.Pb(r.B),r.Pb(r.z),r.Pb(YT,8))},NT.\u0275prov=r.Eb({token:NT,factory:NT.\u0275fac}),NT),eE=((MT=function e(t,n,r){_classCallCheck(this,e),t.app.then((function(){}))}).\u0275mod=r.Gb({type:MT}),MT.\u0275inj=r.Fb({factory:function(e){return new(e||MT)(r.Pb(QT),r.Pb(ZT,8),r.Pb(YT,8))},providers:[QT]}),MT),tE=[{path:"",component:Tu,pathMatch:"full",data:{animation:"homePage"}},{path:"styles-selection",component:Lu,data:{animation:"styleSelection"}},{path:"product-detail",component:Mu,data:{animation:"productDetail"}},{path:"summary",component:(RT=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.routerStateService=t,this.router=n,this.firestore=r,this.storage=i,this.activatedRoute=o,this.analytics=a,this.shouldShowSpinner=!1}return _createClass(e,[{key:"ngOnInit",value:function(){return Fu(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.routerStateService.state){e.next=3;break}return e.abrupt("return",void this.router.navigate(["product-detail"],{queryParamsHandling:"preserve"}));case 3:return this.petName=t.petName,this.petBirthMonth=t.petBirthMonth,this.selectedFile=t.selectedFile,this.routerStateService.clearState(),e.next=9,this.readFile(this.selectedFile);case 9:if(this.imageSrc=e.sent,n=this.activatedRoute.snapshot.queryParamMap.get("styleImageId")){e.next=13;break}return e.abrupt("return",void this.router.navigateByUrl("/styles-selection"));case 13:(r=Eu.find((function(e){return e.id===n})))?this.selectedStyleImage=r:this.router.navigateByUrl("/styles-selection");case 15:case"end":return e.stop()}}),e,this)})))}},{key:"readFile",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){t(r.result)})),r.addEventListener("error",n),r.readAsDataURL(e)}))}},{key:"onSubmitForm",value:function(e){return Fu(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.shouldShowSpinner=!0,e.preventDefault(),t.next=4,this.uploadFile(this.selectedFile);case 4:return n=t.sent,t.next=7,this.createStylizationJobDocument(n);case 7:this.analytics.logEvent("generate_lead",{value:this.selectedStyleImage.name}),fbq("track","Lead",{content_name:this.selectedStyleImage.name}),this.router.navigate(["success"],{queryParams:{userEmail:this.email}}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),this.router.navigateByUrl("/failure");case 15:case"end":return t.stop()}}),t,this,[[0,12]])})))}},{key:"uploadFile",value:function(e){return Fu(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="v2/content-images/"+Gu(),r=this.storage.ref(n),t.next=3,r.put(e);case 3:return t.next=5,r.getDownloadURL().toPromise();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"createStylizationJobDocument",value:function(e){var t,n;return Fu(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={email:this.email,contentImagePublicUrl:e,styleImageName:this.selectedStyleImage.name,status:"PENDING",creationDate:Ku.a.firestore.Timestamp.fromMillis(Date.now()),petName:null!==(t=this.petName)&&void 0!==t?t:null,petBirthMonth:null!==(n=this.petBirthMonth)&&void 0!==n?n:null},r.next=3,this.firestore.collection("stylization-jobs-v2").add(i);case 3:return r.abrupt("return",r.sent.id);case 4:case"end":return r.stop()}}),r,this)})))}}]),e}(),RT.\u0275fac=function(e){return new(e||RT)(r.Ib(Ou),r.Ib(Es),r.Ib(Qk),r.Ib(ET),r.Ib(ya),r.Ib(QT))},RT.\u0275cmp=r.Cb({type:RT,selectors:[["app-summary"]],decls:40,vars:7,consts:[[1,"back-arrow-container"],["routerLink","/product-detail","queryParamsHandling","preserve"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 12l9-8v6h15v4h-15v6z"],[1,"image-outer-container"],[1,"image-inner-container"],["alt","",3,"src"],[1,"content-container"],[1,"top-card"],[1,"bottom-card"],[1,"paragraphs-container"],["ngNativeValidate","",3,"submit"],[1,"form-group"],["for","email"],["type","email","id","email","required","",3,"keyup"],["type","submit",1,"primary-btn"],[1,"screen-overlay"],[1,"dark-box"],["src","assets/images/loading-spinner.svg","alt",""]],template:function(e,t){1&e&&(r.Nb(0,"div",0),r.Nb(1,"a",1),r.Wb(),r.Nb(2,"svg",2),r.Jb(3,"path",3),r.Mb(),r.Mb(),r.Mb(),r.Vb(),r.Nb(4,"div",4),r.Nb(5,"div",5),r.Jb(6,"img",6),r.Mb(),r.Mb(),r.Nb(7,"div",7),r.Nb(8,"section",8),r.Nb(9,"h2"),r.lc(10,"Personalisation Overiew"),r.Mb(),r.Nb(11,"ul"),r.Nb(12,"li"),r.Nb(13,"p"),r.lc(14,"Pet name"),r.Mb(),r.Nb(15,"p"),r.lc(16),r.Mb(),r.Mb(),r.Nb(17,"li"),r.Nb(18,"p"),r.lc(19,"Pet birthmonth"),r.Mb(),r.Nb(20,"p"),r.lc(21),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(22,"section",9),r.Nb(23,"h2"),r.lc(24,"Where should we send the preview to?"),r.Mb(),r.Nb(25,"div",10),r.Nb(26,"p"),r.lc(27,"We will get back to you within one day."),r.Mb(),r.Nb(28,"p"),r.lc(29," If you haven't heard from us after one day, please also check your spam folder. "),r.Mb(),r.Mb(),r.Nb(30,"form",11),r.Tb("submit",(function(e){return t.onSubmitForm(e)})),r.Nb(31,"div",12),r.Nb(32,"label",13),r.lc(33,"Email"),r.Mb(),r.Nb(34,"input",14),r.Tb("keyup",(function(e){return t.email=e.target.value})),r.Mb(),r.Mb(),r.Nb(35,"button",15),r.lc(36," Submit "),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(37,"div",16),r.Jb(38,"div",17),r.Jb(39,"img",18),r.Mb()),2&e&&(r.xb(6),r.cc("src",t.imageSrc,r.gc),r.xb(10),r.mc(t.petName||"Not provided"),r.xb(5),r.mc(t.petBirthMonth||"Not provided"),r.xb(14),r.Ab("disabled",!t.email),r.xb(2),r.Ab("visible",t.shouldShowSpinner))},directives:[xs],styles:["[_nghost-%COMP%]{background-color:#2b2d42;display:block;position:relative}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%]{position:absolute;top:2rem;left:2rem;z-index:2}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;padding:.5rem}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;filter:drop-shadow(0 0 5px rgba(77,77,77,.5))}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#fff}[_nghost-%COMP%] > div.image-outer-container[_ngcontent-%COMP%]{padding-top:100%;position:relative}[_nghost-%COMP%] > div.image-outer-container[_ngcontent-%COMP%] > div.image-inner-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%] > div.image-outer-container[_ngcontent-%COMP%] > div.image-inner-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%]{position:relative;top:-40px}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-family:pf-reg;font-weight:400}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%]{padding:2.5rem 2.5rem calc(2.5rem + 40px);background-color:#fff;border-radius:40px 40px 0 0}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;list-style-type:none}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#2b2d42;font-size:1rem;line-height:3rem;font-family:m-reg}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:last-child{font-family:m-bold}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:3rem;height:3rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%]{background-color:#2b2d42;padding:2.5rem 2.5rem 0;border-radius:40px 40px 0 0;position:relative;top:-40px}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:1rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > div.paragraphs-container[_ngcontent-%COMP%]{margin-bottom:2.4rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > div.paragraphs-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > div.paragraphs-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-child{margin-bottom:1.6rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1.6rem;position:relative}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{color:#fff;font-size:1rem;margin-bottom:.8rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:42px;border:none;outline:none;border-radius:10px;padding-left:1.5rem;padding-right:1.5rem;color:#fff;background-color:#585b7e}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%] > input[type=file][_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   button.primary-btn[_ngcontent-%COMP%]{width:100%;padding:1.2rem 0;font-size:1.5rem;margin-bottom:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   button.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%] > div.screen-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;pointer-events:none}[_nghost-%COMP%] > div.screen-overlay.visible[_ngcontent-%COMP%]{pointer-events:auto}[_nghost-%COMP%] > div.screen-overlay.visible[_ngcontent-%COMP%] > div.dark-box[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%] > div.screen-overlay.visible[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%] > div.screen-overlay[_ngcontent-%COMP%] > div.dark-box[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;background-color:#000;opacity:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%] > div.screen-overlay[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px;height:100px;opacity:0;transition:opacity .25s ease-in-out}"]}),RT)},{path:"success",component:ou},{path:"failure",component:iu},{path:"**",redirectTo:"/"}],nE=((DT=function e(){_classCallCheck(this,e)}).\u0275mod=r.Gb({type:DT}),DT.\u0275inj=r.Fb({factory:function(e){return new(e||DT)},imports:[[Ks.forRoot(tE,{scrollPositionRestoration:"enabled"})],Ks]}),DT),rE={type:7,name:"slideInRoutingAnimation",definitions:[Le("homePage => styleSelection",[je({position:"relative"}),Ue(":enter, :leave",[je({position:"absolute",top:0,right:0,width:"100%"})]),Ue(":enter",[je({right:"-100%"})]),Ue(":leave",Fe()),Re([Ue(":leave",[Ne("300ms ease-out",je({right:"100%"}))]),Ue(":enter",[Ne("300ms ease-out",je({right:"0%"}))])]),Ue(":enter",Fe())]),Le("styleSelection => productDetail",[je({position:"relative"}),Ue(":enter, :leave",[je({position:"absolute",top:0,right:0,width:"100%"})]),Ue(":enter",[je({right:"-100%"})]),Ue(":leave",Fe()),Re([Ue(":leave",[Ne("300ms ease-out",je({right:"100%"}))]),Ue(":enter",[Ne("300ms ease-out",je({right:"0%"}))])]),Ue(":enter",Fe())])],options:{}},iE=((LT=function(){function e(t){_classCallCheck(this,e),this.title="PetAI",t.events.pipe(_i((function(e){return e instanceof lo}))).subscribe((function(){fbq("track","PageView")}))}return _createClass(e,[{key:"prepareRoute",value:function(e){return e&&e.activatedRouteData&&e.activatedRouteData.animation}}]),e}()).\u0275fac=function(e){return new(e||LT)(r.Ib(Es))},LT.\u0275cmp=r.Cb({type:LT,selectors:[["app-root"]],decls:3,vars:1,consts:[["outlet","outlet"]],template:function(e,t){if(1&e&&(r.Nb(0,"div"),r.Jb(1,"router-outlet",null,0),r.Mb()),2&e){var n=r.fc(2);r.cc("@slideInRoutingAnimation",t.prepareRoute(n))}},directives:[Ds],styles:["div[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}"],data:{animation:[rE]}}),LT),oE=((jT=function e(){_classCallCheck(this,e)}).\u0275mod=r.Gb({type:jT,bootstrap:[iE]}),jT.\u0275inj=r.Fb({factory:function(e){return new(e||jT)},providers:[Ou,ZT,{provide:BT,useValue:!0}],imports:[[xe,rr,nE,ei,tc.a.initializeApp(i),Yk,xT,eE]]}),jT);Object(r.S)(),Ee().bootstrapModule(oE).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);