(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l}));var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function s(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var a=n("qOnz"),u=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),c=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new a.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var r=i(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=o(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(s(s([],o(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),o(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,u=this.normalizeInstanceIdentifier(void 0===r?"[DEFAULT]":r);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=i(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=o(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new c(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,a=new r.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return _o})),n.d(e,"b",(function(){return hu})),n.d(e,"c",(function(){return su})),n.d(e,"d",(function(){return iu})),n.d(e,"e",(function(){return ou})),n.d(e,"f",(function(){return rc})),n.d(e,"g",(function(){return Ku})),n.d(e,"h",(function(){return io})),n.d(e,"i",(function(){return Su})),n.d(e,"j",(function(){return Us})),n.d(e,"k",(function(){return pu})),n.d(e,"l",(function(){return qs})),n.d(e,"m",(function(){return wn})),n.d(e,"n",(function(){return Fa})),n.d(e,"o",(function(){return X})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return Y})),n.d(e,"r",(function(){return wo})),n.d(e,"s",(function(){return oa})),n.d(e,"t",(function(){return sa})),n.d(e,"u",(function(){return fu})),n.d(e,"v",(function(){return ht})),n.d(e,"w",(function(){return Qu})),n.d(e,"x",(function(){return lt})),n.d(e,"y",(function(){return zu})),n.d(e,"z",(function(){return Ou})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return lu})),n.d(e,"C",(function(){return cu})),n.d(e,"D",(function(){return Hs})),n.d(e,"E",(function(){return zs})),n.d(e,"F",(function(){return Bs})),n.d(e,"G",(function(){return $s})),n.d(e,"H",(function(){return ar})),n.d(e,"I",(function(){return w})),n.d(e,"J",(function(){return Ju})),n.d(e,"K",(function(){return la})),n.d(e,"L",(function(){return Ru})),n.d(e,"M",(function(){return Ws})),n.d(e,"N",(function(){return Ks})),n.d(e,"O",(function(){return da})),n.d(e,"P",(function(){return wt})),n.d(e,"Q",(function(){return Io})),n.d(e,"R",(function(){return Bu})),n.d(e,"S",(function(){return Fn})),n.d(e,"T",(function(){return Ln})),n.d(e,"U",(function(){return ec})),n.d(e,"V",(function(){return Lu})),n.d(e,"W",(function(){return du})),n.d(e,"X",(function(){return so})),n.d(e,"Y",(function(){return Pa})),n.d(e,"Z",(function(){return or})),n.d(e,"ab",(function(){return lr})),n.d(e,"bb",(function(){return zn})),n.d(e,"cb",(function(){return Pn})),n.d(e,"db",(function(){return kn})),n.d(e,"eb",(function(){return Rn})),n.d(e,"fb",(function(){return Mn})),n.d(e,"gb",(function(){return An})),n.d(e,"hb",(function(){return Nn})),n.d(e,"ib",(function(){return Ta})),n.d(e,"jb",(function(){return tc})),n.d(e,"kb",(function(){return Ca})),n.d(e,"lb",(function(){return Oa})),n.d(e,"mb",(function(){return In})),n.d(e,"nb",(function(){return z})),n.d(e,"ob",(function(){return ko})),n.d(e,"pb",(function(){return Ko})),n.d(e,"qb",(function(){return $o})),n.d(e,"rb",(function(){return Po})),n.d(e,"sb",(function(){return Ea})),n.d(e,"tb",(function(){return Ht})),n.d(e,"ub",(function(){return N})),n.d(e,"vb",(function(){return xn})),n.d(e,"wb",(function(){return Rs})),n.d(e,"xb",(function(){return Mr})),n.d(e,"yb",(function(){return No})),n.d(e,"zb",(function(){return gs})),n.d(e,"Ab",(function(){return fs})),n.d(e,"Bb",(function(){return Xa})),n.d(e,"Cb",(function(){return Tt})),n.d(e,"Db",(function(){return At})),n.d(e,"Eb",(function(){return E})),n.d(e,"Fb",(function(){return T})),n.d(e,"Gb",(function(){return Pt})),n.d(e,"Hb",(function(){return Mt})),n.d(e,"Ib",(function(){return jo})),n.d(e,"Jb",(function(){return Bo})),n.d(e,"Kb",(function(){return Go})),n.d(e,"Lb",(function(){return Ho})),n.d(e,"Mb",(function(){return zo})),n.d(e,"Nb",(function(){return Vo})),n.d(e,"Ob",(function(){return As})),n.d(e,"Pb",(function(){return st})),n.d(e,"Qb",(function(){return Lo})),n.d(e,"Rb",(function(){return ru})),n.d(e,"Sb",(function(){return Fo})),n.d(e,"Tb",(function(){return Wo})),n.d(e,"Ub",(function(){return Ja})),n.d(e,"Vb",(function(){return Ne})),n.d(e,"Wb",(function(){return Me})),n.d(e,"Xb",(function(){return Xo})),n.d(e,"Yb",(function(){return ja})),n.d(e,"Zb",(function(){return La})),n.d(e,"ac",(function(){return ts})),n.d(e,"bc",(function(){return Zo})),n.d(e,"cc",(function(){return Uo})),n.d(e,"dc",(function(){return Ra})),n.d(e,"ec",(function(){return Qa})),n.d(e,"fc",(function(){return Do})),n.d(e,"gc",(function(){return hr})),n.d(e,"hc",(function(){return It})),n.d(e,"ic",(function(){return ps})),n.d(e,"jc",(function(){return Ro})),n.d(e,"kc",(function(){return nu})),n.d(e,"lc",(function(){return Ps})),n.d(e,"mc",(function(){return Is})),n.d(e,"nc",(function(){return ks})),n.d(e,"oc",(function(){return Ya}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function m(t){return{toString:t}.toString()}function g(t,e,n){return m(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const y=g("Inject",t=>({token:t})),v=g("Optional"),b=g("Self"),w=g("SkipSelf");var _=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function S(t){for(let e in t)if(t[e]===S)return e;throw Error("Could not find renamed property on target object.")}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return O(t,t[P])||O(t,t[A])}function O(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(M))?t[I]:null}const P=S({"\u0275prov":S}),I=S({"\u0275inj":S}),k=S({"\u0275provFallback":S}),A=S({ngInjectableDef:S}),M=S({ngInjectorDef:S});function N(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(N).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function R(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const D=S({__forward_ref__:S});function j(t){return t.__forward_ref__=j,t.toString=function(){return N(this())},t}function L(t){return"function"==typeof(e=t)&&e.hasOwnProperty(D)&&e.__forward_ref__===j?t():t;var e}const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,z=F||V||U||q,B=S({"\u0275cmp":S}),H=S({"\u0275dir":S}),G=S({"\u0275pipe":S}),$=S({"\u0275mod":S}),K=S({"\u0275loc":S}),W=S({"\u0275fac":S}),Q=S({__NG_ELEMENT_ID__:S});class Y{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const X=new Y("INJECTOR",-1),J={},Z=/\n/gm,tt=S({provide:String,useValue:S});let et,nt=void 0;function rt(t){const e=nt;return nt=t,e}function it(t){const e=et;return et=t,e}function ot(t,e=_.Default){if(void 0===nt)throw new Error("inject() must be called from an injection context");return null===nt?at(t,void 0,e):nt.get(t,e&_.Optional?null:void 0,e)}function st(t,e=_.Default){return(et||ot)(L(t),e)}function at(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${N(t)}]`)}function ut(t){const e=[];for(let n=0;n<t.length;n++){const r=L(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=_.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof v||"Optional"===i.ngMetadataName||i===v?n|=_.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=_.SkipSelf:i instanceof b||"Self"===i.ngMetadataName||i===b?n|=_.Self:t=i instanceof y||i===y?i.token:i}e.push(st(t,n))}else e.push(st(r))}return e}class ct{get(t,e=J){if(e===J){const e=new Error(`NullInjectorError: No provider for ${N(t)}!`);throw e.name="NullInjectorError",e}return e}}class lt{}class ht{}function dt(t,e){t.forEach(t=>Array.isArray(t)?dt(t,e):e(t))}function ft(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function gt(t,e,n){let r=vt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yt(t,e){const n=vt(t,e);if(n>=0)return t[1|n]}function vt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const bt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),wt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),_t={},St=[];let Et=0;function Tt(t){return m(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,id:"c",styles:t.styles||St,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=Et++,i.inputs=kt(t.inputs,r),i.outputs=kt(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Ct):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Ot):null,i})}function Ct(t){return Nt(t)||function(t){return t[H]||null}(t)}function Ot(t){return function(t){return t[G]||null}(t)}const xt={};function Pt(t){const e={type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&m(()=>{xt[t.id]=t.type}),e}function It(t,e){return m(()=>{const n=Dt(t,!0);n.declarations=e.declarations||St,n.imports=e.imports||St,n.exports=e.exports||St})}function kt(t,e){if(null==t)return _t;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const At=Tt;function Mt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nt(t){return t[B]||null}function Rt(t,e){return t.hasOwnProperty(W)?t[W]:null}function Dt(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${N(t)} does not have '\u0275mod' property.`);return n}function jt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Lt(t){return Array.isArray(t)&&!0===t[1]}function Ft(t){return 0!=(8&t.flags)}function Ut(t){return 2==(2&t.flags)}function qt(t){return 1==(1&t.flags)}function Vt(t){return null!==t.template}function zt(t){return 0!=(512&t[2])}let Bt=void 0;function Ht(t){Bt=t}function Gt(t){return!!t.listen}const $t={createRenderer:(t,e)=>void 0!==Bt?Bt:"undefined"!=typeof document?document:void 0};function Kt(t){for(;Array.isArray(t);)t=t[0];return t}function Wt(t,e){return Kt(e[t+20])}function Qt(t,e){return Kt(e[t.index])}function Yt(t,e){return t.data[e+20]}function Xt(t,e){return t[e+20]}function Jt(t,e){const n=e[t];return jt(n)?n:n[0]}function Zt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function te(t){return 4==(4&t[2])}function ee(t){return 128==(128&t[2])}function ne(t,e){return null===t||null==e?null:t[e]}function re(t){t[18]=0}function ie(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const oe={lFrame:Ce(null),bindingsEnabled:!0,checkNoChangesMode:!1};function se(){return oe.bindingsEnabled}function ae(){return oe.lFrame.lView}function ue(){return oe.lFrame.tView}function ce(){return oe.lFrame.previousOrParentTNode}function le(t,e){oe.lFrame.previousOrParentTNode=t,oe.lFrame.isParent=e}function he(){return oe.lFrame.isParent}function de(){oe.lFrame.isParent=!1}function fe(){return oe.checkNoChangesMode}function pe(t){oe.checkNoChangesMode=t}function me(){const t=oe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ge(){return oe.lFrame.bindingIndex++}function ye(t){const e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ve(t,e){const n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,be(e)}function be(t){oe.lFrame.currentDirectiveIndex=t}function we(){return oe.lFrame.currentQueryIndex}function _e(t){oe.lFrame.currentQueryIndex=t}function Se(t,e){const n=Te();oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ee(t,e){const n=Te(),r=t[1];oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Te(){const t=oe.lFrame,e=null===t?null:t.child;return null===e?Ce(t):e}function Ce(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Oe(){const t=oe.lFrame;return oe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const xe=Oe;function Pe(){const t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ie(){return oe.lFrame.selectedIndex}function ke(t){oe.lFrame.selectedIndex=t}function Ae(){const t=oe.lFrame;return Yt(t.tView,t.selectedIndex)}function Me(){oe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Ne(){oe.lFrame.currentNamespace=null}function Re(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function De(t,e,n){Fe(t,e,3,n)}function je(t,e,n,r){(3&t[2])===n&&Fe(t,e,n,r)}function Le(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Fe(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ue(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Ue(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class qe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ve(t,e,n){const r=Gt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Be(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function ze(t){return 3===t||4===t||6===t}function Be(t){return 64===t.charCodeAt(0)}function He(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ge(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ge(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function $e(t){return-1!==t}function Ke(t){return 32767&t}function We(t){return t>>16}function Qe(t,e){let n=We(t),r=e;for(;n>0;)r=r[15],n--;return r}function Ye(t){return"string"==typeof t?t:null==t?"":""+t}function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}const Je=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Ze(t){return t instanceof Function?t():t}let tn=!0;function en(t){const e=tn;return tn=t,e}let nn=0;function rn(t,e){const n=sn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,on(r.data,t),on(e,null),on(r.blueprint,null));const i=an(t,e),o=t.injectorIndex;if($e(i)){const t=Ke(i),n=Qe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function on(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function an(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function un(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Q]:n.charCodeAt(0)||0;null==r&&(r=n[Q]=nn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function cn(t,e,n,r=_.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Q];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Se(e,t);try{const t=i();if(null!=t||r&_.Optional)return t;throw new Error(`No provider for ${Xe(n)}!`)}finally{xe()}}else if("number"==typeof i){if(-1===i)return new gn(t,e);let o=null,s=sn(t,e),a=-1,u=r&_.Host?e[16][6]:null;for((-1===s||r&_.SkipSelf)&&(a=-1===s?an(t,e):e[s+8],mn(r,!1)?(o=e[1],s=Ke(a),e=Qe(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(pn(i,s,t.data)){const t=hn(s,e,n,o,r,u);if(t!==ln)return t}mn(r,e[1].data[s+8]===u)&&pn(i,s,e)?(o=t,s=Ke(a),e=Qe(a,e)):s=-1}}}if(r&_.Optional&&void 0===i&&(i=null),0==(r&(_.Self|_.Host))){const t=e[9],o=it(void 0);try{return t?t.get(n,i,r&_.Optional):at(n,i,r&_.Optional)}finally{it(o)}}if(r&_.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Xe(n)}]`)}const ln={};function hn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=dn(a,s,n,null==r?Ut(a)&&tn:r!=s&&3===a.type,i&_.Host&&o===a);return null!==u?fn(e,s,u,a):ln}function dn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,u=t.directiveStart,c=o>>16,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Vt(t)&&t.type===n)return u}return null}function fn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof qe){const s=i;if(s.resolving)throw new Error("Circular dep for "+Xe(o[n]));const a=en(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=it(s.injectImpl)),Se(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&it(u),en(a),s.resolving=!1,xe()}}return i}function pn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function mn(t,e){return!(t&_.Self||t&_.Host&&e)}class gn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return cn(this._tNode,this._lView,t,void 0,e)}}function yn(t){return t.ngDebugContext}function vn(t){return t.ngOriginalError}function bn(t,...e){t.error(...e)}class wn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||bn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?yn(t)?yn(t):this._findContext(vn(t)):null}_findOriginalError(t){let e=vn(t);for(;e&&vn(e);)e=vn(e);return e}}class _n{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Sn extends _n{getTypeName(){return"HTML"}}class En extends _n{getTypeName(){return"Style"}}class Tn extends _n{getTypeName(){return"Script"}}class Cn extends _n{getTypeName(){return"URL"}}class On extends _n{getTypeName(){return"ResourceURL"}}function xn(t){return t instanceof _n?t.changingThisBreaksApplicationSecurity:t}function Pn(t,e){const n=In(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function In(t){return t instanceof _n&&t.getTypeName()||null}function kn(t){return new Sn(t)}function An(t){return new En(t)}function Mn(t){return new Tn(t)}function Nn(t){return new Cn(t)}function Rn(t){return new On(t)}let Dn=!0,jn=!1;function Ln(){return jn=!0,Dn}function Fn(){if(jn)throw new Error("Cannot enable prod mode after platform setup.");Dn=!1}class Un{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Vn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(t){return(t=String(t)).match(qn)||t.match(Vn)?t:(Ln()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Bn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Hn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Gn=Bn("area,br,col,hr,img,wbr"),$n=Bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kn=Bn("rp,rt"),Wn=Hn(Kn,$n),Qn=Hn(Gn,Hn($n,Bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hn(Kn,Bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wn),Yn=Bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xn=Bn("srcset"),Jn=Hn(Yn,Xn,Bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zn=Bn("script,style,template");class tr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Qn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Zn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Jn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Yn[o]&&(s=zn(s)),Xn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',rr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Qn.hasOwnProperty(e)&&!Gn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(rr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const er=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nr=/([^\#-~ |!])/g;function rr(t){return t.replace(/&/g,"&amp;").replace(er,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(nr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ir;function or(t,e){let n=null;try{ir=ir||new Un(t);let r=e?String(e):"";n=ir.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ir.getInertBodyElement(r)}while(r!==o);const s=new tr,a=s.sanitizeChildren(sr(n)||n);return Ln()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=sr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const ar=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ur=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),cr=/^url\(([^)]+)\)$/;function lr(t){if(!(t=String(t).trim()))return"";const e=t.match(cr);return e&&zn(e[1])===e[1]||t.match(ur)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Ln()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function hr(t){const e=dr();return e?e.sanitize(ar.URL,t)||"":Pn(t,"URL")?xn(t):zn(Ye(t))}function dr(){const t=ae();return t&&t[12]}function fr(t,e){t.__ngContext__=e}function pr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function mr(){throw new Error("Cannot mix multi providers and regular providers")}function gr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function yr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==gr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vr(t){return 0===t.type&&"ng-template"!==t.tagName}function br(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function wr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(ze(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!br(t,u,n)||""===u&&1===e.length){if(_r(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!yr(t.attrs,c,n)){if(_r(r))return!1;s=!0}continue}const l=Sr(8&r?"class":u,i,vr(t),n);if(-1===l){if(_r(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==gr(e,c,0)||2&r&&c!==t){if(_r(r))return!1;s=!0}}}}else{if(!s&&!_r(r)&&!_r(u))return!1;if(s&&_r(u))continue;s=!1,r=u|1&r}}return _r(r)||s}function _r(t){return 0==(1&t)}function Sr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Er(t,e,n=!1){for(let r=0;r<e.length;r++)if(wr(t,e[r],n))return!0;return!1}function Tr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Cr(t,e){return t?":not("+e.trim()+")":e}function Or(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||_r(s)||(e+=Cr(o,i),i=""),r=s,o=o||!_r(r);n++}return""!==i&&(e+=Cr(o,i)),e}const xr={};function Pr(t){const e=t[3];return Lt(e)?e[3]:e}function Ir(t){return Ar(t[13])}function kr(t){return Ar(t[4])}function Ar(t){for(;null!==t&&!Lt(t);)t=t[4];return t}function Mr(t){Nr(ue(),ae(),Ie()+t,fe())}function Nr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&De(e,r,n)}else{const r=t.preOrderHooks;null!==r&&je(e,r,0,n)}ke(n)}function Rr(t,e){return t<<17|e<<2}function Dr(t){return t>>17&32767}function jr(t){return 2|t}function Lr(t){return(131068&t)>>2}function Fr(t,e){return-131069&t|e<<2}function Ur(t){return 1|t}function qr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];_e(i),n.contentQueries(2,e[o],o)}}}function Vr(t,e,n){return Gt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function zr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,re(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Br(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o){const s=ce(),a=he(),u=a?s:s&&s.parent,c=t.data[n]=Zr(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return le(a,!0),a}function Hr(t,e,n){Ee(e,e[6]);try{const r=t.viewQuery;null!==r&&_i(1,r,n);const i=t.template;null!==i&&Kr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qr(t,e),t.staticViewQueries&&_i(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)gi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Pe()}}function Gr(t,e,n,r){const i=e[2];if(256==(256&i))return;Ee(e,e[6]);const o=fe();try{re(e),oe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Kr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&De(e,n,null)}else{const n=t.preOrderHooks;null!==n&&je(e,n,0,null),Le(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=kr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ie(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=kr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];ee(n)&&Gr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&qr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&De(e,n)}else{const n=t.contentHooks;null!==n&&je(e,n,1),Le(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,ke(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(ve(r,i),s(2,e[i])),i++)}}}finally{ke(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)mi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&_i(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&De(e,n)}else{const n=t.viewHooks;null!==n&&je(e,n,2),Le(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ie(e[3],-1))}finally{Pe()}}function $r(t,e,n,r){const i=e[10],o=!fe(),s=te(e);try{o&&!s&&i.begin&&i.begin(),s&&Hr(t,e,r),Gr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Kr(t,e,n,r,i){const o=Ie();try{ke(-1),2&r&&e.length>20&&Nr(t,e,0,fe()),n(r,i)}finally{ke(o)}}function Wr(t,e,n){if(Ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Qr(t,e,n){se()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||rn(n,e),fr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Vt(r);o&&hi(e,n,r);const u=fn(e,t,a,n);fr(u,e),null!==s&&di(0,a-i,u,r,0,s),o&&(Jt(n.index,e)[8]=u)}}(t,e,n,Qt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=oe.lFrame.currentDirectiveIndex;try{ke(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];be(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?oi(r,i):s&&o.push(null)}}finally{ke(-1),be(u)}}(t,e,n))}function Yr(t,e,n=Qt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Xr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Jr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Jr(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:xr);return n}(l,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Zr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ti(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ei(t,e,n,r,i,o,s,a){const u=Qt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Oi(t,n,c,r,i),Ut(e)&&function(t,e){const n=Jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,Gt(o)?o.setProperty(u,r,i):Be(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ni(t,e,n,r){let i=!1;if(se()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Er(n,s.selectors,!1)&&(i||(i=[]),un(rn(n,e),t,s.type),Vt(s)?(2&n.flags&&pr(n),ai(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,ci(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}si(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=He(n.mergedAttrs,c.hostAttrs),li(t,e,c),ui(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),ri(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||vr(e)?null:fi(n,i);o.push(c),s=ti(n,u,s),a=ti(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ii(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=He(n.mergedAttrs,n.attrs),i}function ri(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ii(t,e,n){for(let r=0;r<n;r++)e.push(xr),t.blueprint.push(xr),t.data.push(null)}function oi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function si(t,e,n){const r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ai(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ui(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Vt(e)&&(n[""]=t)}}function ci(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function li(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Rt(n.type)),i=new qe(r,Vt(n),null);t.blueprint.push(i),e.push(i)}function hi(t,e,n){const r=Qt(e,t),i=Xr(n),o=t[10],s=yi(t,zr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function di(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function fi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function pi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function mi(t,e){const n=Jt(e,t);if(ee(n)){const t=n[1];80&n[2]?Gr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Ir(e);null!==r;r=kr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Gr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Jt(n[r],e);ee(i)&&i[5]>0&&t(i)}}(n)}}function gi(t,e){const n=Jt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Hr(r,n,n[8])}function yi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vi(t){for(;t;){t[2]|=64;const e=Pr(t);if(zt(t)&&!e)return t;t=e}return null}function bi(t,e,n){const r=e[10];r.begin&&r.begin();try{Gr(t,e,t.template,n)}catch(i){throw Ci(e,i),i}finally{r.end&&r.end()}}function wi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Zt(n),i=r[1];$r(i,r,i.template,n)}}(t[8])}function _i(t,e,n){_e(0),e(t,n)}const Si=(()=>Promise.resolve(null))();function Ei(t){return t[7]||(t[7]=[])}function Ti(t){return t.cleanup||(t.cleanup=[])}function Ci(t,e){const n=t[9],r=n?n.get(wn,null):null;r&&r.handleError(e)}function Oi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function xi(t,e){const n=e[3];return-1===t.index?Lt(n)?n:null:n}function Pi(t,e){const n=xi(t,e);return n?qi(e[11],n[7]):null}function Ii(t,e,n,r,i){if(null!=r){let o,s=!1;Lt(r)?o=r:jt(r)&&(s=!0,r=r[0]);const a=Kt(r);0===t&&null!==n?null==i?Fi(e,n,a):Li(e,n,a,i||null):1===t&&null!==n?Li(e,n,a,i||null):2===t?function(t,e,n){const r=qi(t,e);r&&function(t,e,n,r){Gt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Kt(n)&&Ii(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Gi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function ki(t,e,n,r){const i=Pi(t.node,e);i&&Gi(t,e,e[11],n?1:2,i,r)}function Ai(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&ie(e[3],-1),n.splice(r,1)}function Mi(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Ai(i,r),e>0&&(t[n-1][4]=r[4]);const o=pt(t,10+e);ki(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ni(t,e){if(!(256&e[2])){const n=e[11];Gt(n)&&n.destroyNode&&Gi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Di(t[1],t);for(;e;){let n=null;if(jt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)jt(e)&&Di(e[1],e),e=Ri(e,t);null===e&&(e=t),jt(e)&&Di(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ri(t,e){let n;return jt(t)&&(n=t[6])&&2===n.type?xi(n,t):t[3]===e?null:t[3]}function Di(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof qe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Kt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Gt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Lt(e[3])){r!==e[3]&&Ai(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function ji(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Pi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Qt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==wt.ShadowDom&&n!==wt.Native)return null}return Qt(r,n)}function Li(t,e,n,r){Gt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Fi(t,e,n){Gt(t)?t.appendChild(e,n):e.appendChild(n)}function Ui(t,e,n,r){null!==r?Li(t,e,n,r):Fi(t,e,n)}function qi(t,e){return Gt(t)?t.parentNode(e):e.parentNode}function Vi(t,e){if(2===t.type){const n=xi(t,e);return null===n?null:Bi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Qt(t,e):null}function zi(t,e,n,r){const i=ji(t,r,e);if(null!=i){const t=e[11],o=Vi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Ui(t,i,n[e],o);else Ui(t,i,n,o)}}function Bi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Qt(n,e);if(0===r)return Bi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Lt(t)?Bi(-1,t):Kt(t)}}{const r=e[16],i=r[6],o=Pr(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Hi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&fr(Kt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Hi(t,e,n.child,r,i,o,!1),Ii(e,t,i,a,o)):1===u?$i(t,e,r,n,i,o):Ii(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Gi(t,e,n,r,i,o){Hi(n,r,t.node.child,e,i,o,!1)}function $i(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ii(e,t,i,a[u],o);else Hi(t,e,a,s[3],i,o,!0)}function Ki(t,e,n){Gt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wi(t,e,n){Gt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Qi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Kt(s)),Lt(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Pr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ni(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Ei(n=this._lView).push(r),e.firstCreatePass&&Ti(e).push(n[7].length-1,null)}markForCheck(){vi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){pe(!0);try{bi(t,e,n)}finally{pe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Gi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Yi extends Qi{constructor(t){super(t),this._view=t}detectChanges(){wi(this._view)}checkNoChanges(){!function(t){pe(!0);try{wi(t)}finally{pe(!1)}}(this._view)}get context(){return null}}let Xi,Ji,Zi;function to(t,e,n){return Xi||(Xi=class extends t{}),new Xi(Qt(e,n))}function eo(t,e,n,r){return Ji||(Ji=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=zr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Hr(e,n,t),new Qi(n)}}),0===n.type?new Ji(r,n,to(e,n,r)):null}function no(t,e,n,r){let i;Zi||(Zi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return to(e,this._hostTNode,this._hostView)}get injector(){return new gn(this._hostTNode,this._hostView)}get parentInjector(){const t=an(this._hostTNode,this._hostView),e=Qe(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=We(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return $e(t)&&null!=n?new gn(n,e):new gn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(lt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Lt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Zi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],ft(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),ki(r,n,!0,Bi(i,this._lContainer)),t.attachToViewContainerRef(this),ft(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=Mi(t,e);n&&Ni(n[1],n)}(this._lContainer,e),pt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Mi(this._lContainer,e);return n&&null!=pt(this._lContainer[8],e)?new Qi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Lt(o))i=o;else{let t;if(4===n.type)t=Kt(o);else if(t=r[11].createComment(""),zt(r)){const e=r[11],i=Qt(n,r);Li(e,qi(e,i),t,function(t,e){return Gt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else zi(r[1],r,t,n);r[n.index]=i=pi(o,r,t,n),yi(r,i)}return new Zi(i,n,r)}function ro(t=!1){return function(t,e,n){if(!n&&Ut(t)){const n=Jt(t.index,e);return new Qi(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Qi(e[16],e):null}(ce(),ae(),t)}let io=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>oo(),t})();const oo=ro,so=new Y("Set Injector scope."),ao={},uo={},co=[];let lo=void 0;function ho(){return void 0===lo&&(lo=new ct),lo}function fo(t,e=null,n=null,r){return new po(t,n,e||ho(),r)}class po{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&dt(e,n=>this.processProvider(n,t,e)),dt([t],t=>this.processInjectorType(t,[],i)),this.records.set(X,go(void 0,this));const o=this.records.get(so);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:N(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=J,n=_.Default){this.assertNotDestroyed();const r=rt(this);try{if(!(n&_.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Y)&&C(t);e=n&&this.injectableDefInScope(n)?go(mo(t),ao):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&_.Self?ho():this.parent).get(t,e=n&_.Optional&&e===J?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(N(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=N(e);if(Array.isArray(e))i=e.map(N).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):N(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Z,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{rt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(N(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=L(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{dt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];dt(r,t=>this.processProvider(t,n,r||co))}}this.injectorDefTypes.add(o),this.records.set(o,go(r.factory,ao));const a=r.providers;if(null!=a&&!s){const e=t;dt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=vo(t=L(t))?t:L(t&&t.provide);const i=function(t,e,n){return yo(t)?go(void 0,t.useValue):go(function(t,e,n){let r=void 0;if(vo(t)){const e=L(t);return Rt(e)||mo(e)}if(yo(t))r=()=>L(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ut(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>st(L(t.useExisting));else{const i=L(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${N(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Rt(i)||mo(i);r=()=>new i(...ut(t.deps))}var i;return r}(t,e,n),ao)}(t,e,n);if(vo(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&mr()}else{let e=this.records.get(r);e?void 0===e.multi&&mr():(e=go(void 0,ao,!0),e.factory=()=>ut(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===uo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(N(t)):e.value===ao&&(e.value=uo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function mo(t){const e=C(t),n=null!==e?e.factory:Rt(t);if(null!==n)return n;const r=x(t);if(null!==r)return r.factory;if(t instanceof Y)throw new Error(`Token ${N(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=mt(e,"?");throw new Error(`Can't resolve all parameters for ${N(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[P]||t[A]||t[k]&&t[k]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yo(t){return null!==t&&"object"==typeof t&&tt in t}function vo(t){return"function"==typeof t}const bo=function(t,e,n){return function(t,e=null,n=null,r){const i=fo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let wo=(()=>{class t{static create(t,e){return Array.isArray(t)?bo(t,e,""):bo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=J,t.NULL=new ct,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>st(X)}),t.__NG_ELEMENT_ID__=-1,t})();const _o=new Y("AnalyzeForEntryComponents");let So=new Map;const Eo=new Set;function To(t){return"string"==typeof t?t:t.text()}function Co(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=R(i,t):2==o&&(r=R(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Oo=null;function xo(){if(!Oo){const t=z.Symbol;if(t&&t.iterator)Oo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Oo=n)}}}return Oo}function Po(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Io{constructor(t){this.wrapped=t}static wrap(t){return new Io(t)}static unwrap(t){return Io.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Io}}function ko(t){return!!Ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function Ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Mo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function No(t,e,n,r){const i=ae();return Mo(i,ge(),e)&&(ue(),function(t,e,n,r,i,o){const s=Qt(t,e),a=e[11];if(null==r)Gt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Ye(r):i(r,t.tagName||"",n);Gt(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Ae(),i,t,e,n,r)),No}function Ro(t,e,n,r,i,o,s,a){const u=ae(),c=ue(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Br(e,n[6],t,0,s||null,ne(c,a));ni(e,n,l,ne(c,u)),Re(e,l);const h=l.tViews=Jr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=Zr(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];le(h,!1);const d=u[11].createComment("");zi(c,u,d,h),fr(d,u),yi(u,u[l]=pi(d,u,d,h)),qt(h)&&Qr(c,u,h),null!=s&&Yr(u,h,a)}function Do(t){return Xt(oe.lFrame.contextLView,t)}function jo(t,e=_.Default){const n=ae();return null==n?st(t,e):cn(ce(),n,L(t),e)}function Lo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ze(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ce(),t)}function Fo(){throw new Error("invalid")}function Uo(t,e,n){const r=ae();return Mo(r,ge(),e)&&ei(ue(),Ae(),r,t,e,r[11],n,!1),Uo}function qo(t,e,n,r,i){const o=i?"class":"style";Oi(t,n,e.inputs[o],o,r)}function Vo(t,e,n,r){const i=ae(),o=ue(),s=20+t,a=i[11],u=i[s]=Vr(e,a,oe.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=ne(a,o),c=Br(e,n[6],t,3,i,u);return ni(e,n,c,ne(a,s)),null!==c.attrs&&Co(c,c.attrs,!1),null!==c.mergedAttrs&&Co(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];le(c,!0);const l=c.mergedAttrs;null!==l&&Ve(a,u,l);const h=c.classes;null!==h&&Wi(a,u,h);const d=c.styles;null!==d&&Ki(a,u,d),zi(o,i,u,c),0===oe.lFrame.elementDepthCount&&fr(u,i),oe.lFrame.elementDepthCount++,qt(c)&&(Qr(o,i,c),Wr(o,c,i)),null!==r&&Yr(i,c)}function zo(){let t=ce();he()?de():(t=t.parent,le(t,!1));const e=t;oe.lFrame.elementDepthCount--;const n=ue();n.firstCreatePass&&(Re(n,t),Ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qo(n,e,ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qo(n,e,ae(),e.stylesWithoutHost,!1)}function Bo(t,e,n,r){Vo(t,e,n,r),zo()}function Ho(t,e,n){const r=ae(),i=ue(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=ne(o,r),a=Br(e,n[6],t,4,"ng-container",s);return null!==s&&Co(a,s,!0),ni(e,n,a,ne(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];le(s,!0);const a=r[o]=r[11].createComment("");zi(i,r,a,s),fr(a,r),qt(s)&&(Qr(i,r,s),Wr(i,s,r)),null!=n&&Yr(r,s)}function Go(){let t=ce();const e=ue();he()?de():(t=t.parent,le(t,!1)),e.firstCreatePass&&(Re(e,t),Ft(t)&&e.queries.elementEnd(t))}function $o(t){return!!t&&"function"==typeof t.then}function Ko(t){return!!t&&"function"==typeof t.subscribe}function Wo(t,e,n=!1,r){const i=ae(),o=ue(),s=ce();return function(t,e,n,r,i,o,s=!1,a){const u=qt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ei(e);let h=!0;if(3===r.type){const d=Qt(r,e),f=a?a(d):_t,p=f.target||d,m=l.length,g=a?t=>a(Kt(t[r.index])).target:r.index;if(Gt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Yo(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,g,m,m+1)}}else o=Yo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,m,s)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Wo}function Qo(t,e,n){try{return!1!==e(n)}catch(r){return Ci(t,r),!1}}function Yo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Jt(t.index,e):e;0==(32&e[2])&&vi(s);let a=Qo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Qo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Xo(t=1){return function(t){return(oe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,oe.lFrame.contextLView))[8]}(t)}function Jo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Er(t,o,!0):Tr(r,o))return i}else n=i}return n}function Zo(t){const e=ae()[16][6];if(!e.projection){const n=e.projection=mt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Jo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ts(t,e=0,n){const r=ae(),i=ue(),o=Br(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),de(),function(t,e,n){$i(e[11],0,e,n,ji(t,n,e),Vi(n.parent||e[6],e))}(i,r,o)}const es=[];function ns(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Dr(o):Lr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];rs(t[a],e)&&(u=!0,t[a+1]=r?Ur(n):jr(n)),a=r?Dr(n):Lr(n)}u&&(t[n+1]=r?jr(o):Ur(o))}function rs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&vt(t,e)>=0}const is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function os(t){return t.substring(is.key,is.keyEnd)}function ss(t){return t.substring(is.value,is.valueEnd)}function as(t,e){const n=is.textEnd;return n===e?-1:(e=is.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,is.key=e,n),ls(t,e,n))}function us(t,e){const n=is.textEnd;let r=is.key=ls(t,e,n);return n===r?-1:(r=is.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90);)e++;return e}(t,r,n),r=hs(t,r,n),r=is.value=ls(t,r,n),r=is.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=ds(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=ds(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),hs(t,r,n))}function cs(t){is.key=0,is.keyEnd=0,is.value=0,is.valueEnd=0,is.textEnd=t.length}function ls(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function hs(t,e,n,r){return(e=ls(t,e,n))<n&&e++,e}function ds(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function fs(t,e){return function(t,e,n,r){const i=ae(),o=ue(),s=ye(2);if(o.firstUpdatePass&&ws(o,t,s,!0),e!==xr&&Mo(i,s,e)){let r;null==n&&(r=function(){const t=oe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=r),Ts(o,o.data[Ie()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=N(xn(t)))),t}(e,n),!0,s)}}(t,e,null),fs}function ps(t){vs(Es,ms,t,!1)}function ms(t,e){for(let n=function(t){return cs(t),us(t,ls(t,0,is.textEnd))}(e);n>=0;n=us(e,n))Es(t,os(e),ss(e))}function gs(t){vs(gt,ys,t,!0)}function ys(t,e){for(let n=function(t){return cs(t),as(t,ls(t,0,is.textEnd))}(e);n>=0;n=as(e,n))gt(t,os(e),!0)}function vs(t,e,n,r){const i=ue(),o=ye(2);i.firstUpdatePass&&ws(i,null,o,r);const s=ae();if(n!==xr&&Mo(s,o,n)){const a=i.data[Ie()+20];if(xs(a,r)&&!bs(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=R(t,n||"")),qo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===xr&&(i=es);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let p=null,m=void 0;l===h?(u+=2,c+=2,d!==f&&(p=h,m=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,m=f),null!==p&&Ts(t,e,n,r,p,m,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return es;const r=[],i=xn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function bs(t,e){return e>=t.expandoStartIndex}function ws(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ie()+20],s=bs(t,n);xs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ss(n=_s(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=_s(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Lr(r))return t[Dr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=_s(null,t,e,n[1],r),n=Ss(n,e.attrs,r),function(t,e,n,r){t[Dr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ss(r,t[o].hostAttrs,n);return Ss(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Dr(s),u=Lr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||vt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Dr(t[a+1]);t[r+1]=Rr(e,a),0!==e&&(t[e+1]=Fr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Rr(a,0),0!==a&&(t[a+1]=Fr(t[a+1],r)),a=r;else t[r+1]=Rr(u,0),0===a?a=r:t[u+1]=Fr(t[u+1],r),u=r;l&&(t[r+1]=jr(t[r+1])),ns(t,c,r,!0),ns(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&vt(o,e)>=0&&(n[r+1]=Ur(n[r+1]))}(e,c,t,r,o),s=Rr(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function _s(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ss(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ss(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gt(t,s,!!n||e[++o]))}return void 0===t?null:t}function Es(t,e,n){var r;("background-image"===(r=e)||"backgroundImage"===r||"background"===r||"border-image"===r||"borderImage"===r||"border-image-source"===r||"borderImageSource"===r||"filter"===r||"list-style"===r||"listStyle"===r||"list-style-image"===r||"listStyleImage"===r||"clip-path"===r||"clipPath"===r)&&(n=function(t){const e=dr();return e?e.sanitize(ar.STYLE,t)||"":Pn(t,"Style")?xn(t):lr(Ye(t))}(n)),gt(t,e,n)}function Ts(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];Os(1==(1&c)?Cs(u,e,n,i,Lr(c),s):void 0)||(Os(o)||function(t){return 2==(2&t)}(c)&&(o=Cs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Gt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Wt(Ie(),n),i,o))}function Cs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===xr&&(l=c?es:void 0);let h=c?yt(l,r):u===r?l:void 0;if(o&&!Os(h)&&(h=yt(e,r)),Os(h)&&(a=h,s))return a;const d=t[i+1];i=s?Dr(d):Lr(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=yt(t,r))}return a}function Os(t){return void 0!==t}function xs(t,e){return 0!=(t.flags&(e?16:32))}function Ps(t,e=""){const n=ae(),r=ue(),i=t+20,o=r.firstCreatePass?Br(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Gt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);zi(r,n,s,o),le(o,!1)}function Is(t){return ks("",t,""),Is}function ks(t,e,n){const r=ae(),i=function(t,e,n,r){return Mo(t,ge(),n)?e+Ye(n)+r:xr}(r,t,e,n);return i!==xr&&function(t,e,n){const r=Wt(e,t),i=t[11];Gt(i)?i.setValue(r,n):r.textContent=n}(r,Ie(),i),ks}function As(t,e,n){const r=ae();return Mo(r,ge(),e)&&ei(ue(),Ae(),r,t,e,r[11],n,!0),As}function Ms(t,e){const n=Zt(t)[1],r=n.data.length-1;Re(n,{directiveStart:r,directiveEnd:r+1})}class Ns{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Rs(t){t.type.prototype.ngOnChanges&&(t.setInput=Ds,t.onChanges=function(){const t=js(this),e=t&&t.current;if(e){const n=t.previous;if(n===_t)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Ds(t,e,n,r){const i=js(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:_t,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ns(u&&u.currentValue,e,s===_t),t[r]=e}function js(t){return t.__ngSimpleChanges__||null}Rs.ngInherit=!0;class Ls{}class Fs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${N(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Us=(()=>{class t{}return t.NULL=new Fs,t})(),qs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Vs(t),t})();const Vs=function(t){return to(t,ce(),ae())};class zs{}const Bs=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Hs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Gs(),t})();const Gs=function(){const t=ae(),e=Jt(ce().index,t);return function(t){const e=t[11];if(Gt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(jt(e)?e:t)};let $s=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Ks{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ws=new Ks("9.1.13");class Qs{constructor(){}supports(t){return ko(t)}create(t){return new Xs(t)}}const Ys=(t,e)=>e;class Xs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ys}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ea(n,r,i)?e:n,s=ea(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ko(t))throw new Error(`Error trying to diff '${N(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Po(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Po(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Po(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Po(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Po(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Po(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Js(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ta),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Js{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Po(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ta{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Zs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ea(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class na{constructor(){}supports(t){return t instanceof Map||Ao(t)}create(){return new ra}}class ra{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ao(t)))throw new Error(`Error trying to diff '${N(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ia(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Po(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ia{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let oa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Qs])}),t})(),sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new na])}),t})();const aa=[new na],ua=new oa([new Qs]),ca=new sa(aa);let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ha(t,qs),t})();const ha=function(t,e){return eo(t,e,ce(),ae())};let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>fa(t,qs),t})();const fa=function(t,e){return no(t,e,ce(),ae())},pa={};class ma extends Us{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Nt(t);return new va(e,this.ngModule)}}function ga(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ya=new Y("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Je});class va extends Ls{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Or).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ga(this.componentDef.inputs)}get outputs(){return ga(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,pa,i);return o!==pa||r===pa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(zs,$t),s=i.get($s,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Gt(t))return t.selectRootElement(e,n===wt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Vr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:Je,clean:Si,playerHandler:null,flags:0},f=Jr(0,-1,null,1,0,null,null,null,null,null),p=zr(null,f,d,l,null,null,o,a,s,i);let m,g;Ee(p,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Br(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Co(a,u,!0),null!==t&&(Ve(i,t,u),null!==a.classes&&Wi(i,t,a.classes),null!==a.styles&&Ki(i,t,a.styles)));const c=r.createRenderer(t,e),l=zr(n,Xr(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(un(rn(a,n),s,e.type),ai(s,a),ci(a,n.length,1)),yi(n,l),n[20]=l}(c,this.componentDef,p,o,a);if(c)if(n)Ve(a,c,["ng-version",Ws.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!_r(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ve(a,c,t),e&&e.length>0&&Wi(a,c,e.join(" "))}if(g=Yt(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}m=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=ce();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),si(t,r,1),li(t,e,n));const i=fn(e,t,e.length-1,r);fr(i,e);const o=Qt(r,e);return o&&fr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=ce();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){ke(a.index-20);const t=n[1];ri(t,e),ii(t,n,e.hostVars),oi(e,s)}return s}(t,this.componentDef,p,d,[Ms]),Hr(f,p,null)}finally{Pe()}const y=new ba(this.componentType,m,to(qs,g,p),p,g);return n&&!h||(f.node.child=g),y}}class ba extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Yi(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Zr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new gn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const wa=void 0;var _a=["en",[["a","p"],["AM","PM"],wa],[["AM","PM"],wa,wa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wa,"{1} 'at' {0}",wa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Sa={};function Ea(t,e,n){"string"!=typeof e&&(n=e,e=t[Pa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Sa[e]=t,n&&(Sa[e][Pa.ExtraData]=n)}function Ta(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=xa(e);if(n)return n;const r=e.split("-")[0];if(n=xa(r),n)return n;if("en"===r)return _a;throw new Error(`Missing locale data for the locale "${t}".`)}function Ca(t){return Ta(t)[Pa.CurrencyCode]||null}function Oa(t){return Ta(t)[Pa.PluralCase]}function xa(t){return t in Sa||(Sa[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Sa[t]}const Pa=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Ia="en-US";function ka(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ia=t.toLowerCase().replace(/_/g,"-"))}const Aa=new Map;class Ma extends lt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ma(this);const n=Dt(t),r=t[K]||null;r&&ka(r),this._bootstrapComponents=Ze(n.bootstrap),this._r3Injector=fo(t,e,[{provide:lt,useValue:this},{provide:Us,useValue:this.componentFactoryResolver}],N(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=wo.THROW_IF_NOT_FOUND,n=_.Default){return t===wo||t===lt||t===X?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Na extends ht{constructor(t){super(),this.moduleType=t,null!==Dt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${N(e)} vs ${N(e.name)}`)})(t,Aa.get(t),e),Aa.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Ma(this.moduleType,t)}}function Ra(t,e,n,r){return Da(ae(),me(),t,e,n,r)}function Da(t,e,n,r,i,o){const s=e+n;return Mo(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===xr?void 0:n}(t,s+1)}function ja(t,e){const n=ue();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Rt(r.type)),s=it(jo),a=en(!1),u=o();return en(a),it(s),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ae(),t,u),u}function La(t,e,n){const r=ae(),i=Xt(r,t);return function(t,e){return Io.isWrapped(e)&&(e=Io.unwrap(e),t[oe.lFrame.bindingIndex]=xr),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?Da(r,me(),e,i.transform,n,i):i.transform(n))}class Fa extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}}function Ua(){return this._results[xo()]()}class qa{constructor(){this.dirty=!0,this._results=[],this.changes=new Fa,this.length=0;const t=xo(),e=qa.prototype;e[t]||(e[t]=Ua)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Va{constructor(t){this.queryList=t,this.matches=null}clone(){return new Va(this.queryList)}setDirty(){this.queryList.setDirty()}}class za{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new za(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==eu(t,e).matches&&this.queries[e].setDirty()}}class Ba{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ha{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ha(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ga{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ga(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,$a(e,n[r]))}else{const n=this.metadata.predicate;n===la?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,dn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===qs||r===da||r===la&&0===e.type)this.addMatch(e.index,-2);else{const n=dn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function $a(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ka(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?to(qs,t,e):0===t.type?eo(la,qs,t,e):null}(e,t):-2===n?function(t,e,n){return n===qs?to(qs,e,t):n===la?eo(la,qs,e,t):n===da?no(da,qs,e,t):void 0}(t,e,r):fn(t,t[1],n,e)}function Wa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ka(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Qa(t){const e=ae(),n=ue(),r=we();_e(r+1);const i=eu(n,r);if(t.dirty&&te(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Wa(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Wa(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ya(t,e,n){!function(t,e,n,r,i,o){t.firstCreatePass&&tu(t,new Ba(n,r,!1,i),-1),Za(t,e)}(ue(),ae(),t,e,n)}function Xa(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(tu(t,new Ba(n,r,!1,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),Za(t,e)}(ue(),ae(),e,n,r,0,ce(),t)}function Ja(){return t=ae(),e=we(),t[19].queries[e].queryList;var t,e}function Za(t,e){const n=new qa;!function(t,e,n,r){const i=Ei(e);i.push(n),t.firstCreatePass&&Ti(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new za),e[19].queries.push(new Va(n))}function tu(t,e,n){null===t.queries&&(t.queries=new Ha),t.queries.track(new Ga(e,n))}function eu(t,e){return t.queries.getByIndex(e)}function nu(t,e){return eo(la,qs,t,e)}function ru(t=_.Default){const e=ro(!0);if(null!=e||t&_.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const iu=new Y("Application Initializer");let ou=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();$o(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(st(iu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const su=new Y("AppId"),au={provide:su,useFactory:function(){return`${uu()}${uu()}${uu()}`},deps:[]};function uu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cu=new Y("Platform Initializer"),lu=new Y("Platform ID"),hu=new Y("appBootstrapListener");let du=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const fu=new Y("LocaleId"),pu=new Y("DefaultCurrencyCode");class mu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const gu=function(t){return new Na(t)},yu=gu,vu=function(t){return Promise.resolve(gu(t))},bu=function(t){const e=gu(t),n=Ze(Dt(t).declarations).reduce((t,e)=>{const n=Nt(e);return n&&t.push(new va(n)),t},[]);return new mu(e,n)},wu=bu,_u=function(t){return Promise.resolve(bu(t))};let Su=(()=>{class t{constructor(){this.compileModuleSync=yu,this.compileModuleAsync=vu,this.compileModuleAndAllComponentsSync=wu,this.compileModuleAndAllComponentsAsync=_u}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Eu=new Y("compilerOptions"),Tu=(()=>Promise.resolve(0))();function Cu(t){"undefined"==typeof Zone?Tu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ou{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fa(!1),this.onMicrotaskEmpty=new Fa(!1),this.onStable=new Fa(!1),this.onError=new Fa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.lastRequestAnimationFrameId=-1,ku(t),Iu(t)}),ku(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Au(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Mu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Au(t),e.invoke(r,i,o,s,a)}finally{Mu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ku(t),Iu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ou.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ou.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Pu,xu,xu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function xu(){}const Pu={};function Iu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ku(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Au(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mu(t){t._nesting--,Iu(t)}class Nu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fa,this.onMicrotaskEmpty=new Fa,this.onStable=new Fa,this.onError=new Fa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ru=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ou.assertNotInAngularZone(),Cu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(st(Ou))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Du=(()=>{class t{constructor(){this._applications=new Map,Uu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Uu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class ju{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Lu(t){Uu=t}let Fu,Uu=new ju,qu=function(t,e,n){const r=t.get(Eu,[]).concat(e),i=new Na(n);if(0===So.size)return Promise.resolve(i);const o=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===o.length)return Promise.resolve(i);const s=function(){const t=z.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=wo.create({providers:o}).get(s.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(To))}return e}return So.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){Eo.delete(t)}(n));e.push(u)}),So=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const Vu=new Y("AllowMultipleToken");class zu{constructor(t,e){this.name=t,this.token=e}}function Bu(t,e,n=[]){const r="Platform: "+e,i=new Y(r);return(e=[])=>{let o=Hu();if(!o||o.injector.get(Vu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:so,useValue:"platform"});!function(t){if(Fu&&!Fu.destroyed&&!Fu.injector.get(Vu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Fu=t.get(Gu);const e=t.get(cu,null);e&&e.forEach(t=>t())}(wo.create({providers:t,name:r}))}return function(t){const e=Hu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Hu(){return Fu&&!Fu.destroyed?Fu:null}let Gu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Nu:("zone.js"===t?void 0:t)||new Ou({enableLongStackTrace:Ln(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ou,useValue:n}];return n.run(()=>{const e=wo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(wn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Wu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return $o(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ou);return t.runInitializers(),t.donePromise.then(()=>(ka(i.injector.get(fu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=$u({},e);return qu(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ku);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${N(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(st(wo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function $u(t,e){return Array.isArray(e)?e.reduce($u,t):Object.assign(Object.assign({},t),e)}let Ku=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ln(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ou.assertNotInAngularZone(),Cu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ls?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(lt),i=n.create(wo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Ru,null);return o&&i.injector.get(Du).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Ln()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Wu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Wu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(st(Ou),st(du),st(wo),st(wn),st(Us),st(ou))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Wu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Qu{}class Yu{}const Xu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ju=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Xu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Zu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Zu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(st(Su),st(Yu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Zu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const tc=function(t){return null},ec=Bu(null,"core",[{provide:lu,useValue:"unknown"},{provide:Gu,deps:[wo]},{provide:Du,deps:[]},{provide:du,deps:[]}]),nc=[{provide:Ku,useClass:Ku,deps:[Ou,du,wo,wn,Us,ou]},{provide:ya,deps:[Ou],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ou,useClass:ou,deps:[[new v,iu]]},{provide:Su,useClass:Su,deps:[]},au,{provide:oa,useFactory:function(){return ua},deps:[]},{provide:sa,useFactory:function(){return ca},deps:[]},{provide:fu,useFactory:function(t){return ka(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new y(fu),new v,new w]]},{provide:pu,useValue:"USD"}];let rc=(()=>{class t{constructor(t){}}return t.\u0275mod=Pt({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(st(Ku))},providers:nc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return x})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return i})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return P})),n.d(e,"k",(function(){return a})),n.d(e,"l",(function(){return l})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return p})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return u})),n.d(e,"r",(function(){return c})),n.d(e,"s",(function(){return d})),n.d(e,"t",(function(){return m})),n.d(e,"u",(function(){return y}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}function g(){return"indexedDB"in self&&null!=indexedDB}function y(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function v(){return!(!navigator||!navigator.cookieEnabled)}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,w.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),w=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?_(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new b(i,a,r);return u},t}();function _(t,e){return t.replace(S,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var S=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function O(){}function x(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function P(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(l){e=l instanceof s?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof s?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return y})),n.d(e,"g",(function(){return C})),n.d(e,"h",(function(){return S})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return g})),n.d(e,"k",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig");class w{}const _=new u.N("6.1.4");function S(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&T("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{T("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},T=(t,...e)=>{Object(u.T)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&T("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:w,useFactory:S,deps:[v,u.z,[new u.A,b]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.M.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class m extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function g(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),f=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.h)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.f)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.i)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=o(o({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.i)(e,t)},createSubscribe:s.g,ErrorFactory:s.b,deepExtend:s.i}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.l)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.r)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v,b=p;(v=b).INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new m(t)}),"PRIVATE")),v.registerVersion("@firebase/app","0.6.20",void 0),v.registerVersion("fire-js",""),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyA9E-cTrRAzeIkZFo-0-6pBX-RPorz-t3Y",authDomain:"petai-validation.firebaseapp.com",projectId:"petai-validation",storageBucket:"petai-validation.appspot.com",messagingSenderId:"557454141908",appId:"1:557454141908:web:26048322f6fc97c1ba0e41",measurementId:"G-8PBN88JCYF"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Pb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Pb)(a).location;return new w(Object(r.Pb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(y),r.Pb(u))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new S(Object(r.Pb)(y),Object(r.Pb)(u))}function T(t){return t.replace(/\/index.html$/,"")}const C=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),O=r.lb;class x{}let P=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(O(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class I{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new A(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new A(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.O),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class A{constructor(t,e){this.record=t,this.view=e}}let M=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:P}]}),t})();function N(t){return"browser"===t}function R(t){return"server"===t}let D=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new j(Object(r.Pb)(a),window,Object(r.Pb)(r.m))}),t})();class j{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(CS){this.errorHandler.handleError(CS)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class L extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new L,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=U||(U=document.querySelector("base"),U)?U.getAttribute("href"):null;return null==e?null:(n=e,F||(F=document.createElement("a")),F.setAttribute("href",n),"/"===F.pathname.charAt(0)?F.pathname:"/"+F.pathname);var n}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let F,U=null;const q=new r.q("TRANSITION_ID"),V=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[q,a,r.r],multi:!0}];class z{static init(){Object(r.V)(new z)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const B=new r.q("EventManagerPlugins");let H=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(B),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class G{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let $=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),K=(()=>{class t extends ${constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Q=/%COMP%/g;function Y(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Y(t,i,n):(i=i.replace(Q,t),n.push(i))}return n}function X(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let J=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Z(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new tt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.P.Native:case r.P.ShadowDom:return new et(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Y(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(H),r.Pb(K),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class Z{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(W[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=W[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=W[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,X(n)):this.eventManager.addEventListener(t,e,X(n))}}class tt extends Z{constructor(t,e,n,r){super(t),this.component=n;const i=Y(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Q,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Q,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class et extends Z{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.P.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=Y(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let nt=(()=>{class t extends G{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const rt=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},st={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let at=(()=>{class t extends G{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(rt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ot.hasOwnProperty(e)&&(e=ot[e]))}return it[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),rt.forEach(r=>{r!=n&&(0,st[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ut=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){L.makeCurrent(),z.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.tb)(document),document},deps:[]}],ct=Object(r.R)(r.U,"browser",ut),lt=[[],{provide:r.X,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:B,useClass:nt,multi:!0,deps:[a,r.z,r.B]},{provide:B,useClass:at,multi:!0,deps:[a]},[],{provide:J,useClass:J,deps:[H,K,r.c]},{provide:r.E,useExisting:J},{provide:$,useExisting:K},{provide:K,useClass:K,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:H,useClass:H,deps:[B,r.z]},[]];let ht=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:q,useExisting:r.c},V]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:lt,imports:[M,r.f]}),t})();function dt(){return new ft(Object(r.Pb)(a))}let ft=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:dt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;class pt{}function mt(t,e=null){return{type:4,styles:e,timings:t}}function gt(t,e=null){return{type:3,steps:t,options:e}}function yt(t,e=null){return{type:2,steps:t,options:e}}function vt(t){return{type:6,styles:t,offset:null}}function bt(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function wt(t=null){return{type:9,options:t}}function _t(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function St(t){Promise.resolve(null).then(t)}class Et{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){St(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Tt{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?St(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ct(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ot(t){switch(t.length){case 0:return new Et;case 1:return t[0];default:return new Tt(t)}}function xt(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Pt(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&It(n,"start",t)));break;case"done":t.onDone(()=>r(n&&It(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&It(n,"destroy",t)))}}function It(t,e,n){const r=n.totalTime,i=kt(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function kt(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function At(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Mt(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Nt=(t,e)=>!1,Rt=(t,e)=>!1,Dt=(t,e,n)=>[];const jt=Ct();(jt||"undefined"!=typeof Element)&&(Nt=(t,e)=>t.contains(e),Rt=(()=>{if(jt||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Rt}})(),Dt=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Lt=null,Ft=!1;function Ut(t){Lt||(Lt=("undefined"!=typeof document?document.body:null)||{},Ft=!!Lt.style&&"WebkitAppearance"in Lt.style);let e=!0;return Lt.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Lt.style,!e&&Ft)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Lt.style),e}const qt=Rt,Vt=Nt,zt=Dt;function Bt(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Ht=(()=>{class t{validateStyleProperty(t){return Ut(t)}matchesElement(t,e){return qt(t,e)}containsElement(t,e){return Vt(t,e)}query(t,e,n){return zt(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new Et(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Gt=(()=>{class t{}return t.NOOP=new Ht,t})();function $t(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Kt(parseFloat(e[1]),e[2])}function Kt(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Wt(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Kt(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=Kt(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function Qt(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Yt(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Qt(t,n);return n}function Xt(t,e,n){return n?e+":"+n+";":""}function Jt(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Xt(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Xt(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Zt(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=ae(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Ct()&&Jt(t))}function te(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=ae(e);t.style[n]=""}),Ct()&&Jt(t))}function ee(t){return Array.isArray(t)?1==t.length?t[0]:yt(t):t}const ne=new RegExp("{{\\s*(.+?)\\s*}}","g");function re(t){let e=[];if("string"==typeof t){let n;for(;n=ne.exec(t);)e.push(n[1]);ne.lastIndex=0}return e}function ie(t,e,n){const r=t.toString(),i=r.replace(ne,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function oe(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const se=/-+([a-z0-9])/g;function ae(t){return t.replace(se,(...t)=>t[1].toUpperCase())}function ue(t,e){return 0===t||0===e}function ce(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=he(t,e)}))}}return e}function le(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function he(t,e){return window.getComputedStyle(t)[e]}function de(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(me(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(me(s,i))}(t,n,e)):n.push(t),n}const fe=new Set(["true","1"]),pe=new Set(["false","0"]);function me(t,e){const n=fe.has(t)||pe.has(t),r=fe.has(e)||pe.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?fe.has(t):pe.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?fe.has(e):pe.has(e)),s&&a}}const ge=new RegExp("s*:selfs*,?","g");function ye(t,e,n){return new ve(t).build(e,n)}class ve{constructor(t){this._driver=t}build(t,e){const n=new be(e);return this._resetContextStyleTimingState(n),le(this,ee(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(we(t)){const e=t;Object.keys(e).forEach(t=>{re(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=oe(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=le(this,ee(t.animation),e);return{type:1,matchers:de(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:_e(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>le(this,t,e)),options:_e(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=le(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:_e(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Se(Wt(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Se(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Wt(r,e),Se(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:vt({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=vt(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(we(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=re(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(we(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(we(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:le(this,ee(t.animation),e),options:_e(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:_e(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:_e(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(ge,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,At(e.collectedStyles,e.currentQuerySelector,{});const s=le(this,ee(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:_e(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Wt(t.timings,e.errors,!0);return{type:12,animation:le(this,ee(t.animation),e),timings:n,options:null}}}class be{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function we(t){return!Array.isArray(t)&&"object"==typeof t}function _e(t){var e;return t?(t=Qt(t)).params&&(t.params=(e=t.params)?Qt(e):null):t={},t}function Se(t,e,n){return{duration:t,delay:e,easing:n}}function Ee(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Te{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ce=new RegExp(":enter","g"),Oe=new RegExp(":leave","g");function xe(t,e,n,r,i,o={},s={},a,u,c=[]){return(new Pe).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class Pe{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new Te;const l=new ke(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),le(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Ee(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?$t(n.duration):null,o=null!=n.delay?$t(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),le(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ie);const t=$t(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>le(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?$t(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),le(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Wt(e.params?ie(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?$t(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ie);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),le(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;le(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Ie={};class ke{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ie,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ae(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=$t(n.duration)),null!=n.delay&&(r.delay=$t(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ie(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new ke(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Ie,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Me(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Ce,"."+this._enterClassName)).replace(Oe,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Ae{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ae(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):Yt(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=ie(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=Yt(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?oe(t.values()):[],o=e.size?oe(e.values()):[];if(n){const t=r[0],e=Qt(t);t.offset=0,e.offset=1,r=[t,e]}return Ee(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Me extends Ae{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=Yt(t[0],!1);a.offset=0,i.push(a);const u=Yt(t[0],!1);u.offset=Ne(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=Yt(t[r],!1);s.offset=Ne((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return Ee(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Ne(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Re{}class De extends Re{normalizePropertyName(t,e){return ae(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(je[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const je=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Le(t,e,n,r,i,o,s,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const Fe={};class Ue{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Fe,d=this.buildStyles(n,s&&s.params||Fe,l),f=a&&a.params||Fe,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},w=c?[]:xe(t,e,this.ast.animation,i,o,d,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return Le(e,this._triggerName,n,r,v,d,p,[],[],g,y,_,l);w.forEach(t=>{const n=t.element,r=At(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=At(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=oe(m.values());return Le(e,this._triggerName,n,r,v,d,p,w,S,g,y,_)}}class qe{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Qt(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=ie(o,r,e)),n[t]=o})}}),n}}class Ve{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new qe(t.style,t.options&&t.options.params||{})}),ze(this.states,"true","1"),ze(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Ue(t,e,this.states))}),this.fallbackTransition=new Ue(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ze(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Be=new Te;class He{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=ye(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=xt(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=xe(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Be,r),o.forEach(t=>{const e=At(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Ot(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=kt(e,"","","");return Pt(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Ge=[],$e={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ke={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class We{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Qt(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Qe=new We("void");class Ye{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,rn(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=At(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=At(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(rn(t,"ng-trigger"),rn(t,"ng-trigger-"+e),a[e]=Qe),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new Je(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(rn(t,"ng-trigger"),rn(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new We(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=Qe),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{te(t,n),Zt(t,r)})}return}const c=At(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(rn(t,"ng-animate-queued"),o.onStart(()=>{on(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ot(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||Qe,s=new We("void"),a=new Je(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==$e||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){rn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=kt(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Pt(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Xe{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Ye(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Ze(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Ze(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),rn(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),on(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Ze(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Ze(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ot(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=$e,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)rn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ot(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Te,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=nn(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>rn(t,n))});const m=[],g=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=nn(h,Array.from(g));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>rn(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>on(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>on(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>te(i,p.fromStyles)),e.onDestroy(()=>Zt(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>te(i,p.fromStyles)),e.onDestroy(()=>Zt(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>At(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{At(S,e,[]).push(t),t.destroy()})});const T=m.filter(t=>an(t,a,u)),C=new Map;en(C,this.driver,y,u,"*").forEach(t=>{an(t,a,u)&&T.push(t)});const O=new Map;d.forEach((t,e)=>{en(O,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=C.get(t),n=O.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const x=[],P=[],I={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>Zt(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=I;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,S,i,O,C);if(o.setRealPlayer(n),t===I)x.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Ot(e)),r.push(o)}}else te(e,s.fromStyles),o.onDestroy(()=>Zt(e,s.toStyles)),P.push(o),c.has(e)&&r.push(o)}),P.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Ot(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(on(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?sn(this,t,r):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=At(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}te(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Et(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Tt?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Ge).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=xt(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new Je(t,s,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{At(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>rn(t,"ng-animating"));const d=Ot(h);return d.onDestroy(()=>{c.forEach(t=>on(t,"ng-animating")),Zt(a,e.toStyles)}),l.forEach(t=>{At(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Et(t.duration,t.delay)}}class Je{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Et,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Pt(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){At(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ze(t){return t&&1===t.nodeType}function tn(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function en(t,e,n,r,i){const o=[];n.forEach(t=>o.push(tn(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ke,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>tn(t,o[a++])),s}function nn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function rn(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function on(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function sn(t,e,n){Ot(n).onDone(()=>t.processLeaveNode(e))}function an(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class un{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Xe(t,e,n),this._timelineEngine=new He(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=ye(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new Ve(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Mt(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Mt(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function cn(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=hn(e[0]),e.length>1&&(r=hn(e[e.length-1]))):e&&(n=hn(e)),n||r?new ln(t,n,r):null}let ln=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Zt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zt(this._element,this._initialStyles),this._endStyles&&(Zt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(te(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(te(this._element,this._endStyles),this._endStyles=null),Zt(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function hn(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];dn(i)&&(e=e||{},e[i]=t[i])}return e}function dn(t){return"display"===t||"position"===t}class fn{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=bn(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),vn(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),yn(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){pn(this._element,this._name,"paused")}resume(){pn(this._element,this._name,"running")}setPosition(t){const e=mn(this._element,this._name);this._position=t*this._duration,vn(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),yn(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=bn(t,"").split(","),r=gn(n,e);r>=0&&(n.splice(r,1),vn(t,"",n.join(",")))}(this._element,this._name))}}function pn(t,e,n){vn(t,"PlayState",n,mn(t,e))}function mn(t,e){const n=bn(t,"");return n.indexOf(",")>0?gn(n.split(","),e):gn([n],e)}function gn(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function yn(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function vn(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function bn(t,e){return t.style["animation"+e]}class wn{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new fn(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:he(this.element,n))})}this.currentSnapshot=t}}class _n extends Et{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Bt(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Sn{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Ut(t)}matchesElement(t,e){return qt(t,e)}containsElement(t,e){return Vt(t,e)}query(t,e,n){return zt(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Bt(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof wn),u={};ue(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=ce(t,e,u));if(0==n)return new _n(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=cn(t,e),f=new wn(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class En{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:he(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Tn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Cn().toString()),this._cssKeyframesDriver=new Sn}validateStyleProperty(t){return Ut(t)}matchesElement(t,e){return qt(t,e)}containsElement(t,e){return Vt(t,e)}query(t,e,n){return zt(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(t=>t instanceof En);ue(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=cn(t,e=ce(t,e=e.map(t=>Yt(t,!1)),u));return new En(t,e,a,l)}}function Cn(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let On=(()=>{class t extends pt{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?yt(t):t;return In(this._renderer,null,e,"register",[n]),new xn(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.E),r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class xn extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Pn(this._id,t,e||{},this._renderer)}}class Pn{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return In(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function In(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let kn=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new An("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new Mn(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.E),r.Pb(un),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class An{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Mn extends An{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Nn=(()=>{class t extends un{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(Gt),r.Pb(Re))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Rn=[{provide:Gt,useFactory:function(){return"function"==typeof Cn()?new Tn:new Sn}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:pt,useClass:On},{provide:Re,useFactory:function(){return new De}},{provide:un,useClass:Nn},{provide:r.E,useFactory:function(t,e,n){return new kn(t,e,n)},deps:[J,un,r.z]}];let Dn=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:Rn,imports:[ht]}),t})();function jn(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function Ln(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(e).forEach((function(n){void 0===t[n]?t[n]=e[n]:jn(e[n])&&jn(t[n])&&Object.keys(e[n]).length>0&&Ln(t[n],e[n])}))}var Fn={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Un(){var t="undefined"!=typeof document?document:{};return Ln(t,Fn),t}var qn={document:Fn,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function Vn(){var t="undefined"!=typeof window?window:{};return Ln(t,qn),t}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bn(t,e){return(Bn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(CS){return!1}}function Gn(t,e,n){return(Gn=Hn()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Bn(i,n.prototype),i}).apply(null,arguments)}function $n(t){var e="function"==typeof Map?new Map:void 0;return($n=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Gn(t,arguments,zn(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Bn(n,t)})(t)}var Kn=function(t){var e,n;function r(e){var n,r,i;return r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call.apply(t,[this].concat(e))||this),i=r.__proto__,Object.defineProperty(r,"__proto__",{get:function(){return i},set:function(t){i.__proto__=t}}),n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}($n(Array));function Wn(t){void 0===t&&(t=[]);var e=[];return t.forEach((function(t){Array.isArray(t)?e.push.apply(e,Wn(t)):e.push(t)})),e}function Qn(t,e){return Array.prototype.filter.call(t,e)}function Yn(t,e){var n=Vn(),r=Un(),i=[];if(!e&&t instanceof Kn)return t;if(!t)return new Kn(i);if("string"==typeof t){var o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var s="div";0===o.indexOf("<li")&&(s="ul"),0===o.indexOf("<tr")&&(s="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(s="tr"),0===o.indexOf("<tbody")&&(s="table"),0===o.indexOf("<option")&&(s="select");var a=r.createElement(s);a.innerHTML=o;for(var u=0;u<a.childNodes.length;u+=1)i.push(a.childNodes[u])}else i=function(t,e){if("string"!=typeof t)return[t];for(var n=[],r=e.querySelectorAll(t),i=0;i<r.length;i+=1)n.push(r[i]);return n}(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof Kn)return t;i=t}return new Kn(function(t){for(var e=[],n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(i))}Yn.fn=Kn.prototype;var Xn="resize scroll".split(" ");function Jn(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(void 0===n[0]){for(var i=0;i<this.length;i+=1)Xn.indexOf(t)<0&&(t in this[i]?this[i][t]():Yn(this[i]).trigger(t));return this}return this.on.apply(this,[t].concat(n))}}Jn("click"),Jn("blur"),Jn("focus"),Jn("focusin"),Jn("focusout"),Jn("keyup"),Jn("keydown"),Jn("keypress"),Jn("submit"),Jn("change"),Jn("mousedown"),Jn("mousemove"),Jn("mouseup"),Jn("mouseenter"),Jn("mouseleave"),Jn("mouseout"),Jn("mouseover"),Jn("touchstart"),Jn("touchend"),Jn("touchmove"),Jn("resize"),Jn("scroll");var Zn={addClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Wn(e.map((function(t){return t.split(" ")})));return this.forEach((function(t){var e;(e=t.classList).add.apply(e,r)})),this},removeClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Wn(e.map((function(t){return t.split(" ")})));return this.forEach((function(t){var e;(e=t.classList).remove.apply(e,r)})),this},hasClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Wn(e.map((function(t){return t.split(" ")})));return Qn(this,(function(t){return r.filter((function(e){return t.classList.contains(e)})).length>0})).length>0},toggleClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Wn(e.map((function(t){return t.split(" ")})));this.forEach((function(t){r.forEach((function(e){t.classList.toggle(e)}))}))},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this},removeAttr:function(t){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},transform:function(t){for(var e=0;e<this.length;e+=1)this[e].style.transform=t;return this},transition:function(t){for(var e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof t?t+"ms":t;return this},on:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],s=e[3];function a(t){var e=t.target;if(e){var n=t.target.dom7EventData||[];if(n.indexOf(t)<0&&n.unshift(t),Yn(e).is(i))o.apply(e,n);else for(var r=Yn(e).parents(),s=0;s<r.length;s+=1)Yn(r[s]).is(i)&&o.apply(r[s],n)}}function u(t){var e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),o.apply(this,e)}"function"==typeof e[1]&&(r=e[0],o=e[1],s=e[2],i=void 0),s||(s=!1);for(var c,l=r.split(" "),h=0;h<this.length;h+=1){var d=this[h];if(i)for(c=0;c<l.length;c+=1){var f=l[c];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[f]||(d.dom7LiveListeners[f]=[]),d.dom7LiveListeners[f].push({listener:o,proxyListener:a}),d.addEventListener(f,a,s)}else for(c=0;c<l.length;c+=1){var p=l[c];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[p]||(d.dom7Listeners[p]=[]),d.dom7Listeners[p].push({listener:o,proxyListener:u}),d.addEventListener(p,u,s)}}return this},off:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],s=e[3];"function"==typeof e[1]&&(r=e[0],o=e[1],s=e[2],i=void 0),s||(s=!1);for(var a=r.split(" "),u=0;u<a.length;u+=1)for(var c=a[u],l=0;l<this.length;l+=1){var h=this[l],d=void 0;if(!i&&h.dom7Listeners?d=h.dom7Listeners[c]:i&&h.dom7LiveListeners&&(d=h.dom7LiveListeners[c]),d&&d.length)for(var f=d.length-1;f>=0;f-=1){var p=d[f];o&&p.listener===o||o&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===o?(h.removeEventListener(c,p.proxyListener,s),d.splice(f,1)):o||(h.removeEventListener(c,p.proxyListener,s),d.splice(f,1))}}return this},trigger:function(){for(var t=Vn(),e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=n[0].split(" "),o=n[1],s=0;s<i.length;s+=1)for(var a=i[s],u=0;u<this.length;u+=1){var c=this[u];if(t.CustomEvent){var l=new t.CustomEvent(a,{detail:o,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(t,e){return e>0})),c.dispatchEvent(l),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(t){var e=this;return t&&e.on("transitionend",(function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))})),this},outerWidth:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var t=Vn();return this[0]?t.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var t=Vn(),e=Un(),n=this[0],r=n.getBoundingClientRect(),i=e.body;return{top:r.top+(n===t?t.scrollY:n.scrollTop)-(n.clientTop||i.clientTop||0),left:r.left+(n===t?t.scrollX:n.scrollLeft)-(n.clientLeft||i.clientLeft||0)}}return null},css:function(t,e){var n,r=Vn();if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n+=1)for(var i in t)this[n].style[i]=t[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n+=1)this[n].style[t]=e;return this}return this},each:function(t){return t?(this.forEach((function(e,n){t.apply(e,[e,n])})),this):this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:null;for(var e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){var e,n,r=Vn(),i=Un(),o=this[0];if(!o||void 0===t)return!1;if("string"==typeof t){if(o.matches)return o.matches(t);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(o.msMatchesSelector)return o.msMatchesSelector(t);for(e=Yn(t),n=0;n<e.length;n+=1)if(e[n]===o)return!0;return!1}if(t===i)return o===i;if(t===r)return o===r;if(t.nodeType||t instanceof Kn){for(e=t.nodeType?[t]:t,n=0;n<e.length;n+=1)if(e[n]===o)return!0;return!1}return!1},index:function(){var t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;var e=this.length;if(t>e-1)return Yn([]);if(t<0){var n=e+t;return Yn(n<0?[]:[this[n]])}return Yn([this[t]])},append:function(){for(var t,e=Un(),n=0;n<arguments.length;n+=1){t=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"==typeof t){var i=e.createElement("div");for(i.innerHTML=t;i.firstChild;)this[r].appendChild(i.firstChild)}else if(t instanceof Kn)for(var o=0;o<t.length;o+=1)this[r].appendChild(t[o]);else this[r].appendChild(t)}return this},prepend:function(t){var e,n,r=Un();for(e=0;e<this.length;e+=1)if("string"==typeof t){var i=r.createElement("div");for(i.innerHTML=t,n=i.childNodes.length-1;n>=0;n-=1)this[e].insertBefore(i.childNodes[n],this[e].childNodes[0])}else if(t instanceof Kn)for(n=0;n<t.length;n+=1)this[e].insertBefore(t[n],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&Yn(this[0].nextElementSibling).is(t)?Yn([this[0].nextElementSibling]):Yn([]):Yn(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):Yn([])},nextAll:function(t){var e=[],n=this[0];if(!n)return Yn([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;t?Yn(r).is(t)&&e.push(r):e.push(r),n=r}return Yn(e)},prev:function(t){if(this.length>0){var e=this[0];return t?e.previousElementSibling&&Yn(e.previousElementSibling).is(t)?Yn([e.previousElementSibling]):Yn([]):Yn(e.previousElementSibling?[e.previousElementSibling]:[])}return Yn([])},prevAll:function(t){var e=[],n=this[0];if(!n)return Yn([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;t?Yn(r).is(t)&&e.push(r):e.push(r),n=r}return Yn(e)},parent:function(t){for(var e=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?Yn(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return Yn(e)},parents:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)t?Yn(r).is(t)&&e.push(r):e.push(r),r=r.parentNode;return Yn(e)},closest:function(t){var e=this;return void 0===t?Yn([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(t),i=0;i<r.length;i+=1)e.push(r[i]);return Yn(e)},children:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)t&&!Yn(r[i]).is(t)||e.push(r[i]);return Yn(e)},filter:function(t){return Yn(Qn(this,t))},remove:function(){for(var t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}};Object.keys(Zn).forEach((function(t){Object.defineProperty(Yn.fn,t,{value:Zn[t],writable:!0})}));var tr,er,nr,rr=Yn;function ir(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function or(){return Date.now()}function sr(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function ar(){for(var t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(null!=r)for(var i=Object.keys(Object(r)).filter((function(t){return e.indexOf(t)<0})),o=0,s=i.length;o<s;o+=1){var a=i[o],u=Object.getOwnPropertyDescriptor(r,a);void 0!==u&&u.enumerable&&(sr(t[a])&&sr(r[a])?r[a].__swiper__?t[a]=r[a]:ar(t[a],r[a]):!sr(t[a])&&sr(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:ar(t[a],r[a])):t[a]=r[a])}}return t}function ur(t,e){Object.keys(e).forEach((function(n){sr(e[n])&&Object.keys(e[n]).forEach((function(r){"function"==typeof e[n][r]&&(e[n][r]=e[n][r].bind(t))})),t[n]=e[n]}))}function cr(){return tr||(tr=function(){var t=Vn(),e=Un();return{touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),pointerEvents:!!t.PointerEvent&&"maxTouchPoints"in t.navigator&&t.navigator.maxTouchPoints>=0,observer:"MutationObserver"in t||"WebkitMutationObserver"in t,passiveListener:function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});t.addEventListener("testPassiveListener",null,n)}catch(CS){}return e}(),gestures:"ongesturestart"in t}}()),tr}function lr(t){return void 0===t&&(t={}),er||(er=function(t){var e=(void 0===t?{}:t).userAgent,n=cr(),r=Vn(),i=r.navigator.platform,o=e||r.navigator.userAgent,s={ios:!1,android:!1},a=r.screen.width,u=r.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/),l=o.match(/(iPad).*OS\s([\d_]+)/),h=o.match(/(iPod)(.*OS\s([\d_]+))?/),d=!l&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===i,p="MacIntel"===i;return!l&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(a+"x"+u)>=0&&((l=o.match(/(Version)\/([\d.]+)/))||(l=[0,1,"13_0_0"]),p=!1),c&&!f&&(s.os="android",s.android=!0),(l||d||h)&&(s.os="ios",s.ios=!0),s}(t)),er}function hr(){return nr||(nr=function(){var t,e=Vn();return{isEdge:!!e.navigator.userAgent.match(/Edge/g),isSafari:(t=e.navigator.userAgent.toLowerCase(),t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),nr}var dr={name:"resize",create:function(){var t=this;ar(t,{resize:{observer:null,createObserver:function(){t&&!t.destroyed&&t.initialized&&(t.resize.observer=new ResizeObserver((function(e){var n=t.width,r=t.height,i=n,o=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,s=e.target;s&&s!==t.el||(i=r?r.width:(n[0]||n).inlineSize,o=r?r.height:(n[0]||n).blockSize)})),i===n&&o===r||t.resize.resizeHandler()})),t.resize.observer.observe(t.el))},removeObserver:function(){t.resize.observer&&t.resize.observer.unobserve&&t.el&&(t.resize.observer.unobserve(t.el),t.resize.observer=null)},resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(t){var e=Vn();t.params.resizeObserver&&void 0!==Vn().ResizeObserver?t.resize.createObserver():(e.addEventListener("resize",t.resize.resizeHandler),e.addEventListener("orientationchange",t.resize.orientationChangeHandler))},destroy:function(t){var e=Vn();t.resize.removeObserver(),e.removeEventListener("resize",t.resize.resizeHandler),e.removeEventListener("orientationchange",t.resize.orientationChangeHandler)}}};function fr(){return(fr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var pr={attach:function(t,e){void 0===e&&(e={});var n=Vn(),r=this,i=new(n.MutationObserver||n.WebkitMutationObserver)((function(t){if(1!==t.length){var e=function(){r.emit("observerUpdate",t[0])};n.requestAnimationFrame?n.requestAnimationFrame(e):n.setTimeout(e,0)}else r.emit("observerUpdate",t[0])}));i.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),r.observer.observers.push(i)},init:function(){if(this.support.observer&&this.params.observer){if(this.params.observeParents)for(var t=this.$el.parents(),e=0;e<t.length;e+=1)this.observer.attach(t[e]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(t){t.disconnect()})),this.observer.observers=[]}},mr={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){ur(this,{observer:fr({},pr,{observers:[]})})},on:{init:function(t){t.observer.init()},destroy:function(t){t.observer.destroy()}}};function gr(t){var e=Un(),n=Vn(),r=this.touchEventsData,i=this.params,o=this.touches;if(!this.animating||!i.preventInteractionOnTransition){var s=t;s.originalEvent&&(s=s.originalEvent);var a=rr(s.target);if(("wrapper"!==i.touchEventsTarget||a.closest(this.wrapperEl).length)&&(r.isTouchEvent="touchstart"===s.type,(r.isTouchEvent||!("which"in s)||3!==s.which)&&!(!r.isTouchEvent&&"button"in s&&s.button>0||r.isTouched&&r.isMoved)))if(!!i.noSwipingClass&&""!==i.noSwipingClass&&s.target&&s.target.shadowRoot&&t.path&&t.path[0]&&(a=rr(t.path[0])),i.noSwiping&&a.closest(i.noSwipingSelector?i.noSwipingSelector:"."+i.noSwipingClass)[0])this.allowClick=!0;else if(!i.swipeHandler||a.closest(i.swipeHandler)[0]){o.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,o.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var u=o.currentX,c=o.currentY,l=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,h=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(l&&(u<=h||u>=n.innerWidth-h)){if("prevent"!==l)return;t.preventDefault()}if(ar(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=u,o.startY=c,r.touchStartTime=or(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,i.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==s.type){var d=!0;a.is(r.formElements)&&(d=!1),e.activeElement&&rr(e.activeElement).is(r.formElements)&&e.activeElement!==a[0]&&e.activeElement.blur(),!i.touchStartForcePreventDefault&&!(d&&this.allowTouchMove&&i.touchStartPreventDefault)||a[0].isContentEditable||s.preventDefault()}this.emit("touchStart",s)}}}function yr(t){var e=Un(),n=this.touchEventsData,r=this.params,i=this.touches,o=this.rtlTranslate,s=t;if(s.originalEvent&&(s=s.originalEvent),n.isTouched){if(!n.isTouchEvent||"touchmove"===s.type){var a="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),u="touchmove"===s.type?a.pageX:s.pageX,c="touchmove"===s.type?a.pageY:s.pageY;if(s.preventedByNestedSwiper)return i.startX=u,void(i.startY=c);if(!this.allowTouchMove)return this.allowClick=!1,void(n.isTouched&&(ar(i,{startX:u,startY:c,currentX:u,currentY:c}),n.touchStartTime=or()));if(n.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(this.isVertical()){if(c<i.startY&&this.translate<=this.maxTranslate()||c>i.startY&&this.translate>=this.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(u<i.startX&&this.translate<=this.maxTranslate()||u>i.startX&&this.translate>=this.minTranslate())return;if(n.isTouchEvent&&e.activeElement&&s.target===e.activeElement&&rr(s.target).is(n.formElements))return n.isMoved=!0,void(this.allowClick=!1);if(n.allowTouchCallbacks&&this.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){i.currentX=u,i.currentY=c;var l,h=i.currentX-i.startX,d=i.currentY-i.startY;if(!(this.params.threshold&&Math.sqrt(Math.pow(h,2)+Math.pow(d,2))<this.params.threshold))if(void 0===n.isScrolling&&(this.isHorizontal()&&i.currentY===i.startY||this.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:h*h+d*d>=25&&(l=180*Math.atan2(Math.abs(d),Math.abs(h))/Math.PI,n.isScrolling=this.isHorizontal()?l>r.touchAngle:90-l>r.touchAngle)),n.isScrolling&&this.emit("touchMoveOpposite",s),void 0===n.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(n.startMoving=!0)),n.isScrolling)n.isTouched=!1;else if(n.startMoving){this.allowClick=!1,!r.cssMode&&s.cancelable&&s.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&s.stopPropagation(),n.isMoved||(r.loop&&this.loopFix(),n.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!r.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",s)),this.emit("sliderMove",s),n.isMoved=!0;var f=this.isHorizontal()?h:d;i.diff=f,f*=r.touchRatio,o&&(f=-f),this.swipeDirection=f>0?"prev":"next",n.currentTranslate=f+n.startTranslate;var p=!0,m=r.resistanceRatio;if(r.touchReleaseOnEdges&&(m=0),f>0&&n.currentTranslate>this.minTranslate()?(p=!1,r.resistance&&(n.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+n.startTranslate+f,m))):f<0&&n.currentTranslate<this.maxTranslate()&&(p=!1,r.resistance&&(n.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-n.startTranslate-f,m))),p&&(s.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),this.allowSlidePrev||this.allowSlideNext||(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(f)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,void(i.diff=this.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}r.followFinger&&!r.cssMode&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),r.freeMode&&(0===n.velocities.length&&n.velocities.push({position:i[this.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:i[this.isHorizontal()?"currentX":"currentY"],time:or()})),this.updateProgress(n.currentTranslate),this.setTranslate(n.currentTranslate))}}}}else n.startMoving&&n.isScrolling&&this.emit("touchMoveOpposite",s)}function vr(t){var e=this,n=e.touchEventsData,r=e.params,i=e.touches,o=e.rtlTranslate,s=e.$wrapperEl,a=e.slidesGrid,u=e.snapGrid,c=t;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var l,h=or(),d=h-n.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(c),e.emit("tap click",c),d<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",c)),n.lastClickTime=or(),ir((function(){e.destroyed||(e.allowClick=!0)})),!n.isTouched||!n.isMoved||!e.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,l=r.followFinger?o?e.translate:-e.translate:-n.currentTranslate,!r.cssMode)if(r.freeMode){if(l<-e.minTranslate())return void e.slideTo(e.activeIndex);if(l>-e.maxTranslate())return void e.slideTo(e.slides.length<u.length?u.length-1:e.slides.length-1);if(r.freeModeMomentum){if(n.velocities.length>1){var f=n.velocities.pop(),p=n.velocities.pop(),m=f.time-p.time;e.velocity=(f.position-p.position)/m,e.velocity/=2,Math.abs(e.velocity)<r.freeModeMinimumVelocity&&(e.velocity=0),(m>150||or()-f.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var g=1e3*r.freeModeMomentumRatio,y=e.translate+e.velocity*g;o&&(y=-y);var v,b,w=!1,_=20*Math.abs(e.velocity)*r.freeModeMomentumBounceRatio;if(y<e.maxTranslate())r.freeModeMomentumBounce?(y+e.maxTranslate()<-_&&(y=e.maxTranslate()-_),v=e.maxTranslate(),w=!0,n.allowMomentumBounce=!0):y=e.maxTranslate(),r.loop&&r.centeredSlides&&(b=!0);else if(y>e.minTranslate())r.freeModeMomentumBounce?(y-e.minTranslate()>_&&(y=e.minTranslate()+_),v=e.minTranslate(),w=!0,n.allowMomentumBounce=!0):y=e.minTranslate(),r.loop&&r.centeredSlides&&(b=!0);else if(r.freeModeSticky){for(var S,E=0;E<u.length;E+=1)if(u[E]>-y){S=E;break}y=-(y=Math.abs(u[S]-y)<Math.abs(u[S-1]-y)||"next"===e.swipeDirection?u[S]:u[S-1])}if(b&&e.once("transitionEnd",(function(){e.loopFix()})),0!==e.velocity){if(g=o?Math.abs((-y-e.translate)/e.velocity):Math.abs((y-e.translate)/e.velocity),r.freeModeSticky){var T=Math.abs((o?-y:y)-e.translate),C=e.slidesSizesGrid[e.activeIndex];g=T<C?r.speed:T<2*C?1.5*r.speed:2.5*r.speed}}else if(r.freeModeSticky)return void e.slideToClosest();r.freeModeMomentumBounce&&w?(e.updateProgress(v),e.setTransition(g),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating=!0,s.transitionEnd((function(){e&&!e.destroyed&&n.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(r.speed),setTimeout((function(){e.setTranslate(v),s.transitionEnd((function(){e&&!e.destroyed&&e.transitionEnd()}))}),0))}))):e.velocity?(e.updateProgress(y),e.setTransition(g),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,s.transitionEnd((function(){e&&!e.destroyed&&e.transitionEnd()})))):(e.emit("_freeModeNoMomentumRelease"),e.updateProgress(y)),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(r.freeModeSticky)return void e.slideToClosest();r.freeMode&&e.emit("_freeModeNoMomentumRelease")}(!r.freeModeMomentum||d>=r.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}else{for(var O=0,x=e.slidesSizesGrid[0],P=0;P<a.length;P+=P<r.slidesPerGroupSkip?1:r.slidesPerGroup){var I=P<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==a[P+I]?l>=a[P]&&l<a[P+I]&&(O=P,x=a[P+I]-a[P]):l>=a[P]&&(O=P,x=a[a.length-1]-a[a.length-2])}var k=(l-a[O])/x,A=O<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(k>=r.longSwipesRatio?O+A:O),"prev"===e.swipeDirection&&e.slideTo(k>1-r.longSwipesRatio?O+A:O)}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||c.target!==e.navigation.nextEl&&c.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(O+A),"prev"===e.swipeDirection&&e.slideTo(O)):e.slideTo(c.target===e.navigation.nextEl?O+A:O)}}}function br(){var t=this.params,e=this.el;if(!e||0!==e.offsetWidth){t.breakpoints&&this.setBreakpoint();var n=this.allowSlideNext,r=this.allowSlidePrev,i=this.snapGrid;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),this.slideTo(("auto"===t.slidesPerView||t.slidesPerView>1)&&this.isEnd&&!this.isBeginning&&!this.params.centeredSlides?this.slides.length-1:this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=r,this.allowSlideNext=n,this.params.watchOverflow&&i!==this.snapGrid&&this.checkOverflow()}}function wr(t){this.allowClick||(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function _r(){var t=this.wrapperEl,e=this.rtlTranslate;this.previousTranslate=this.translate,this.translate=this.isHorizontal()?e?t.scrollWidth-t.offsetWidth-t.scrollLeft:-t.scrollLeft:-t.scrollTop,-0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();var n=this.maxTranslate()-this.minTranslate();(0===n?0:(this.translate-this.minTranslate())/n)!==this.progress&&this.updateProgress(e?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}var Sr=!1;function Er(){}var Tr={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Or={modular:{useParams:function(t){var e=this;e.modules&&Object.keys(e.modules).forEach((function(n){var r=e.modules[n];r.params&&ar(t,r.params)}))},useModules:function(t){void 0===t&&(t={});var e=this;e.modules&&Object.keys(e.modules).forEach((function(n){var r=e.modules[n],i=t[n]||{};r.on&&e.on&&Object.keys(r.on).forEach((function(t){e.on(t,r.on[t])})),r.create&&r.create.bind(e)(i)}))}},eventsEmitter:{on:function(t,e,n){var r=this;if("function"!=typeof e)return r;var i=n?"unshift":"push";return t.split(" ").forEach((function(t){r.eventsListeners[t]||(r.eventsListeners[t]=[]),r.eventsListeners[t][i](e)})),r},once:function(t,e,n){var r=this;if("function"!=typeof e)return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny:function(t,e){if("function"!=typeof t)return this;var n=e?"unshift":"push";return this.eventsAnyListeners.indexOf(t)<0&&this.eventsAnyListeners[n](t),this},offAny:function(t){if(!this.eventsAnyListeners)return this;var e=this.eventsAnyListeners.indexOf(t);return e>=0&&this.eventsAnyListeners.splice(e,1),this},off:function(t,e){var n=this;return n.eventsListeners?(t.split(" ").forEach((function(t){void 0===e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].forEach((function(r,i){(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[t].splice(i,1)}))})),n):n},emit:function(){var t,e,n,r=this;if(!r.eventsListeners)return r;for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];"string"==typeof o[0]||Array.isArray(o[0])?(t=o[0],e=o.slice(1,o.length),n=r):(t=o[0].events,e=o[0].data,n=o[0].context||r),e.unshift(n);var a=Array.isArray(t)?t:t.split(" ");return a.forEach((function(t){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[t].concat(e))})),r.eventsListeners&&r.eventsListeners[t]&&r.eventsListeners[t].forEach((function(t){t.apply(n,e)}))})),r}},update:{updateSize:function(){var t,e,n=this.$el;e=null!=this.params.height?this.params.height:n[0].clientHeight,0===(t=null!=this.params.width?this.params.width:n[0].clientWidth)&&this.isHorizontal()||0===e&&this.isVertical()||(t=t-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),e=e-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),ar(this,{width:t,height:e,size:this.isHorizontal()?t:e}))},updateSlides:function(){var t=this,e=function(e){return t.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]},n=function(t,n){return parseFloat(t.getPropertyValue(e(n))||0)},r=t.params,i=t.$wrapperEl,o=t.size,s=t.rtlTranslate,a=t.wrongRTL,u=t.virtual&&r.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,l=i.children("."+t.params.slideClass),h=u?t.virtual.slides.length:l.length,d=[],f=[],p=[],m=r.slidesOffsetBefore;"function"==typeof m&&(m=r.slidesOffsetBefore.call(t));var g=r.slidesOffsetAfter;"function"==typeof g&&(g=r.slidesOffsetAfter.call(t));var y=t.snapGrid.length,v=t.slidesGrid.length,b=r.spaceBetween,w=-m,_=0,S=0;if(void 0!==o){var E,T;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*o),t.virtualSize=-b,l.css(s?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""}),r.slidesPerColumn>1&&(E=Math.floor(h/r.slidesPerColumn)===h/t.params.slidesPerColumn?h:Math.ceil(h/r.slidesPerColumn)*r.slidesPerColumn,"auto"!==r.slidesPerView&&"row"===r.slidesPerColumnFill&&(E=Math.max(E,r.slidesPerView*r.slidesPerColumn)));for(var C,O,x,P=r.slidesPerColumn,I=E/P,k=Math.floor(h/r.slidesPerColumn),A=0;A<h;A+=1){T=0;var M=l.eq(A);if(r.slidesPerColumn>1){var N=void 0,R=void 0,D=void 0;if("row"===r.slidesPerColumnFill&&r.slidesPerGroup>1){var j=Math.floor(A/(r.slidesPerGroup*r.slidesPerColumn)),L=A-r.slidesPerColumn*r.slidesPerGroup*j,F=0===j?r.slidesPerGroup:Math.min(Math.ceil((h-j*P*r.slidesPerGroup)/P),r.slidesPerGroup);D=Math.floor(L/F),M.css({"-webkit-box-ordinal-group":N=(R=L-D*F+j*r.slidesPerGroup)+D*E/P,"-moz-box-ordinal-group":N,"-ms-flex-order":N,"-webkit-order":N,order:N})}else"column"===r.slidesPerColumnFill?(D=A-(R=Math.floor(A/P))*P,(R>k||R===k&&D===P-1)&&(D+=1)>=P&&(D=0,R+=1)):R=A-(D=Math.floor(A/I))*I;M.css(e("margin-top"),0!==D&&r.spaceBetween&&r.spaceBetween+"px")}if("none"!==M.css("display")){if("auto"===r.slidesPerView){var U=getComputedStyle(M[0]),q=M[0].style.transform,V=M[0].style.webkitTransform;if(q&&(M[0].style.transform="none"),V&&(M[0].style.webkitTransform="none"),r.roundLengths)T=t.isHorizontal()?M.outerWidth(!0):M.outerHeight(!0);else{var z=n(U,"width"),B=n(U,"padding-left"),H=n(U,"padding-right"),G=n(U,"margin-left"),$=n(U,"margin-right"),K=U.getPropertyValue("box-sizing");if(K&&"border-box"===K)T=z+G+$;else{var W=M[0];T=z+B+H+G+$+(W.offsetWidth-W.clientWidth)}}q&&(M[0].style.transform=q),V&&(M[0].style.webkitTransform=V),r.roundLengths&&(T=Math.floor(T))}else T=(o-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(T=Math.floor(T)),l[A]&&(l[A].style[e("width")]=T+"px");l[A]&&(l[A].swiperSlideSize=T),p.push(T),r.centeredSlides?(w=w+T/2+_/2+b,0===_&&0!==A&&(w=w-o/2-b),0===A&&(w=w-o/2-b),Math.abs(w)<.001&&(w=0),r.roundLengths&&(w=Math.floor(w)),S%r.slidesPerGroup==0&&d.push(w),f.push(w)):(r.roundLengths&&(w=Math.floor(w)),(S-Math.min(t.params.slidesPerGroupSkip,S))%t.params.slidesPerGroup==0&&d.push(w),f.push(w),w=w+T+b),t.virtualSize+=T+b,_=T,S+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+g,s&&a&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:t.virtualSize+r.spaceBetween+"px"}),r.setWrapperSize&&i.css(((O={})[e("width")]=t.virtualSize+r.spaceBetween+"px",O)),r.slidesPerColumn>1&&(t.virtualSize=(T+r.spaceBetween)*E,t.virtualSize=Math.ceil(t.virtualSize/r.slidesPerColumn)-r.spaceBetween,i.css(((x={})[e("width")]=t.virtualSize+r.spaceBetween+"px",x)),r.centeredSlides)){C=[];for(var Q=0;Q<d.length;Q+=1){var Y=d[Q];r.roundLengths&&(Y=Math.floor(Y)),d[Q]<t.virtualSize+d[0]&&C.push(Y)}d=C}if(!r.centeredSlides){C=[];for(var X=0;X<d.length;X+=1){var J=d[X];r.roundLengths&&(J=Math.floor(J)),d[X]<=t.virtualSize-o&&C.push(J)}d=C,Math.floor(t.virtualSize-o)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-o)}if(0===d.length&&(d=[0]),0!==r.spaceBetween){var Z,tt=t.isHorizontal()&&s?"marginLeft":e("marginRight");l.filter((function(t,e){return!r.cssMode||e!==l.length-1})).css(((Z={})[tt]=b+"px",Z))}if(r.centeredSlides&&r.centeredSlidesBounds){var et=0;p.forEach((function(t){et+=t+(r.spaceBetween?r.spaceBetween:0)}));var nt=(et-=r.spaceBetween)-o;d=d.map((function(t){return t<0?-m:t>nt?nt+g:t}))}if(r.centerInsufficientSlides){var rt=0;if(p.forEach((function(t){rt+=t+(r.spaceBetween?r.spaceBetween:0)})),(rt-=r.spaceBetween)<o){var it=(o-rt)/2;d.forEach((function(t,e){d[e]=t-it})),f.forEach((function(t,e){f[e]=t+it}))}}ar(t,{slides:l,snapGrid:d,slidesGrid:f,slidesSizesGrid:p}),h!==c&&t.emit("slidesLengthChange"),d.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==v&&t.emit("slidesGridLengthChange"),(r.watchSlidesProgress||r.watchSlidesVisibility)&&t.updateSlidesOffset()}},updateAutoHeight:function(t){var e,n=[],r=0;if("number"==typeof t?this.setTransition(t):!0===t&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)if(this.params.centeredSlides)this.visibleSlides.each((function(t){n.push(t)}));else for(e=0;e<Math.ceil(this.params.slidesPerView);e+=1){var i=this.activeIndex+e;if(i>this.slides.length)break;n.push(this.slides.eq(i)[0])}else n.push(this.slides.eq(this.activeIndex)[0]);for(e=0;e<n.length;e+=1)if(void 0!==n[e]){var o=n[e].offsetHeight;r=o>r?o:r}r&&this.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function(){for(var t=this.slides,e=0;e<t.length;e+=1)t[e].swiperSlideOffset=this.isHorizontal()?t[e].offsetLeft:t[e].offsetTop},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);var e=this.params,n=this.slides,r=this.rtlTranslate;if(0!==n.length){void 0===n[0].swiperSlideOffset&&this.updateSlidesOffset();var i=-t;r&&(i=t),n.removeClass(e.slideVisibleClass),this.visibleSlidesIndexes=[],this.visibleSlides=[];for(var o=0;o<n.length;o+=1){var s=n[o],a=(i+(e.centeredSlides?this.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+e.spaceBetween);if(e.watchSlidesVisibility||e.centeredSlides&&e.autoHeight){var u=-(i-s.swiperSlideOffset),c=u+this.slidesSizesGrid[o];(u>=0&&u<this.size-1||c>1&&c<=this.size||u<=0&&c>=this.size)&&(this.visibleSlides.push(s),this.visibleSlidesIndexes.push(o),n.eq(o).addClass(e.slideVisibleClass))}s.progress=r?-a:a}this.visibleSlides=rr(this.visibleSlides)}},updateProgress:function(t){void 0===t&&(t=this&&this.translate&&this.translate*(this.rtlTranslate?-1:1)||0);var e=this.params,n=this.maxTranslate()-this.minTranslate(),r=this.progress,i=this.isBeginning,o=this.isEnd,s=i,a=o;0===n?(r=0,i=!0,o=!0):(i=(r=(t-this.minTranslate())/n)<=0,o=r>=1),ar(this,{progress:r,isBeginning:i,isEnd:o}),(e.watchSlidesProgress||e.watchSlidesVisibility||e.centeredSlides&&e.autoHeight)&&this.updateSlidesProgress(t),i&&!s&&this.emit("reachBeginning toEdge"),o&&!a&&this.emit("reachEnd toEdge"),(s&&!i||a&&!o)&&this.emit("fromEdge"),this.emit("progress",r)},updateSlidesClasses:function(){var t,e=this.slides,n=this.params,r=this.$wrapperEl,i=this.activeIndex,o=this.realIndex,s=this.virtual&&n.virtual.enabled;e.removeClass(n.slideActiveClass+" "+n.slideNextClass+" "+n.slidePrevClass+" "+n.slideDuplicateActiveClass+" "+n.slideDuplicateNextClass+" "+n.slideDuplicatePrevClass),(t=s?this.$wrapperEl.find("."+n.slideClass+'[data-swiper-slide-index="'+i+'"]'):e.eq(i)).addClass(n.slideActiveClass),n.loop&&(t.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass));var a=t.nextAll("."+n.slideClass).eq(0).addClass(n.slideNextClass);n.loop&&0===a.length&&(a=e.eq(0)).addClass(n.slideNextClass);var u=t.prevAll("."+n.slideClass).eq(0).addClass(n.slidePrevClass);n.loop&&0===u.length&&(u=e.eq(-1)).addClass(n.slidePrevClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass)),this.emitSlidesClasses()},updateActiveIndex:function(t){var e,n=this.rtlTranslate?this.translate:-this.translate,r=this.slidesGrid,i=this.snapGrid,o=this.params,s=this.activeIndex,a=this.realIndex,u=this.snapIndex,c=t;if(void 0===c){for(var l=0;l<r.length;l+=1)void 0!==r[l+1]?n>=r[l]&&n<r[l+1]-(r[l+1]-r[l])/2?c=l:n>=r[l]&&n<r[l+1]&&(c=l+1):n>=r[l]&&(c=l);o.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}if(i.indexOf(n)>=0)e=i.indexOf(n);else{var h=Math.min(o.slidesPerGroupSkip,c);e=h+Math.floor((c-h)/o.slidesPerGroup)}if(e>=i.length&&(e=i.length-1),c!==s){var d=parseInt(this.slides.eq(c).attr("data-swiper-slide-index")||c,10);ar(this,{snapIndex:e,realIndex:d,previousIndex:s,activeIndex:c}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),a!==d&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")}else e!==u&&(this.snapIndex=e,this.emit("snapIndexChange"))},updateClickedSlide:function(t){var e,n=this.params,r=rr(t.target).closest("."+n.slideClass)[0],i=!1;if(r)for(var o=0;o<this.slides.length;o+=1)if(this.slides[o]===r){i=!0,e=o;break}if(!r||!i)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=r,this.clickedIndex=this.virtual&&this.params.virtual.enabled?parseInt(rr(r).attr("data-swiper-slide-index"),10):e,n.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");var e=this.params,n=this.rtlTranslate,r=this.translate;if(e.virtualTranslate)return n?-r:r;if(e.cssMode)return r;var i=function(t,e){void 0===e&&(e="x");var n,r,i,o=Vn(),s=function(t){var e,n=Vn();return n.getComputedStyle&&(e=n.getComputedStyle(t,null)),!e&&t.currentStyle&&(e=t.currentStyle),e||(e=t.style),e}(t);return o.WebKitCSSMatrix?((r=s.transform||s.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(t){return t.replace(",",".")})).join(", ")),i=new o.WebKitCSSMatrix("none"===r?"":r)):n=(i=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(r=o.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(r=o.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}(this.$wrapperEl[0],t);return n&&(i=-i),i||0},setTranslate:function(t,e){var n=this.rtlTranslate,r=this.params,i=this.$wrapperEl,o=this.wrapperEl,s=this.progress,a=0,u=0;this.isHorizontal()?a=n?-t:t:u=t,r.roundLengths&&(a=Math.floor(a),u=Math.floor(u)),r.cssMode?o[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-a:-u:r.virtualTranslate||i.transform("translate3d("+a+"px, "+u+"px, 0px)"),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?a:u;var c=this.maxTranslate()-this.minTranslate();(0===c?0:(t-this.minTranslate())/c)!==s&&this.updateProgress(t),this.emit("setTranslate",this.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t,e,n,r,i){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var o=this,s=o.params,a=o.wrapperEl;if(o.animating&&s.preventInteractionOnTransition)return!1;var u,c=o.minTranslate(),l=o.maxTranslate();if(o.updateProgress(u=r&&t>c?c:r&&t<l?l:t),s.cssMode){var h,d=o.isHorizontal();return 0===e?a[d?"scrollLeft":"scrollTop"]=-u:a.scrollTo?a.scrollTo(((h={})[d?"left":"top"]=-u,h.behavior="smooth",h)):a[d?"scrollLeft":"scrollTop"]=-u,!0}return 0===e?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(t,e){this.params.cssMode||this.$wrapperEl.transition(t),this.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);var n=this.activeIndex,r=this.params,i=this.previousIndex;if(!r.cssMode){r.autoHeight&&this.updateAutoHeight();var o=e;if(o||(o=n>i?"next":n<i?"prev":"reset"),this.emit("transitionStart"),t&&n!==i){if("reset"===o)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),this.emit("next"===o?"slideNextTransitionStart":"slidePrevTransitionStart")}}},transitionEnd:function(t,e){void 0===t&&(t=!0);var n=this.activeIndex,r=this.previousIndex,i=this.params;if(this.animating=!1,!i.cssMode){this.setTransition(0);var o=e;if(o||(o=n>r?"next":n<r?"prev":"reset"),this.emit("transitionEnd"),t&&n!==r){if("reset"===o)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),this.emit("next"===o?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}}},slide:{slideTo:function(t,e,n,r){if(void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),"number"!=typeof t&&"string"!=typeof t)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof t+"] given.");if("string"==typeof t){var i=parseInt(t,10);if(!isFinite(i))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+t+"] given.");t=i}var o=this,s=t;s<0&&(s=0);var a=o.params,u=o.snapGrid,c=o.slidesGrid,l=o.previousIndex,h=o.activeIndex,d=o.rtlTranslate,f=o.wrapperEl;if(o.animating&&a.preventInteractionOnTransition)return!1;var p=Math.min(o.params.slidesPerGroupSkip,s),m=p+Math.floor((s-p)/o.params.slidesPerGroup);m>=u.length&&(m=u.length-1),(h||a.initialSlide||0)===(l||0)&&n&&o.emit("beforeSlideChangeStart");var g,y=-u[m];if(o.updateProgress(y),a.normalizeSlideIndex)for(var v=0;v<c.length;v+=1){var b=-Math.floor(100*y),w=Math.floor(100*c[v]),_=Math.floor(100*c[v+1]);void 0!==c[v+1]?b>=w&&b<_-(_-w)/2?s=v:b>=w&&b<_&&(s=v+1):b>=w&&(s=v)}if(o.initialized&&s!==h){if(!o.allowSlideNext&&y<o.translate&&y<o.minTranslate())return!1;if(!o.allowSlidePrev&&y>o.translate&&y>o.maxTranslate()&&(h||0)!==s)return!1}if(g=s>h?"next":s<h?"prev":"reset",d&&-y===o.translate||!d&&y===o.translate)return o.updateActiveIndex(s),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==a.effect&&o.setTranslate(y),"reset"!==g&&(o.transitionStart(n,g),o.transitionEnd(n,g)),!1;if(a.cssMode){var S,E=o.isHorizontal(),T=-y;return d&&(T=f.scrollWidth-f.offsetWidth-T),0===e?f[E?"scrollLeft":"scrollTop"]=T:f.scrollTo?f.scrollTo(((S={})[E?"left":"top"]=T,S.behavior="smooth",S)):f[E?"scrollLeft":"scrollTop"]=T,!0}return 0===e?(o.setTransition(0),o.setTranslate(y),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,g),o.transitionEnd(n,g)):(o.setTransition(e),o.setTranslate(y),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,g),o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,g))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0);var i=t;return this.params.loop&&(i+=this.loopedSlides),this.slideTo(i,e,n,r)},slideNext:function(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var r=this.params,i=this.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(this.animating&&r.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}return this.slideTo(this.activeIndex+i,t,e,n)},slidePrev:function(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var r=this.params,i=this.snapGrid,o=this.slidesGrid,s=this.rtlTranslate;if(r.loop){if(this.animating&&r.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}function a(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}var u,c=a(s?this.translate:-this.translate),l=i.map((function(t){return a(t)})),h=(l.indexOf(c),i[l.indexOf(c)-1]);return void 0===h&&r.cssMode&&i.forEach((function(t){!h&&c>=t&&(h=t)})),void 0!==h&&(u=o.indexOf(h))<0&&(u=this.activeIndex-1),this.slideTo(u,t,e,n)},slideReset:function(t,e,n){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function(t,e,n,r){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===r&&(r=.5);var i=this.activeIndex,o=Math.min(this.params.slidesPerGroupSkip,i),s=o+Math.floor((i-o)/this.params.slidesPerGroup),a=this.rtlTranslate?this.translate:-this.translate;if(a>=this.snapGrid[s]){var u=this.snapGrid[s];a-u>(this.snapGrid[s+1]-u)*r&&(i+=this.params.slidesPerGroup)}else{var c=this.snapGrid[s-1];a-c<=(this.snapGrid[s]-c)*r&&(i-=this.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,this.slidesGrid.length-1),this.slideTo(i,t,e,n)},slideToClickedSlide:function(){var t,e=this,n=e.params,r=e.$wrapperEl,i="auto"===n.slidesPerView?e.slidesPerViewDynamic():n.slidesPerView,o=e.clickedIndex;if(n.loop){if(e.animating)return;t=parseInt(rr(e.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<e.loopedSlides-i/2||o>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),o=r.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),ir((function(){e.slideTo(o)}))):e.slideTo(o):o>e.slides.length-i?(e.loopFix(),o=r.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),ir((function(){e.slideTo(o)}))):e.slideTo(o)}else e.slideTo(o)}},loop:{loopCreate:function(){var t=this,e=Un(),n=t.params,r=t.$wrapperEl;r.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var i=r.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-i.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var s=0;s<o;s+=1){var a=rr(e.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);r.append(a)}i=r.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&(t.loopedSlides=i.length);var u=[],c=[];i.each((function(e,n){var r=rr(e);n<t.loopedSlides&&c.push(e),n<i.length&&n>=i.length-t.loopedSlides&&u.push(e),r.attr("data-swiper-slide-index",n)}));for(var l=0;l<c.length;l+=1)r.append(rr(c[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var h=u.length-1;h>=0;h-=1)r.prepend(rr(u[h].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");var t,e=this.activeIndex,n=this.slides,r=this.loopedSlides,i=this.allowSlidePrev,o=this.allowSlideNext,s=this.snapGrid,a=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var u=-s[e]-this.getTranslate();e<r?(t=n.length-3*r+e,this.slideTo(t+=r,0,!1,!0)&&0!==u&&this.setTranslate((a?-this.translate:this.translate)-u)):e>=n.length-r&&(t=-n.length+e+r,this.slideTo(t+=r,0,!1,!0)&&0!==u&&this.setTranslate((a?-this.translate:this.translate)-u)),this.allowSlidePrev=i,this.allowSlideNext=o,this.emit("loopFix")},loopDestroy:function(){var t=this.params,e=this.slides;this.$wrapperEl.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),e.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(t){if(!(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var e=this.el;e.style.cursor="move",e.style.cursor=t?"-webkit-grabbing":"-webkit-grab",e.style.cursor=t?"-moz-grabbin":"-moz-grab",e.style.cursor=t?"grabbing":"grab"}},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}},manipulation:{appendSlide:function(t){var e=this.$wrapperEl,n=this.params;if(n.loop&&this.loopDestroy(),"object"==typeof t&&"length"in t)for(var r=0;r<t.length;r+=1)t[r]&&e.append(t[r]);else e.append(t);n.loop&&this.loopCreate(),n.observer&&this.support.observer||this.update()},prependSlide:function(t){var e=this.params,n=this.$wrapperEl,r=this.activeIndex;e.loop&&this.loopDestroy();var i=r+1;if("object"==typeof t&&"length"in t){for(var o=0;o<t.length;o+=1)t[o]&&n.prepend(t[o]);i=r+t.length}else n.prepend(t);e.loop&&this.loopCreate(),e.observer&&this.support.observer||this.update(),this.slideTo(i,0,!1)},addSlide:function(t,e){var n=this.$wrapperEl,r=this.params,i=this.activeIndex;r.loop&&(i-=this.loopedSlides,this.loopDestroy(),this.slides=n.children("."+r.slideClass));var o=this.slides.length;if(t<=0)this.prependSlide(e);else if(t>=o)this.appendSlide(e);else{for(var s=i>t?i+1:i,a=[],u=o-1;u>=t;u-=1){var c=this.slides.eq(u);c.remove(),a.unshift(c)}if("object"==typeof e&&"length"in e){for(var l=0;l<e.length;l+=1)e[l]&&n.append(e[l]);s=i>t?i+e.length:i}else n.append(e);for(var h=0;h<a.length;h+=1)n.append(a[h]);r.loop&&this.loopCreate(),r.observer&&this.support.observer||this.update(),this.slideTo(r.loop?s+this.loopedSlides:s,0,!1)}},removeSlide:function(t){var e=this.params,n=this.$wrapperEl,r=this.activeIndex;e.loop&&(r-=this.loopedSlides,this.loopDestroy(),this.slides=n.children("."+e.slideClass));var i,o=r;if("object"==typeof t&&"length"in t){for(var s=0;s<t.length;s+=1)this.slides[i=t[s]]&&this.slides.eq(i).remove(),i<o&&(o-=1);o=Math.max(o,0)}else this.slides[i=t]&&this.slides.eq(i).remove(),i<o&&(o-=1),o=Math.max(o,0);e.loop&&this.loopCreate(),e.observer&&this.support.observer||this.update(),this.slideTo(e.loop?o+this.loopedSlides:o,0,!1)},removeAllSlides:function(){for(var t=[],e=0;e<this.slides.length;e+=1)t.push(e);this.removeSlide(t)}},events:{attachEvents:function(){var t=Un(),e=this.params,n=this.touchEvents,r=this.el,i=this.wrapperEl,o=this.device,s=this.support;this.onTouchStart=gr.bind(this),this.onTouchMove=yr.bind(this),this.onTouchEnd=vr.bind(this),e.cssMode&&(this.onScroll=_r.bind(this)),this.onClick=wr.bind(this);var a=!!e.nested;if(!s.touch&&s.pointerEvents)r.addEventListener(n.start,this.onTouchStart,!1),t.addEventListener(n.move,this.onTouchMove,a),t.addEventListener(n.end,this.onTouchEnd,!1);else{if(s.touch){var u=!("touchstart"!==n.start||!s.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(n.start,this.onTouchStart,u),r.addEventListener(n.move,this.onTouchMove,s.passiveListener?{passive:!1,capture:a}:a),r.addEventListener(n.end,this.onTouchEnd,u),n.cancel&&r.addEventListener(n.cancel,this.onTouchEnd,u),Sr||(t.addEventListener("touchstart",Er),Sr=!0)}(e.simulateTouch&&!o.ios&&!o.android||e.simulateTouch&&!s.touch&&o.ios)&&(r.addEventListener("mousedown",this.onTouchStart,!1),t.addEventListener("mousemove",this.onTouchMove,a),t.addEventListener("mouseup",this.onTouchEnd,!1))}(e.preventClicks||e.preventClicksPropagation)&&r.addEventListener("click",this.onClick,!0),e.cssMode&&i.addEventListener("scroll",this.onScroll),this.on(e.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",br,!0)},detachEvents:function(){var t=Un(),e=this.params,n=this.touchEvents,r=this.el,i=this.wrapperEl,o=this.device,s=this.support,a=!!e.nested;if(!s.touch&&s.pointerEvents)r.removeEventListener(n.start,this.onTouchStart,!1),t.removeEventListener(n.move,this.onTouchMove,a),t.removeEventListener(n.end,this.onTouchEnd,!1);else{if(s.touch){var u=!("onTouchStart"!==n.start||!s.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(n.start,this.onTouchStart,u),r.removeEventListener(n.move,this.onTouchMove,a),r.removeEventListener(n.end,this.onTouchEnd,u),n.cancel&&r.removeEventListener(n.cancel,this.onTouchEnd,u)}(e.simulateTouch&&!o.ios&&!o.android||e.simulateTouch&&!s.touch&&o.ios)&&(r.removeEventListener("mousedown",this.onTouchStart,!1),t.removeEventListener("mousemove",this.onTouchMove,a),t.removeEventListener("mouseup",this.onTouchEnd,!1))}(e.preventClicks||e.preventClicksPropagation)&&r.removeEventListener("click",this.onClick,!0),e.cssMode&&i.removeEventListener("scroll",this.onScroll),this.off(o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",br)}},breakpoints:{setBreakpoint:function(){var t=this.activeIndex,e=this.initialized,n=this.loopedSlides,r=void 0===n?0:n,i=this.params,o=this.$el,s=i.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var a=this.getBreakpoint(s,this.params.breakpointsBase,this.el);if(a&&this.currentBreakpoint!==a){var u=a in s?s[a]:void 0;u&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(t){var e=u[t];void 0!==e&&(u[t]="slidesPerView"!==t||"AUTO"!==e&&"auto"!==e?"slidesPerView"===t?parseFloat(e):parseInt(e,10):"auto")}));var c=u||this.originalParams,l=i.slidesPerColumn>1,h=c.slidesPerColumn>1;l&&!h?(o.removeClass(i.containerModifierClass+"multirow "+i.containerModifierClass+"multirow-column"),this.emitContainerClasses()):!l&&h&&(o.addClass(i.containerModifierClass+"multirow"),"column"===c.slidesPerColumnFill&&o.addClass(i.containerModifierClass+"multirow-column"),this.emitContainerClasses());var d=c.direction&&c.direction!==i.direction,f=i.loop&&(c.slidesPerView!==i.slidesPerView||d);d&&e&&this.changeDirection(),ar(this.params,c),ar(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=a,this.emit("_beforeBreakpoint",c),f&&e&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(t-r+this.loopedSlides,0,!1)),this.emit("breakpoint",c)}}},getBreakpoint:function(t,e,n){if(void 0===e&&(e="window"),t&&("container"!==e||n)){var r=!1,i=Vn(),o="window"===e?i.innerWidth:n.clientWidth,s="window"===e?i.innerHeight:n.clientHeight,a=Object.keys(t).map((function(t){if("string"==typeof t&&0===t.indexOf("@")){var e=parseFloat(t.substr(1));return{value:s*e,point:t}}return{value:t,point:t}}));a.sort((function(t,e){return parseInt(t.value,10)-parseInt(e.value,10)}));for(var u=0;u<a.length;u+=1){var c=a[u];c.value<=o&&(r=c.point)}return r||"max"}}},checkOverflow:{checkOverflow:function(){var t=this.params,e=this.isLocked,n=this.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;this.isLocked=t.slidesOffsetBefore&&t.slidesOffsetAfter&&n?n<=this.size:1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,e!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),e&&e!==this.isLocked&&(this.isEnd=!1,this.navigation&&this.navigation.update())}},classes:{addClasses:function(){var t,e,n=this.classNames,r=this.params,i=this.$el,o=this.device,s=this.support,a=(t=r.containerModifierClass,e=[],["initialized",r.direction,{"pointer-events":s.pointerEvents&&!s.touch},{"free-mode":r.freeMode},{autoheight:r.autoHeight},{rtl:this.rtl},{multirow:r.slidesPerColumn>1},{"multirow-column":r.slidesPerColumn>1&&"column"===r.slidesPerColumnFill},{android:o.android},{ios:o.ios},{"css-mode":r.cssMode}].forEach((function(n){"object"==typeof n?Object.keys(n).forEach((function(r){n[r]&&e.push(t+r)})):"string"==typeof n&&e.push(t+n)})),e);n.push.apply(n,a),i.addClass([].concat(n).join(" ")),this.emitContainerClasses()},removeClasses:function(){this.$el.removeClass(this.classNames.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(t,e,n,r,i,o){var s,a=Vn();function u(){o&&o()}rr(t).parent("picture")[0]||t.complete&&i?u():e?((s=new a.Image).onload=u,s.onerror=u,r&&(s.sizes=r),n&&(s.srcset=n),e&&(s.src=e)):u()},preloadImages:function(){var t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(var n=0;n<t.imagesToLoad.length;n+=1){var r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}}},xr={},Pr=function(){function t(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(e=i[0],n=i[1]),n||(n={}),n=ar({},n),e&&!n.el&&(n.el=e),n.el&&rr(n.el).length>1){var s=[];return rr(n.el).each((function(e){var r=ar({},n,{el:e});s.push(new t(r))})),s}var a=this;a.__swiper__=!0,a.support=cr(),a.device=lr({userAgent:n.userAgent}),a.browser=hr(),a.eventsListeners={},a.eventsAnyListeners=[],void 0===a.modules&&(a.modules={}),Object.keys(a.modules).forEach((function(t){var e=a.modules[t];if(e.params){var r=Object.keys(e.params)[0],i=e.params[r];if("object"!=typeof i||null===i)return;if(!(r in n)||!("enabled"in i))return;!0===n[r]&&(n[r]={enabled:!0}),"object"!=typeof n[r]||"enabled"in n[r]||(n[r].enabled=!0),n[r]||(n[r]={enabled:!1})}}));var u,c,l=ar({},Tr);return a.useParams(l),a.params=ar({},l,xr,n),a.originalParams=ar({},a.params),a.passedParams=ar({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach((function(t){a.on(t,a.params.on[t])})),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=rr,ar(a,{el:e,classNames:[],slides:rr(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===a.params.direction},isVertical:function(){return"vertical"===a.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:(u=["touchstart","touchmove","touchend","touchcancel"],c=["mousedown","mousemove","mouseup"],a.support.pointerEvents&&(c=["pointerdown","pointermove","pointerup"]),a.touchEventsTouch={start:u[0],move:u[1],end:u[2],cancel:u[3]},a.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:or(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.useModules(),a.emit("_swiper"),a.params.init&&a.init(),a}var e,n,r=t.prototype;return r.setProgress=function(t,e){t=Math.min(Math.max(t,0),1);var n=this.minTranslate(),r=this.maxTranslate();this.translateTo((r-n)*t+n,void 0===e?0:e),this.updateActiveIndex(),this.updateSlidesClasses()},r.emitContainerClasses=function(){var t=this;if(t.params._emitClasses&&t.el){var e=t.el.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-container")||0===e.indexOf(t.params.containerModifierClass)}));t.emit("_containerClasses",e.join(" "))}},r.getSlideClasses=function(t){var e=this;return t.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass)})).join(" ")},r.emitSlidesClasses=function(){var t=this;if(t.params._emitClasses&&t.el){var e=[];t.slides.each((function(n){var r=t.getSlideClasses(n);e.push({slideEl:n,classNames:r}),t.emit("_slideClass",n,r)})),t.emit("_slideClasses",e)}},r.slidesPerViewDynamic=function(){var t=this.slides,e=this.slidesGrid,n=this.size,r=this.activeIndex,i=1;if(this.params.centeredSlides){for(var o,s=t[r].swiperSlideSize,a=r+1;a<t.length;a+=1)t[a]&&!o&&(i+=1,(s+=t[a].swiperSlideSize)>n&&(o=!0));for(var u=r-1;u>=0;u-=1)t[u]&&!o&&(i+=1,(s+=t[u].swiperSlideSize)>n&&(o=!0))}else for(var c=r+1;c<t.length;c+=1)e[c]-e[r]<n&&(i+=1);return i},r.update=function(){var t=this;if(t&&!t.destroyed){var e=t.snapGrid,n=t.params;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(r(),t.params.autoHeight&&t.updateAutoHeight()):t.slideTo(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0)||r(),n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}function r(){var e=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(e),t.updateActiveIndex(),t.updateSlidesClasses()}},r.changeDirection=function(t,e){void 0===e&&(e=!0);var n=this.params.direction;return t||(t="horizontal"===n?"vertical":"horizontal"),t===n||"horizontal"!==t&&"vertical"!==t||(this.$el.removeClass(""+this.params.containerModifierClass+n).addClass(""+this.params.containerModifierClass+t),this.emitContainerClasses(),this.params.direction=t,this.slides.each((function(e){"vertical"===t?e.style.width="":e.style.height=""})),this.emit("changeDirection"),e&&this.update()),this},r.mount=function(t){if(this.mounted)return!0;var e,n=rr(t||this.params.el);return!!(t=n[0])&&(t.swiper=this,t&&t.shadowRoot&&t.shadowRoot.querySelector?(e=rr(t.shadowRoot.querySelector("."+this.params.wrapperClass))).children=function(t){return n.children(t)}:e=n.children("."+this.params.wrapperClass),ar(this,{$el:n,el:t,$wrapperEl:e,wrapperEl:e[0],mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===this.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===e.css("display")}),!0)},r.init=function(t){return this.initialized||!1===this.mount(t)||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.slideTo(this.params.loop?this.params.initialSlide+this.loopedSlides:this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"),this.emit("afterInit")),this},r.destroy=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var n,r=this,i=r.params,o=r.$el,s=r.$wrapperEl,a=r.slides;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),e&&(r.removeClasses(),o.removeAttr("style"),s.removeAttr("style"),a&&a.length&&a.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach((function(t){r.off(t)})),!1!==t&&(r.$el[0].swiper=null,n=r,Object.keys(n).forEach((function(t){try{n[t]=null}catch(CS){}try{delete n[t]}catch(CS){}}))),r.destroyed=!0),null},t.extendDefaults=function(t){ar(xr,t)},t.installModule=function(e){t.prototype.modules||(t.prototype.modules={});var n=e.name||Object.keys(t.prototype.modules).length+"_"+or();t.prototype.modules[n]=e},t.use=function(e){return Array.isArray(e)?(e.forEach((function(e){return t.installModule(e)})),t):(t.installModule(e),t)},e=t,(n=[{key:"extendedDefaults",get:function(){return xr}},{key:"defaults",get:function(){return Tr}}])&&Cr(e,n),t}();Object.keys(Or).forEach((function(t){Object.keys(Or[t]).forEach((function(e){Pr.prototype[e]=Or[t][e]}))})),Pr.use([dr,mr]);var Ir=Pr,kr=n("XNiG"),Ar=n("LRne");let Mr=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[M]]}),t})();var Nr=n("Cfvw"),Rr=n("9ppp");class Dr extends kr.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Rr.a;return this._value}next(t){super.next(this._value=t)}}var jr=n("HDdC");const Lr=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Fr=n("z+Ro"),Ur=n("DH7j"),qr=n("l7GE"),Vr=n("ZUHj"),zr=n("yCtX");const Br={};class Hr{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Gr(t,this.resultSelector))}}class Gr extends qr.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Br),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Vr.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Br?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var $r=n("EY2u");function Kr(t){return new jr.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Nr.a)(n):Object($r.b)()).subscribe(e)})}var Wr=n("lJxs"),Qr=n("bHdf");function Yr(){return Object(Qr.a)(1)}var Xr=n("7o/Q");function Jr(t,e){return function(n){return n.lift(new Zr(t,e))}}class Zr{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ti(t,this.predicate,this.thisArg))}}class ti extends Xr.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const ei=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ni(t){return function(e){return 0===t?Object($r.b)():e.lift(new ri(t))}}class ri{constructor(t){if(this.total=t,this.total<0)throw new ei}call(t,e){return e.subscribe(new ii(t,this.total))}}class ii extends Xr.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function oi(t=ui){return e=>e.lift(new si(t))}class si{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ai(t,this.errorFactory))}}class ai extends Xr.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(CS){t=CS}this.destination.error(t)}}}function ui(){return new Lr}function ci(t=null){return e=>e.lift(new li(t))}class li{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new hi(t,this.defaultValue))}}class hi extends Xr.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var di=n("SpAZ");function fi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jr((e,n)=>t(e,n,r)):di.a,ni(1),n?ci(e):oi(()=>new Lr))}var pi=n("51Dv");function mi(t){return function(e){const n=new gi(t),r=e.lift(n);return n.caught=r}}class gi{constructor(t){this.selector=t}call(t,e){return e.subscribe(new yi(t,this.selector,this.caught))}}class yi extends qr.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new pi.a(this,void 0,void 0);this.add(r);const i=Object(Vr.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function vi(t){return e=>0===t?Object($r.b)():e.lift(new bi(t))}class bi{constructor(t){if(this.total=t,this.total<0)throw new ei}call(t,e){return e.subscribe(new wi(t,this.total))}}class wi extends Xr.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function _i(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jr((e,n)=>t(e,n,r)):di.a,vi(1),n?ci(e):oi(()=>new Lr))}var Si=n("5+tZ");class Ei{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Ti(t,this.predicate,this.thisArg,this.source))}}class Ti extends Xr.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ci(t,e){return"function"==typeof e?n=>n.pipe(Ci((n,r)=>Object(Nr.a)(t(n,r)).pipe(Object(Wr.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Oi(t))}class Oi{constructor(t){this.project=t}call(t,e){return e.subscribe(new xi(t,this.project))}}class xi extends qr.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new pi.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Vr.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Pi(...t){return Yr()(Object(Ar.a)(...t))}function Ii(...t){const e=t[t.length-1];return Object(Fr.a)(e)?(t.pop(),n=>Pi(t,n,e)):e=>Pi(t,e)}function ki(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ai(t,e,n))}}class Ai{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Mi(t,this.accumulator,this.seed,this.hasSeed))}}class Mi extends Xr.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ni(t,e){return Object(Si.a)(t,e,1)}var Ri=n("mCNh"),Di=n("vkgz"),ji=n("quSY");class Li{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Fi(t,this.callback))}}class Fi extends Xr.a{constructor(t,e){super(t),this.add(new ji.a(e))}}class Ui{constructor(t,e){this.id=t,this.url=e}}class qi extends Ui{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends Ui{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zi extends Ui{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bi extends Ui{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hi extends Ui{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends Ui{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $i extends Ui{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ki extends Ui{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wi extends Ui{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yi{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xi{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eo{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let no=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[aa]},encapsulation:2}),t})();class ro{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function io(t){return new ro(t)}function oo(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function so(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class ao{constructor(t,e){this.routes=t,this.module=e}}function uo(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];co(r,lo(e,r))}}function co(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&uo(t.children,e)}function lo(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ho(t){const e=t.children&&t.children.map(ho),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=no),n}function fo(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!po(t[i],e[i]))return!1;return!0}function po(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function mo(t){return Array.prototype.concat.apply([],t)}function go(t){return t.length>0?t[t.length-1]:null}function yo(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function vo(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(Nr.a)(Promise.resolve(t)):Object(Ar.a)(t)}function bo(t,e,n){return n?function(t,e){return fo(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Eo(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>po(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Eo(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Eo(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Eo(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class wo{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=io(this.queryParams)),this._queryParamMap}toString(){return xo.serialize(this)}}class _o{constructor(t,e){this.segments=t,this.children=e,this.parent=null,yo(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Po(this)}}class So{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=io(this.parameters)),this._parameterMap}toString(){return Ro(this)}}function Eo(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function To(t,e){let n=[];return yo(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),yo(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Co{}class Oo{parse(t){const e=new Uo(t);return new wo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Po(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return yo(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=To(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${Po(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ko(e)}=${ko(t)}`).join("&"):`${ko(e)}=${ko(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const xo=new Oo;function Po(t){return t.segments.map(t=>Ro(t)).join("/")}function Io(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ko(t){return Io(t).replace(/%3B/gi,";")}function Ao(t){return Io(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mo(t){return decodeURIComponent(t)}function No(t){return Mo(t.replace(/\+/g,"%20"))}function Ro(t){return`${Ao(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Ao(t)}=${Ao(e[t])}`).join("")}`;var e}const Do=/^[^\/()?;=#]+/;function jo(t){const e=t.match(Do);return e?e[0]:""}const Lo=/^[^=?&#]+/,Fo=/^[^?&#]+/;class Uo{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _o([],{}):new _o([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new _o(t,e)),n}parseSegment(){const t=jo(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new So(Mo(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=jo(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=jo(this.remaining);t&&(n=t,this.capture(n))}t[Mo(e)]=Mo(n)}parseQueryParam(t){const e=function(t){const e=t.match(Lo);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Fo);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=No(e),i=No(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=jo(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new _o([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class qo{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Vo(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Vo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=zo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return zo(t,this._root).map(t=>t.value)}}function Vo(t,e){if(t===e.value)return e;for(const n of e.children){const e=Vo(t,n);if(e)return e}return null}function zo(t,e){if(t===e.value)return[e];for(const n of e.children){const r=zo(t,n);if(r.length)return r.unshift(e),r}return[]}class Bo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ho(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Go extends qo{constructor(t,e){super(t),this.snapshot=e,Xo(this,t)}toString(){return this.snapshot.toString()}}function $o(t,e){const n=function(t,e){const n=new Qo([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Yo("",new Bo(n,[]))}(t,e),r=new Dr([new So("",{})]),i=new Dr({}),o=new Dr({}),s=new Dr({}),a=new Dr(""),u=new Ko(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Go(new Bo(u,[]),n)}class Ko{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Wr.a)(t=>io(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Wr.a)(t=>io(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wo(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Qo{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=io(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=io(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yo extends qo{constructor(t,e){super(e),this.url=t,Xo(this,e)}toString(){return Jo(this._root)}}function Xo(t,e){e.value._routerState=t,e.children.forEach(e=>Xo(t,e))}function Jo(t){const e=t.children.length>0?` { ${t.children.map(Jo).join(", ")} } `:"";return`${t.value}${e}`}function Zo(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fo(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),fo(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),fo(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ts(t,e){return fo(t.params,e.params)&&function(t,e){return Eo(t,e)&&t.every((t,n)=>fo(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ts(t.parent,e.parent))}function es(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ns(t,e,n,r,i){let o={};return r&&yo(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new wo(n.root===t?e:function t(e,n,r){const i={};return yo(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new _o(e.segments,i)}(n.root,t,e),o,i)}class rs{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&es(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==go(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class is{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function os(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function ss(t,e,n){if(t||(t=new _o([],{})),0===t.segments.length&&t.hasChildren())return as(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=os(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!hs(s,a,e))return o;r+=2}else{if(!hs(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new _o(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new _o(t.segments.slice(r.pathIndex),t.children),as(e,0,i)}return r.match&&0===i.length?new _o(t.segments,{}):r.match&&!t.hasChildren()?us(t,e,n):r.match?as(t,0,i):us(t,e,n)}function as(t,e,n){if(0===n.length)return new _o(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return yo(r,(n,r)=>{null!==n&&(i[r]=ss(t.children[r],e,n))}),yo(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new _o(t.segments,i)}}function us(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=cs(n[i].outlets);return new _o(r,t)}if(0===i&&es(n[0])){r.push(new So(t.segments[e].path,n[0])),i++;continue}const o=os(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&es(s)?(r.push(new So(o,ls(s))),i+=2):(r.push(new So(o,{})),i++)}return new _o(r,{})}function cs(t){const e={};return yo(t,(t,n)=>{null!==t&&(e[n]=us(new _o([],{}),0,t))}),e}function ls(t){const e={};return yo(t,(t,n)=>e[n]=""+t),e}function hs(t,e,n){return t==n.path&&fo(e,n.parameters)}class ds{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Zo(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ho(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),yo(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Ho(t),i=t.value.component?n.children:e;yo(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Ho(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new to(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ji(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Zo(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),fs(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function fs(t){Zo(t.value),t.children.forEach(fs)}function ps(t){return"function"==typeof t}function ms(t){return t instanceof wo}class gs{constructor(t){this.segmentGroup=t||null}}class ys{constructor(t){this.urlTree=t}}function vs(t){return new jr.a(e=>e.error(new gs(t)))}function bs(t){return new jr.a(e=>e.error(new ys(t)))}function ws(t){return new jr.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class _s{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Wr.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(mi(t=>{if(t instanceof ys)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof gs)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Wr.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(mi(t=>{if(t instanceof gs)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new _o([],{primary:t}):t;return new wo(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Wr.a)(t=>new _o([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ar.a)({});const n=[],r=[],i={};return yo(t,(t,o)=>{const s=e(o,t).pipe(Object(Wr.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),Ar.a.apply(null,n.concat(r)).pipe(Yr(),fi(),Object(Wr.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(Ar.a)(...n).pipe(Object(Wr.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(mi(t=>{if(t instanceof gs)return Object(Ar.a)(null);throw t}))),Yr(),_i(t=>!!t),mi((t,n)=>{if(t instanceof Lr||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ar.a)(new _o([],{}));throw new gs(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Cs(r)!==o?vs(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):vs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?bs(i):this.lineralizeSegments(n,i).pipe(Object(Si.a)(n=>{const i=new _o(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ss(e,r,i);if(!s)return vs(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?bs(l):this.lineralizeSegments(r,l).pipe(Object(Si.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Wr.a)(t=>(n._loadedConfig=t,new _o(r,{})))):Object(Ar.a)(new _o(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Ss(e,n,r);if(!i)return vs(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Si.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ts(t,e,n)&&"primary"!==Cs(n))}(t,n,r)?{segmentGroup:Es(new _o(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Cs(r)&&(n[Cs(r)]=new _o([],{}));return n}(r,new _o(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ts(t,e,n))}(t,n,r)?{segmentGroup:Es(new _o(t.segments,function(t,e,n,r){const i={};for(const o of n)Ts(t,e,o)&&!r[Cs(o)]&&(i[Cs(o)]=new _o([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Wr.a)(t=>new _o(o,t))):0===r.length&&0===s.length?Object(Ar.a)(new _o(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(Wr.a)(t=>new _o(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ar.a)(new ao(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ar.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(Nr.a)(r).pipe(Object(Wr.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&ps(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ps(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return vo(o)})).pipe(Yr(),(i=t=>!0===t,t=>t.lift(new Ei(i,void 0,t)))):Object(Ar.a)(!0);var i}(t.injector,e,n).pipe(Object(Si.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Wr.a)(t=>(e._loadedConfig=t,t))):function(t){return new jr.a(e=>e.error(oo(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ar.a)(new ao([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ar.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ws(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new wo(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return yo(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return yo(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new _o(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ss(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||so)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Es(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new _o(t.segments.concat(e.segments),e.children)}return t}function Ts(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Cs(t){return t.outlet||"primary"}class Os{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xs{constructor(t,e){this.component=t,this.route=e}}function Ps(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ho(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Eo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Eo(t.url,e.url)||!fo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ts(t,e)||!fo(t.queryParams,e.queryParams);case"paramsChange":default:return!ts(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Os(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new xs(u&&u.outlet&&u.outlet.component||null,a))}else a&&ks(n,u,o),o.canActivateChecks.push(new Os(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),yo(s,(t,e)=>ks(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Is(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ks(t,e,n){const r=Ho(t),i=t.value;yo(r,(t,r)=>{ks(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new xs(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const As=Symbol("INITIAL_VALUE");function Ms(){return Ci(t=>function(...t){let e=null,n=null;return Object(Fr.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ur.a)(t[0])&&(t=t[0]),Object(zr.a)(t,n).lift(new Hr(e))}(...t.map(t=>t.pipe(vi(1),Ii(As)))).pipe(ki((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==As)return t;if(r===As&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ms(r))return r}return t},t)},As),Jr(t=>t!==As),Object(Wr.a)(t=>ms(t)?t:!0===t),vi(1)))}function Ns(t,e){return null!==t&&e&&e(new Zi(t)),Object(Ar.a)(!0)}function Rs(t,e){return null!==t&&e&&e(new Xi(t)),Object(Ar.a)(!0)}function Ds(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ar.a)(!0);const i=r.map(r=>Kr(()=>{const i=Is(r,e,n);let o;if(function(t){return t&&ps(t.canActivate)}(i))o=vo(i.canActivate(e,t));else{if(!ps(i))throw new Error("Invalid CanActivate guard");o=vo(i(e,t))}return o.pipe(_i())}));return Object(Ar.a)(i).pipe(Ms())}function js(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Kr(()=>{const i=e.guards.map(i=>{const o=Is(i,e.node,n);let s;if(function(t){return t&&ps(t.canActivateChild)}(o))s=vo(o.canActivateChild(r,t));else{if(!ps(o))throw new Error("Invalid CanActivateChild guard");s=vo(o(r,t))}return s.pipe(_i())});return Object(Ar.a)(i).pipe(Ms())}));return Object(Ar.a)(i).pipe(Ms())}class Ls{}class Fs{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Vs(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Qo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Bo(n,e),i=new Yo(this.url,r);return this.inheritParamsAndData(i._root),Object(Ar.a)(i)}catch(CS){return new jr.a(e=>e.error(CS))}}inheritParamsAndData(t){const e=t.value,n=Wo(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=To(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(CS){if(!(CS instanceof Ls))throw CS}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ls}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Ls;if((t.outlet||"primary")!==r)throw new Ls;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?go(n).parameters:{};i=new Qo(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hs(t),r,t.component,t,Us(e),qs(e)+n.length,Gs(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ls;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||so)(n,t,e);if(!r)throw new Ls;const i={};yo(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Qo(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hs(t),r,t.component,t,Us(e),qs(e)+o.length,Gs(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Vs(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Bo(i,t)]}if(0===a.length&&0===c.length)return[new Bo(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Bo(i,l)]}}function Us(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qs(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Vs(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>zs(t,e,n)&&"primary"!==Bs(n))}(t,n,r)){const i=new _o(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Bs(o)){const n=new _o([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Bs(o)]=n}return i}(t,e,r,new _o(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>zs(t,e,n))}(t,n,r)){const o=new _o(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(zs(t,n,a)&&!i[Bs(a)]){const n=new _o([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Bs(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new _o(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function zs(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Bs(t){return t.outlet||"primary"}function Hs(t){return t.data||{}}function Gs(t){return t.resolve||{}}function $s(t,e,n,r){const i=Is(t,e,r);return vo(i.resolve?i.resolve(e,n):i(e,n))}function Ks(t){return function(e){return e.pipe(Ci(e=>{const n=t(e);return n?Object(Nr.a)(n).pipe(Object(Wr.a)(()=>e)):Object(Nr.a)([e])}))}}class Ws{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Qs=new r.q("ROUTES");class Ys{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Wr.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new ao(mo(r.injector.get(Qs)).map(ho),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Nr.a)(this.loader.load(t)):vo(t()).pipe(Object(Si.a)(t=>t instanceof r.v?Object(Ar.a)(t):Object(Nr.a)(this.compiler.compileModuleAsync(t))))}}class Xs{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Js(t){throw t}function Zs(t,e,n){return e.parse("/")}function ta(t,e){return Object(Ar.a)(null)}let ea=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new kr.a,this.errorHandler=Js,this.malformedUriErrorHandler=Zs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ta,afterPreactivation:ta},this.urlHandlingStrategy=new Xs,this.routeReuseStrategy=new Ws,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.W);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new wo(new _o([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ys(s,a,t=>this.triggerEvent(new Qi(t)),t=>this.triggerEvent(new Yi(t))),this.routerState=$o(this.currentUrlTree,this.rootComponentType),this.transitions=new Dr({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Jr(t=>0!==t.id),Object(Wr.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ci(t=>{let n=!1,r=!1;return Object(Ar.a)(t).pipe(Object(Di.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ci(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ar.a)(t).pipe(Ci(t=>{const n=this.transitions.getValue();return e.next(new qi(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?$r.a:[t]}),Ci(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Ci(t=>function(t,e,n,r,i){return new _s(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Wr.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Di.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Si.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Fs(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Wr.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Di.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Di.a)(t=>{const n=new Hi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new qi(n,this.serializeUrl(r),i,o);e.next(a);const u=$o(r,this.rootComponentType).snapshot;return Object(Ar.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),$r.a}),Ks(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Di.a)(t=>{const e=new Gi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Wr.a)(t=>Object.assign(Object.assign({},t),{guards:Ps(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Si.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ar.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Nr.a)(t).pipe(Object(Si.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ar.a)(!0);const s=o.map(o=>{const s=Is(o,e,i);let a;if(function(t){return t&&ps(t.canDeactivate)}(s))a=vo(s.canDeactivate(t,e,n,r));else{if(!ps(s))throw new Error("Invalid CanDeactivate guard");a=vo(s(t,e,n,r))}return a.pipe(_i())});return Object(Ar.a)(s).pipe(Ms())}(t.component,t.route,n,e,r)),_i(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Si.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Nr.a)(e).pipe(Ni(e=>Object(Nr.a)([Rs(e.route.parent,r),Ns(e.route,r),js(t,e.path,n),Ds(t,e.route,n)]).pipe(Yr(),_i(t=>!0!==t,!0))),_i(t=>!0!==t,!0))}(r,o,t,e):Object(Ar.a)(n)),Object(Wr.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Di.a)(t=>{if(ms(t.guardsResult)){const e=oo(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Di.a)(t=>{const e=new $i(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Jr(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new zi(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ks(t=>{if(t.guards.canActivateChecks.length)return Object(Ar.a)(t).pipe(Object(Di.a)(t=>{const e=new Ki(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(Si.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(Nr.a)(i).pipe(Ni(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ar.a)({});if(1===i.length){const o=i[0];return $s(t[o],e,n,r).pipe(Object(Wr.a)(t=>({[o]:t})))}const o={};return Object(Nr.a)(i).pipe(Object(Si.a)(i=>$s(t[i],e,n,r).pipe(Object(Wr.a)(t=>(o[i]=t,t))))).pipe(fi(),Object(Wr.a)(()=>o))}(t._resolve,t,e,r).pipe(Object(Wr.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Wo(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(Ri.a)(ki(t,e),ni(1),ci(e))(n)}:function(e){return Object(Ri.a)(ki((e,n,r)=>t(e,n,r+1)),ni(1))(e)}}((t,e)=>t),Object(Wr.a)(e=>t)):Object(Ar.a)(t)}))}),Object(Di.a)(t=>{const e=new Wi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Ks(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Wr.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Bo(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Ko(new Dr((i=n.value).url),new Dr(i.params),new Dr(i.queryParams),new Dr(i.fragment),new Dr(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Bo(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Go(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Di.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Wr.a)(t=>(new ds(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Di.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new zi(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Li(i))),mi(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ms(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new zi(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Bi(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ep){t.reject(ep)}}var i;return $r.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){uo(t),this.config=t.map(ho),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.T)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ns(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new rs(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return yo(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new rs(n,e,r)}(n);if(o.toRoot())return ns(e.root,new _o([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new is(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new is(n.snapshot._urlSegment,!0,0);const r=es(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new is(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?as(s.segmentGroup,s.index,o.commands):ss(s.segmentGroup,s.index,o.commands);return ns(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.T)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ms(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(CS){e=this.malformedUriErrorHandler(CS,this.urlSerializer,t)}return e}isActive(t,e){if(ms(t))return bo(this.currentUrlTree,t,e);const n=this.parseUrl(t);return bo(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Vi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){r.Sb()},t.\u0275dir=r.Db({type:t}),t})(),na=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:ia(this.skipLocationChange),replaceUrl:ia(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ia(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ia(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ea),r.Ib(Ko),r.Qb("tabindex"),r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Tb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),ra=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Vi&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:ia(this.skipLocationChange),replaceUrl:ia(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ia(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ia(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ea),r.Ib(Ko),r.Ib(y))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Tb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Ob("href",e.href,r.gc),r.yb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function ia(t){return""===t||!!t}class oa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sa,this.attachRef=null}}class sa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new oa,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let aa=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ua(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(sa),r.Ib(r.O),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ua{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ko?this.route:t===sa?this.childContexts:this.parent.get(t,e)}}class ca{}class la{preload(t,e){return Object(Ar.a)(null)}}let ha=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ys(e,n,e=>t.triggerEvent(new Qi(e)),e=>t.triggerEvent(new Yi(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jr(t=>t instanceof Vi),Ni(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Nr.a)(n).pipe(Object(Qr.a)(),Object(Wr.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Si.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ea),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(ca))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),da=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof eo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new eo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){r.Sb()},t.\u0275dir=r.Db({type:t}),t})();const fa=new r.q("ROUTER_CONFIGURATION"),pa=new r.q("ROUTER_FORROOT_GUARD"),ma=[S,{provide:Co,useClass:Oo},{provide:ea,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new ea(null,t,e,n,r,i,o,mo(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Co,sa,S,r.r,r.w,r.i,Qs,fa,[class{},new r.A],[class{},new r.A]]},sa,{provide:Ko,useFactory:function(t){return t.routerState.root},deps:[ea]},{provide:r.w,useClass:r.J},ha,la,class{preload(t,e){return e().pipe(mi(()=>Object(Ar.a)(null)))}},{provide:fa,useValue:{enableTracing:!1}}];function ga(){return new r.y("Router",ea)}let ya=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ma,_a(e),{provide:pa,useFactory:wa,deps:[[ea,new r.A,new r.I]]},{provide:fa,useValue:n||{}},{provide:y,useFactory:ba,deps:[u,[new r.p(b),new r.A],fa]},{provide:da,useFactory:va,deps:[ea,D,fa]},{provide:ca,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:la},{provide:r.y,multi:!0,useFactory:ga},[Sa,{provide:r.d,multi:!0,useFactory:Ea,deps:[Sa]},{provide:Ca,useFactory:Ta,deps:[Sa]},{provide:r.b,multi:!0,useExisting:Ca}]]}}static forChild(e){return{ngModule:t,providers:[_a(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(pa,8),r.Pb(ea,8))}}),t})();function va(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new da(t,e,n)}function ba(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function wa(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function _a(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Qs,multi:!0,useValue:t}]}let Sa=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new kr.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ea),r=this.injector.get(fa);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ar.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(fa),n=this.injector.get(ha),i=this.injector.get(da),o=this.injector.get(ea),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function Ea(t){return t.appInitializer.bind(t)}function Ta(t){return t.bootstrapListener.bind(t)}const Ca=new r.q("Router Initializer");let Oa=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-document-creation-failure"]],decls:6,vars:0,consts:[["routerLink","/styles-selection",1,"primary-btn"]],template:function(t,e){1&t&&(r.Nb(0,"h1"),r.lc(1,"Oooops!"),r.Mb(),r.Nb(2,"p"),r.lc(3,"Something went wrong. Please Try again."),r.Mb(),r.Nb(4,"button",0),r.lc(5,"Try Again"),r.Mb())},directives:[na],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100%;background-color:#2b2d42;padding:2rem 1.5rem;box-sizing:border-box}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.3rem;color:#fff;font-family:ps-reg;font-weight:400;margin-bottom:1.5rem}[_nghost-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:m-reg;font-size:1.2rem;margin-bottom:.5rem}[_nghost-%COMP%]   button.primary-btn[_ngcontent-%COMP%]{width:100%;padding:1.2rem 0;font-size:1.5rem;margin-bottom:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%]   button.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}"]}),t})(),xa=(()=>{class t{constructor(t){this.activatedRoute=t,this.userEmail=""}ngOnInit(){this.userEmail=this.activatedRoute.snapshot.queryParamMap.get("userEmail")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ko))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-document-creation-success"]],decls:9,vars:1,consts:[["routerLink","/styles-selection",1,"primary-btn"]],template:function(t,e){1&t&&(r.Nb(0,"h1"),r.lc(1,"Thank You!"),r.Mb(),r.Nb(2,"p"),r.lc(3," We will send you pictures of your custom mug to "),r.Nb(4,"span"),r.lc(5),r.Mb(),r.lc(6," in about one day.\n"),r.Mb(),r.Nb(7,"button",0),r.lc(8," Create More Custom Mugs\n"),r.Mb()),2&t&&(r.xb(5),r.mc(e.userEmail||"your provided email address"))},directives:[na],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100%;background-color:#2b2d42;padding:2rem 1.5rem;box-sizing:border-box}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.3rem;color:#fff;font-family:ps-reg;font-weight:400;margin-bottom:1.5rem}[_nghost-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:m-reg;font-size:1.2rem;margin-bottom:.5rem}[_nghost-%COMP%] > p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:m-bold;color:inherit}[_nghost-%COMP%]   button.primary-btn[_ngcontent-%COMP%]{width:100%;padding:1.2rem 0;font-size:1.5rem;margin-bottom:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%]   button.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}"]}),t})();function Pa(){return(Pa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Ia={init:function(){var t=this.params.thumbs;if(this.thumbs.initialized)return!1;this.thumbs.initialized=!0;var e=this.constructor;return t.swiper instanceof e?(this.thumbs.swiper=t.swiper,ar(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),ar(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):sr(t.swiper)&&(this.thumbs.swiper=new e(ar({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0),this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass),this.thumbs.swiper.on("tap",this.thumbs.onThumbClick),!0},onThumbClick:function(){var t=this.thumbs.swiper;if(t){var e=t.clickedIndex,n=t.clickedSlide;if(!(n&&rr(n).hasClass(this.params.thumbs.slideThumbActiveClass)||null==e)){var r;if(r=t.params.loop?parseInt(rr(t.clickedSlide).attr("data-swiper-slide-index"),10):e,this.params.loop){var i=this.activeIndex;this.slides.eq(i).hasClass(this.params.slideDuplicateClass)&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,i=this.activeIndex);var o=this.slides.eq(i).prevAll('[data-swiper-slide-index="'+r+'"]').eq(0).index(),s=this.slides.eq(i).nextAll('[data-swiper-slide-index="'+r+'"]').eq(0).index();r=void 0===o?s:void 0===s?o:s-i<i-o?s:o}this.slideTo(r)}}},update:function(t){var e=this.thumbs.swiper;if(e){var n="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():e.params.slidesPerView,r=this.params.thumbs.autoScrollOffset,i=r&&!e.params.loop;if(this.realIndex!==e.realIndex||i){var o,s,a=e.activeIndex;if(e.params.loop){e.slides.eq(a).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,a=e.activeIndex);var u=e.slides.eq(a).prevAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index(),c=e.slides.eq(a).nextAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index();o=void 0===u?c:void 0===c?u:c-a==a-u?a:c-a<a-u?c:u,s=this.activeIndex>this.previousIndex?"next":"prev"}else s=(o=this.realIndex)>this.previousIndex?"next":"prev";i&&(o+="next"===s?r:-1*r),e.visibleSlidesIndexes&&e.visibleSlidesIndexes.indexOf(o)<0&&(e.params.centeredSlides?o=o>a?o-Math.floor(n/2)+1:o+Math.floor(n/2)-1:o>a&&(o=o-n+1),e.slideTo(o,t?0:void 0))}var l=1,h=this.params.thumbs.slideThumbActiveClass;if(this.params.slidesPerView>1&&!this.params.centeredSlides&&(l=this.params.slidesPerView),this.params.thumbs.multipleActiveThumbs||(l=1),l=Math.floor(l),e.slides.removeClass(h),e.params.loop||e.params.virtual&&e.params.virtual.enabled)for(var d=0;d<l;d+=1)e.$wrapperEl.children('[data-swiper-slide-index="'+(this.realIndex+d)+'"]').addClass(h);else for(var f=0;f<l;f+=1)e.slides.eq(this.realIndex+f).addClass(h)}}},ka={name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){ur(this,{thumbs:Pa({swiper:null,initialized:!1},Ia)})},on:{beforeInit:function(t){var e=t.params.thumbs;e&&e.swiper&&(t.thumbs.init(),t.thumbs.update(!0))},slideChange:function(t){t.thumbs.swiper&&t.thumbs.update()},update:function(t){t.thumbs.swiper&&t.thumbs.update()},resize:function(t){t.thumbs.swiper&&t.thumbs.update()},observerUpdate:function(t){t.thumbs.swiper&&t.thumbs.update()},setTransition:function(t,e){var n=t.thumbs.swiper;n&&n.setTransition(e)},beforeDestroy:function(t){var e=t.thumbs.swiper;e&&t.thumbs.swiperCreated&&e&&e.destroy()}}};function Aa(){return(Aa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Ma={LinearSpline:function(t,e){var n,r,i,o,s;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(s=function(t,e){for(r=-1,n=t.length;n-r>1;)t[i=n+r>>1]<=e?r=i:n=i;return n}(this.x,t),(t-this.x[o=s-1])*(this.y[s]-this.y[o])/(this.x[s]-this.x[o])+this.y[o]):0},this},getInterpolateFunction:function(t){this.controller.spline||(this.controller.spline=this.params.loop?new Ma.LinearSpline(this.slidesGrid,t.slidesGrid):new Ma.LinearSpline(this.snapGrid,t.snapGrid))},setTranslate:function(t,e){var n,r,i=this,o=i.controller.control,s=i.constructor;function a(t){var e=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(t),r=-i.controller.spline.interpolate(-e)),r&&"container"!==i.params.controller.by||(n=(t.maxTranslate()-t.minTranslate())/(i.maxTranslate()-i.minTranslate()),r=(e-i.minTranslate())*n+t.minTranslate()),i.params.controller.inverse&&(r=t.maxTranslate()-r),t.updateProgress(r),t.setTranslate(r,i),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(o))for(var u=0;u<o.length;u+=1)o[u]!==e&&o[u]instanceof s&&a(o[u]);else o instanceof s&&e!==o&&a(o)},setTransition:function(t,e){var n,r=this,i=r.constructor,o=r.controller.control;function s(e){e.setTransition(t,r),0!==t&&(e.transitionStart(),e.params.autoHeight&&ir((function(){e.updateAutoHeight()})),e.$wrapperEl.transitionEnd((function(){o&&(e.params.loop&&"slide"===r.params.controller.by&&e.loopFix(),e.transitionEnd())})))}if(Array.isArray(o))for(n=0;n<o.length;n+=1)o[n]!==e&&o[n]instanceof i&&s(o[n]);else o instanceof i&&e!==o&&s(o)}},Na={name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){ur(this,{controller:Aa({control:this.params.controller.control},Ma)})},on:{update:function(t){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)},resize:function(t){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)},observerUpdate:function(t){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)},setTranslate:function(t,e,n){t.controller.control&&t.controller.setTranslate(e,n)},setTransition:function(t,e,n){t.controller.control&&t.controller.setTransition(e,n)}}};function Ra(){return(Ra=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Da={run:function(){var t=this,e=t.slides.eq(t.activeIndex),n=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(n=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(t.autoplay.timeout),t.autoplay.timeout=ir((function(){var e;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),e=t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(e=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(e=t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),e=t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(e=t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(e=t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")),(t.params.cssMode&&t.autoplay.running||!1===e)&&t.autoplay.run()}),n)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(t){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,0!==t&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))},onVisibilityChange:function(){var t=Un();"hidden"===t.visibilityState&&this.autoplay.running&&this.autoplay.pause(),"visible"===t.visibilityState&&this.autoplay.paused&&(this.autoplay.run(),this.autoplay.paused=!1)},onTransitionEnd:function(t){this&&!this.destroyed&&this.$wrapperEl&&t.target===this.$wrapperEl[0]&&(this.$wrapperEl[0].removeEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].removeEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd),this.autoplay.paused=!1,this.autoplay.running?this.autoplay.run():this.autoplay.stop())}},ja={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){ur(this,{autoplay:Ra({},Da,{running:!1,paused:!1})})},on:{init:function(t){t.params.autoplay.enabled&&(t.autoplay.start(),Un().addEventListener("visibilitychange",t.autoplay.onVisibilityChange))},beforeTransitionStart:function(t,e,n){t.autoplay.running&&(n||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(e):t.autoplay.stop())},sliderFirstMove:function(t){t.autoplay.running&&(t.params.autoplay.disableOnInteraction?t.autoplay.stop():t.autoplay.pause())},touchEnd:function(t){t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&t.autoplay.run()},destroy:function(t){t.autoplay.running&&t.autoplay.stop(),Un().removeEventListener("visibilitychange",t.autoplay.onVisibilityChange)}}};function La(){return(La=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Fa={setTranslate:function(){var t,e=this.$el,n=this.$wrapperEl,r=this.slides,i=this.width,o=this.height,s=this.rtlTranslate,a=this.size,u=this.browser,c=this.params.cubeEffect,l=this.isHorizontal(),h=this.virtual&&this.params.virtual.enabled,d=0;c.shadow&&(l?(0===(t=n.find(".swiper-cube-shadow")).length&&(t=rr('<div class="swiper-cube-shadow"></div>'),n.append(t)),t.css({height:i+"px"})):0===(t=e.find(".swiper-cube-shadow")).length&&(t=rr('<div class="swiper-cube-shadow"></div>'),e.append(t)));for(var f=0;f<r.length;f+=1){var p=r.eq(f),m=f;h&&(m=parseInt(p.attr("data-swiper-slide-index"),10));var g=90*m,y=Math.floor(g/360);s&&(g=-g,y=Math.floor(-g/360));var v=Math.max(Math.min(p[0].progress,1),-1),b=0,w=0,_=0;if(m%4==0?(b=4*-y*a,_=0):(m-1)%4==0?(b=0,_=4*-y*a):(m-2)%4==0?(b=a+4*y*a,_=a):(m-3)%4==0&&(b=-a,_=3*a+4*a*y),s&&(b=-b),l||(w=b,b=0),v<=1&&v>-1&&(d=90*m+90*v,s&&(d=90*-m-90*v)),p.transform("rotateX("+(l?0:-g)+"deg) rotateY("+(l?g:0)+"deg) translate3d("+b+"px, "+w+"px, "+_+"px)"),c.slideShadows){var S=p.find(l?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),E=p.find(l?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===S.length&&(S=rr('<div class="swiper-slide-shadow-'+(l?"left":"top")+'"></div>'),p.append(S)),0===E.length&&(E=rr('<div class="swiper-slide-shadow-'+(l?"right":"bottom")+'"></div>'),p.append(E)),S.length&&(S[0].style.opacity=Math.max(-v,0)),E.length&&(E[0].style.opacity=Math.max(v,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -"+a/2+"px","-moz-transform-origin":"50% 50% -"+a/2+"px","-ms-transform-origin":"50% 50% -"+a/2+"px","transform-origin":"50% 50% -"+a/2+"px"}),c.shadow)if(l)t.transform("translate3d(0px, "+(i/2+c.shadowOffset)+"px, "+-i/2+"px) rotateX(90deg) rotateZ(0deg) scale("+c.shadowScale+")");else{var T=Math.abs(d)-90*Math.floor(Math.abs(d)/90),C=1.5-(Math.sin(2*T*Math.PI/360)/2+Math.cos(2*T*Math.PI/360)/2),O=c.shadowScale/C;t.transform("scale3d("+c.shadowScale+", 1, "+O+") translate3d(0px, "+(o/2+c.shadowOffset)+"px, "+-o/2/O+"px) rotateX(-90deg)")}n.transform("translate3d(0px,0,"+(u.isSafari||u.isWebView?-a/2:0)+"px) rotateX("+(this.isHorizontal()?0:d)+"deg) rotateY("+(this.isHorizontal()?-d:0)+"deg)")},setTransition:function(t){var e=this.$el;this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),this.params.cubeEffect.shadow&&!this.isHorizontal()&&e.find(".swiper-cube-shadow").transition(t)}};Ir.use([ka,Na,ja,{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){ur(this,{cubeEffect:La({},Fa)})},on:{beforeInit:function(t){if("cube"===t.params.effect){t.classNames.push(t.params.containerModifierClass+"cube"),t.classNames.push(t.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};ar(t.params,e),ar(t.originalParams,e)}},setTranslate:function(t){"cube"===t.params.effect&&t.cubeEffect.setTranslate()},setTransition:function(t,e){"cube"===t.params.effect&&t.cubeEffect.setTransition(e)}}}]);let Ua=(()=>{class t{constructor(){}ngOnInit(){this.initHeroSwiper()}initHeroSwiper(){new Ir(".swiper-hero",{slidesPerView:1,autoplay:{delay:4e3}})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-hero"]],decls:15,vars:0,consts:[[1,"container"],[1,"hero-box"],[1,"background"],["src","/assets/images/transparent_mug_mockup.png","alt","",1,"shadowed-img","animate__animated","animate__fadeInUp"],[1,"button-wrapper"],["routerLink","/styles-selection",1,"primary-btn"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"h1"),r.lc(4," artistic, "),r.Jb(5,"br"),r.Nb(6,"span"),r.Jb(7,"div"),r.lc(8," custom,"),r.Mb(),r.Jb(9,"br"),r.lc(10," & unique. "),r.Mb(),r.Jb(11,"img",3),r.Mb(),r.Mb(),r.Nb(12,"div",4),r.Nb(13,"button",5),r.lc(14," Choose Art-Style "),r.Mb(),r.Mb(),r.Mb())},directives:[na],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;box-sizing:border-box;padding-bottom:0;padding-top:0;justify-content:space-evenly;max-width:700px;margin-left:auto;margin-right:auto}.header[_ngcontent-%COMP%]{font-family:m-bold;font-size:3rem;text-align:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-box[_ngcontent-%COMP%]{width:100%}.hero-box[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{overflow:hidden;border-radius:50px;height:100%;width:100%;bottom:0;box-shadow:0 5px 20px rgba(75,76,115,.4117647058823529);background:#3d4062;background:linear-gradient(149deg,#3d4062,#161835 100%,#141633 0,#141633 0)}.hero-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-family:m-bold;padding-left:3rem;padding-top:3rem;font-size:3rem}.hero-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#ef233c;color:#fff;font-family:m-bold;box-sizing:border-box;position:relative;padding-right:1.2rem;border-radius:0 20px 20px 0}.hero-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;left:-3rem;background-color:#ef233c;width:3rem;height:100%}.hero-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;bottom:-4%;width:100%}.swiper-hero[_ngcontent-%COMP%]{width:100%;box-shadow:0 5px 20px rgba(75,76,115,.4117647058823529);border-radius:64px;padding:40px;box-sizing:border-box}.swiper-hero[_ngcontent-%COMP%]   .swiper-slide.blue-background[_ngcontent-%COMP%]{background:#3d4062;background:linear-gradient(149deg,#3d4062,#161835 100%,#141633 0,#141633 0);position:relative;overflow:unset}.swiper-hero[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   img#person-mockup[_ngcontent-%COMP%]{height:calc(100% + 50px);transform:translateY(-50px)}.swiper-hero[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   img#cat-mockup[_ngcontent-%COMP%]{height:100%}.primary-btn[_ngcontent-%COMP%]{font-size:2rem;padding-top:1.2rem;padding-bottom:1.2rem}"]}),t})(),qa=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-how-it-works"]],decls:26,vars:0,consts:[[1,"step"],["src","/assets/icons/dog_photo.svg","alt",""],["src","/assets/icons/thumbs_up.svg","alt",""],["src","/assets/icons/bag.svg","alt",""]],template:function(t,e){1&t&&(r.Nb(0,"h2"),r.lc(1,"How it works"),r.Mb(),r.Nb(2,"div",0),r.Jb(3,"img",1),r.Nb(4,"h3"),r.lc(5,"Upload Photo"),r.Mb(),r.Nb(6,"p"),r.lc(7," A well lit pet photo will work best"),r.Jb(8,"br"),r.lc(9," Blurry photos don't work well "),r.Mb(),r.Mb(),r.Nb(10,"div",0),r.Jb(11,"img",2),r.Nb(12,"h3"),r.lc(13,"Approve Art"),r.Mb(),r.Nb(14,"p"),r.lc(15," In about one day"),r.Jb(16,"br"),r.lc(17," you can approve your art "),r.Mb(),r.Mb(),r.Nb(18,"div",0),r.Jb(19,"img",3),r.Nb(20,"h3"),r.lc(21,"Order If You Like It"),r.Mb(),r.Nb(22,"p"),r.lc(23," Once you approved the art,"),r.Jb(24,"br"),r.lc(25," order your product "),r.Mb(),r.Mb())},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}h2[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem;text-align:center;font-family:m-bold;color:#2b2d42;font-size:2.5rem}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:6rem}.step[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.step[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%;margin-bottom:1.5rem}.step[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:m-bold;font-size:1.5rem;margin-bottom:.5rem}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}"]}),t})(),Va=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-custom-footer"]],decls:21,vars:0,consts:[[1,"contact-information"],[1,"social-media"],["href","https://www.instagram.com/petartai/","target","_blank"],["src","assets/logos/instagram-logo.svg","alt",""],["src","assets/logos/facebook-logo.svg","alt",""]],template:function(t,e){1&t&&(r.Nb(0,"footer"),r.Nb(1,"section",0),r.Nb(2,"h6"),r.lc(3,"Contact"),r.Mb(),r.Nb(4,"ul"),r.Nb(5,"li"),r.lc(6,"info@pet-ai.com"),r.Mb(),r.Nb(7,"li"),r.lc(8,"Stra\xdfburger Str. 56, 70435 Stuttgart, Germany"),r.Mb(),r.Mb(),r.Mb(),r.Nb(9,"section",1),r.Nb(10,"h6"),r.lc(11,"Social Media"),r.Mb(),r.Nb(12,"ul"),r.Nb(13,"li"),r.Nb(14,"a",2),r.Jb(15,"img",3),r.Mb(),r.Mb(),r.Nb(16,"li"),r.Nb(17,"a"),r.Jb(18,"img",4),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(19,"p"),r.lc(20,"\xa9 2021 PetAI"),r.Mb(),r.Mb())},styles:["footer[_ngcontent-%COMP%]{background-color:#2b2d42;display:flex;flex-direction:column;align-items:center;padding:2.5rem}footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1rem 0}footer[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:0}footer[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:0}footer[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}footer[_ngcontent-%COMP%] > section.contact-information[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{list-style-type:none}footer[_ngcontent-%COMP%] > section.contact-information[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{color:#ccc;font-family:m-reg;font-size:1rem;text-align:center}footer[_ngcontent-%COMP%] > section.social-media[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{list-style-type:none;display:flex;flex-direction:row;justify-content:center}footer[_ngcontent-%COMP%] > section.social-media[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block}footer[_ngcontent-%COMP%] > section.social-media[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;width:40px;height:40px}footer[_ngcontent-%COMP%] > section[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{color:#fff;font-family:m-bold;font-size:1rem;margin-bottom:.5rem;text-align:center}footer[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#ccc;font-family:m-reg;font-size:1rem}"]}),t})(),za=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:3,vars:0,template:function(t,e){1&t&&(r.Jb(0,"app-hero"),r.Jb(1,"app-how-it-works"),r.Jb(2,"app-custom-footer"))},directives:[Ua,qa,Va],styles:[""]}),t})();const Ba=[{id:"546d376f89e9f39e",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/newspaper.jpg",name:"Newspaper",mockupUrls:["/assets/images/mug-transparent/mug_mockup_newspaper.png","/assets/images/mug-background-mockups/mockup_newspaper_coco.png","/assets/images/mug-background-mockups/mockup_newspaper_miri.png"]},{id:"bd08a8f3025c3b93",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/sprinkle.jpg",name:"Sprinkle",mockupUrls:["/assets/images/mug-transparent/mug_mockup_sprinkle.png","/assets/images/mug-background-mockups/mockup_sprinkle_melli.png","/assets/images/mug-background-mockups/mockup_sprinkle_luna.png"]},{id:"56d9a4de476a54bd",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/modern_strokes.jpg",name:"Modern Strokes",mockupUrls:["/assets/images/mug-transparent/mug_mockup_modern-strokes.png","/assets/images/mug-background-mockups/mockup_modern-strokes_mono.png","/assets/images/mug-background-mockups/mockup_modern-strokes_noah.png"]},{id:"669611e3d06fc96e",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/abstract.jpg",name:"Abstract",mockupUrls:["/assets/images/mug-transparent/mug_mockup_abstract.png","/assets/images/mug-background-mockups/mockup_abstract_emma.png","/assets/images/mug-background-mockups/mockup_abstract_rosi.png"]},{id:"6b2a7f5cbc459bad",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/blue_monsoon.jpg",name:"Blue Monsoon",mockupUrls:["/assets/images/mug-transparent/mug_mockup_blue-monsoon.png","/assets/images/mug-background-mockups/mockup_blue-monsoon_luna.png","/assets/images/mug-background-mockups/mockup_blue-monsoon_pacho.png"]}];let Ha=(()=>{class t{constructor(){}clearState(){this.state=void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();Ir.use([ka,Na]);let Ga=(()=>{class t{constructor(){this.isDescriptionActive=!0}ngOnInit(){this.initDescriptionSwiper()}initDescriptionSwiper(){this.descriptionSwiper=new Ir(".swiper-product-info",{slidesPerView:1,allowTouchMove:!1})}toggleTo(t){this.isDescriptionActive=0==t,this.descriptionSwiper.slideTo(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-description-swiper"]],decls:43,vars:4,consts:[[1,"toggle"],[3,"click"],[1,"swiper-container","swiper-product-info"],[1,"swiper-wrapper"],[1,"container","swiper-slide","description"],[1,"container","swiper-slide","shipping"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"h4",1),r.Tb("click",(function(){return e.toggleTo(0)})),r.lc(2," Description "),r.Mb(),r.Nb(3,"h4",1),r.Tb("click",(function(){return e.toggleTo(1)})),r.lc(4,"Shipping"),r.Mb(),r.Mb(),r.Nb(5,"div",2),r.Nb(6,"div",3),r.Nb(7,"div",4),r.Nb(8,"p"),r.lc(9," \u{1f468}\u200d\u{1f3a8} Our artists design your custom pet artwork with love, care and attention. Capturing your pet's unique personality and facial expression, and turning your pet photo into an incredible one of a kind pet art, ready to show off to friends and family! "),r.Mb(),r.Nb(10,"p"),r.lc(11," \u2714\ufe0f You don't spend a single penny before you haven't approved the artwork. (This will take around one day after you have submitted your photo) "),r.Mb(),r.Nb(12,"p"),r.lc(13," \u2615 Our 11oz mugs are perfect for sipping your morning coffee or any drink while at your office or college desk. Seeing your pet\u2019s cute face will surely brighten up any stressful work day! "),r.Mb(),r.Nb(14,"ul"),r.Nb(15,"li"),r.lc(16," \u{1f602}\u{1f970} A conversation starter when friends and family come to visit "),r.Mb(),r.Nb(17,"li"),r.lc(18,"\u{1f3a8} Your pet portrait will be printed using never-fade ink"),r.Mb(),r.Nb(19,"li"),r.lc(20," \u{1f436}\u{1f431} Totally customised to your pet. Finally, a mug as unique as your pet\u2019s perfect face! "),r.Mb(),r.Mb(),r.Nb(21,"p"),r.lc(22," \u{1f381} Our customized pet mugs make the most thoughtful gifts to pet owners everywhere. Give away a gift that will create a brilliant memory. The unboxing and reaction experience is so heart-warming! "),r.Mb(),r.Nb(23,"h2"),r.lc(24,"How to get the preview"),r.Mb(),r.Nb(25,"ol"),r.Nb(26,"li"),r.lc(27,"Pick your art-style"),r.Mb(),r.Nb(28,"li"),r.lc(29,'Upload your pet photo using the "Upload Pet Photo" button'),r.Mb(),r.Nb(30,"li"),r.lc(31," Optionally enter your pet's name and birthmonth + year (if you want them to be additionally printed on the mug) "),r.Mb(),r.Nb(32,"li"),r.lc(33,"Submit your email where we should send the artwork to"),r.Mb(),r.Nb(34,"li"),r.lc(35," In about one day - approve your art and buy if you are happy with the outcome! "),r.Mb(),r.Mb(),r.Mb(),r.Nb(36,"div",5),r.Nb(37,"p"),r.lc(38,"\u{1f1fa}\u{1f1f8} Shipping in the USA is free"),r.Mb(),r.Nb(39,"p"),r.lc(40,"\u{1f30e} Outside the USA shipping will be max 4.99 $"),r.Mb(),r.Nb(41,"p"),r.lc(42,"\u2714\ufe0f You only pay after you have approved your art"),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.xb(1),r.Ab("active",e.isDescriptionActive),r.xb(2),r.Ab("active",!e.isDescriptionActive))},styles:["[_nghost-%COMP%]{background-color:#fff}.toggle[_ngcontent-%COMP%]{padding-top:3rem;display:flex;justify-content:center;padding-bottom:2rem}.toggle[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:m-bold;font-size:1.6rem;padding-bottom:.5rem;color:#2b2d42;margin-left:1rem;margin-right:1rem}.toggle[_ngcontent-%COMP%]   h4.active[_ngcontent-%COMP%]{border-bottom:2px solid #ef233c}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{box-sizing:border-box;padding-top:1.5rem}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2b2d42;margin-bottom:1rem}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#2b2d42;font-size:1.3rem;margin-bottom:1rem}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:inside;list-style-type:upper-roman}"]}),t})();function $a(t,e){if(1&t&&(r.Nb(0,"div",25),r.Nb(1,"div",26),r.Jb(2,"img",27),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.xb(2),r.cc("src",t,r.gc)}}Ir.use([ka,Na,ja]);let Ka=(()=>{class t{constructor(t,e,n){this.routerStateService=t,this.router=e,this.activatedRoute=n}ngOnInit(){const t=this.activatedRoute.snapshot.queryParamMap.get("styleImageId");if(!t)return void this.router.navigateByUrl("/styles-selection");const e=Ba.find(e=>e.id===t);e?(this.selectedStyleImage=e,this.initPreviewSwiper()):this.router.navigateByUrl("/styles-selection")}initPreviewSwiper(){new Ir(".swiper-preview",{slidesPerView:1,autoplay:{delay:4e3},observer:!0})}onSubmitForm(t){t.preventDefault(),this.routerStateService.state={petName:this.petName,petBirthMonth:this.petBirthMonth,selectedFile:this.selectedFile},this.router.navigate(["summary"],{queryParamsHandling:"preserve"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ha),r.Ib(ea),r.Ib(Ko))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-product-detail"]],decls:41,vars:5,consts:[[1,"back-arrow-container"],["routerLink","/styles-selection"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 12l9-8v6h15v4h-15v6z"],[1,"swiper-container","swiper-preview"],[1,"swiper-wrapper"],["class","swiper-slide",4,"ngFor","ngForOf"],[1,"header","container"],[1,"title-price"],[1,"product-title"],[1,"price"],[1,"style-price"],[1,"art-style"],["ngNativeValidate","",1,"personalisation-form","container",3,"submit"],[1,"form-group"],["for","pet-name"],["type","text","id","pet-name","placeholder","Lucky",3,"keyup"],["for","pet-birth-month"],["type","text","id","pet-birth-month","placeholder","April 2017",3,"keyup"],["for","pet-picture"],[1,"custom-file-input"],["type","file","id","pet-picture","accept","image/*","required","",3,"change"],["type","submit",1,"primary-btn"],[1,"transition-radius"],[1,"description"],[1,"swiper-slide"],[1,"square-ratio"],["alt","",1,"shadowed-img","animate__animated","animate__fadeInUp",3,"src"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"a",1),r.Wb(),r.Nb(2,"svg",2),r.Jb(3,"path",3),r.Mb(),r.Mb(),r.Mb(),r.Vb(),r.Nb(4,"div",4),r.Nb(5,"div",5),r.jc(6,$a,3,1,"div",6),r.Mb(),r.Mb(),r.Nb(7,"div",7),r.Nb(8,"div",8),r.Nb(9,"h2",9),r.lc(10,"Custom Mug"),r.Mb(),r.Nb(11,"p",10),r.lc(12,"19.99\u20ac"),r.Mb(),r.Mb(),r.Nb(13,"div",11),r.Nb(14,"h3",12),r.lc(15),r.Mb(),r.Mb(),r.Mb(),r.Nb(16,"form",13),r.Tb("submit",(function(t){return e.onSubmitForm(t)})),r.Nb(17,"h2"),r.lc(18,"Personalisation"),r.Mb(),r.Nb(19,"div",14),r.Nb(20,"label",15),r.lc(21,"Pet name (optional)"),r.Mb(),r.Nb(22,"input",16),r.Tb("keyup",(function(t){return e.petName=t.target.value})),r.Mb(),r.Mb(),r.Nb(23,"div",14),r.Nb(24,"label",17),r.lc(25,"Pet birthmonth + year (optional)"),r.Mb(),r.Nb(26,"input",18),r.Tb("keyup",(function(t){return e.petBirthMonth=t.target.value})),r.Mb(),r.Mb(),r.Nb(27,"div",14),r.Nb(28,"label",19),r.lc(29,"Pet picture"),r.Mb(),r.Nb(30,"div",20),r.Nb(31,"p"),r.lc(32),r.Mb(),r.Nb(33,"button"),r.lc(34,"Upload Pet Photo"),r.Mb(),r.Mb(),r.Nb(35,"input",21),r.Tb("change",(function(t){return e.selectedFile=t.target.files[0]})),r.Mb(),r.Mb(),r.Nb(36,"button",22),r.lc(37," Create Preview "),r.Mb(),r.Jb(38,"div",23),r.Mb(),r.Jb(39,"app-description-swiper",24),r.Jb(40,"app-custom-footer")),2&t&&(r.xb(6),r.cc("ngForOf",null==e.selectedStyleImage?null:e.selectedStyleImage.mockupUrls),r.xb(9),r.nc("",null==e.selectedStyleImage?null:e.selectedStyleImage.name," Style"),r.xb(17),r.mc(null==e.selectedFile?null:e.selectedFile.name),r.xb(4),r.Ab("disabled",!e.selectedFile))},directives:[ra,k,Ga,Va],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative}div.back-arrow-container[_ngcontent-%COMP%]{position:absolute;top:2rem;left:2rem;z-index:2}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;padding:.5rem}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;filter:drop-shadow(0 0 5px rgba(77,77,77,.5))}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#fff}.swiper-preview[_ngcontent-%COMP%]{width:100%;box-shadow:0 5px 20px rgba(75,76,115,.4117647058823529);background:#3d4062;background:linear-gradient(149deg,#3d4062,#161835 100%,#141633 0,#141633 0)}.swiper-preview[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{box-sizing:border-box}.swiper-preview[_ngcontent-%COMP%]   .square-ratio[_ngcontent-%COMP%]{padding-top:calc(100% + 40px)}.swiper-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;-o-object-fit:cover;object-fit:cover;margin:auto}.swiper-preview[_ngcontent-%COMP%]   img.transparent-background[_ngcontent-%COMP%]{width:80%;-o-object-fit:contain;object-fit:contain}.header[_ngcontent-%COMP%]{position:relative;z-index:10;border-radius:40px 40px 0 0;background-color:#fff;transform:translateY(-40px);padding-bottom:0}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:.5rem}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]   h2.product-title[_ngcontent-%COMP%]{font-family:pf-reg;font-weight:400;font-size:2.4rem}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:1.8rem;letter-spacing:1.9px;font-family:m-light}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.header[_ngcontent-%COMP%]   h3.art-style[_ngcontent-%COMP%]{font-family:m-bold;font-size:1.6rem}form.personalisation-form[_ngcontent-%COMP%]{border-radius:40px 40px 0 0;background-color:#2b2d42;padding-bottom:40px;position:relative}form.personalisation-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:pf-reg;color:#fff;font-weight:400;margin-bottom:2rem;font-size:1.7rem}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1.6rem;position:relative}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-size:1rem;margin-bottom:.8rem}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%], form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:42px;border:none;outline:none;border-radius:10px;padding-left:1.5rem;padding-right:1.5rem;color:#fff;background-color:#585b7e}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[type=file][_ngcontent-%COMP%], form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]::-moz-placeholder, form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#afafaf}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]::placeholder, form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#afafaf}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;padding-right:0}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#2b2d42;outline:none;color:#fff;border:1px solid #fff;height:100%;width:calc(50% + .725rem);border-radius:10px}.primary-btn[_ngcontent-%COMP%]{width:100%;padding-top:1.2rem;padding-bottom:1.2rem;font-size:1.5rem;margin-left:auto;margin-right:auto;margin-bottom:3rem;transition:opacity .25s ease-in-out}.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}.transition-radius[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:40px;border-radius:40px 40px 0 0;background-color:#fff;width:100%}app-custom-footer[_ngcontent-%COMP%]{margin-top:3.5rem}"]}),t})();const Wa=function(t){return{styleImageId:t}};function Qa(t,e){if(1&t&&(r.Nb(0,"div",7),r.Nb(1,"div",8),r.Jb(2,"img",9),r.Mb(),r.Nb(3,"h3",10),r.lc(4),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.xb(1),r.cc("queryParams",r.dc(3,Wa,t.id)),r.xb(1),r.cc("src",t.publicUrl,r.gc),r.xb(2),r.mc(t.name)}}let Ya=(()=>{class t{constructor(){this.styleImages=[]}ngOnInit(){this.styleImages=Ba}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-style-selection"]],decls:10,vars:1,consts:[[1,"back-arrow-container"],["routerLink","/"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 12l9-8v6h15v4h-15v6z"],[1,"container"],[1,"grid"],["class","style",4,"ngFor","ngForOf"],[1,"style"],["routerLink","/product-detail",1,"square-ratio",3,"queryParams"],["alt","",3,"src"],[1,"style-title"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"a",1),r.Wb(),r.Nb(2,"svg",2),r.Jb(3,"path",3),r.Mb(),r.Mb(),r.Mb(),r.Vb(),r.Nb(4,"header"),r.Nb(5,"h1"),r.lc(6,"Art-Styles"),r.Mb(),r.Mb(),r.Nb(7,"div",4),r.Nb(8,"div",5),r.jc(9,Qa,5,5,"div",6),r.Mb(),r.Mb()),2&t&&(r.xb(9),r.cc("ngForOf",e.styleImages))},directives:[ra,k,na],styles:["div.back-arrow-container[_ngcontent-%COMP%]{position:fixed;top:2rem;left:2rem;z-index:2}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;padding:.5rem}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#2b2d42}header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1;width:100%;display:flex;justify-content:center;background-color:#fff}header[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-family:m-bold;font-size:2rem;line-height:2rem;padding:calc(1.5rem + 12px)}div.container[_ngcontent-%COMP%]{padding-top:calc(5rem + 24px)}.header[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center;justify-content:center;position:relative;padding-top:1rem;padding-bottom:1rem;margin-bottom:2rem;position:sticky;top:0}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.grid[_ngcontent-%COMP%]   div.style[_ngcontent-%COMP%]{position:relative}.grid[_ngcontent-%COMP%]   div.style[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:40px;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:bottom;object-position:bottom}.grid[_ngcontent-%COMP%]   div.style[_ngcontent-%COMP%]   h3.style-title[_ngcontent-%COMP%]{height:auto;color:#2b2d42;text-align:center;bottom:0;padding-top:1rem;padding-bottom:.5rem;width:100%;border-radius:30px;font-family:m-bold;font-weight:400}"]}),t})();var Xa;function Ja(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(CS){o(CS)}}function a(t){try{u(r.throw(t))}catch(CS){o(CS)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}var Za=new Uint8Array(16);function tu(){if(!Xa&&!(Xa="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xa(Za)}for(var eu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,nu=function(t){return"string"==typeof t&&eu.test(t)},ru=[],iu=0;iu<256;++iu)ru.push((iu+256).toString(16).substr(1));var ou=function(t,e,n){var r=(t=t||{}).random||(t.rng||tu)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ru[t[e+0]]+ru[t[e+1]]+ru[t[e+2]]+ru[t[e+3]]+"-"+ru[t[e+4]]+ru[t[e+5]]+"-"+ru[t[e+6]]+ru[t[e+7]]+"-"+ru[t[e+8]]+ru[t[e+9]]+"-"+ru[t[e+10]]+ru[t[e+11]]+ru[t[e+12]]+ru[t[e+13]]+ru[t[e+14]]+ru[t[e+15]]).toLowerCase();if(!nu(n))throw TypeError("Stringified UUID is invalid");return n}(r)},su=n("Jgta"),au=n("D0XW");function uu(){return t=>t.lift(new cu)}class cu{call(t,e){return e.subscribe(new lu(t))}}class lu extends Xr.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function hu(t,e){return n=>n.lift(new du(t,e))}class du{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new fu(t,this.compare,this.keySelector))}}class fu extends Xr.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var pu=n("pxpQ"),mu=n("spgP"),gu=n("zIRd"),yu=n("qOnz"),vu=n("q/0M"),bu=function(t,e){return(bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function wu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var _u,Su="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Eu=Eu||{},Tu=Su||self;function Cu(){}function Ou(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Pu="closure_uid_"+(1e9*Math.random()>>>0),Iu=0;function ku(t,e,n){return t.call.apply(t.bind,arguments)}function Au(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Mu(t,e,n){return(Mu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ku:Au).apply(null,arguments)}function Nu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ru(){return Date.now()}function Du(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ju(){this.j=this.j,this.i=this.i}ju.prototype.j=!1,ju.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Pu)&&t[Pu]||(t[Pu]=++Iu)}(this)},ju.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Lu=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Uu(t){return Array.prototype.concat.apply([],arguments)}function qu(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vu(t){return/^[\s\xa0]*$/.test(t)}var zu,Bu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Hu(t,e){return-1!=t.indexOf(e)}function Gu(t,e){return t<e?-1:t>e?1:0}t:{var $u=Tu.navigator;if($u){var Ku=$u.userAgent;if(Ku){zu=Ku;break t}}zu=""}function Wu(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Qu(t){var e={};for(var n in t)e[n]=t[n];return e}var Yu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xu(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Yu.length;o++)n=Yu[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ju(t){return Ju[" "](t),t}Ju[" "]=Cu;var Zu,tc,ec=Hu(zu,"Opera"),nc=Hu(zu,"Trident")||Hu(zu,"MSIE"),rc=Hu(zu,"Edge"),ic=rc||nc,oc=Hu(zu,"Gecko")&&!(Hu(zu.toLowerCase(),"webkit")&&!Hu(zu,"Edge"))&&!(Hu(zu,"Trident")||Hu(zu,"MSIE"))&&!Hu(zu,"Edge"),sc=Hu(zu.toLowerCase(),"webkit")&&!Hu(zu,"Edge");function ac(){var t=Tu.document;return t?t.documentMode:void 0}t:{var uc="",cc=(tc=zu,oc?/rv:([^\);]+)(\)|;)/.exec(tc):rc?/Edge\/([\d\.]+)/.exec(tc):nc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tc):sc?/WebKit\/(\S+)/.exec(tc):ec?/(?:Version)[ \/]?(\S+)/.exec(tc):void 0);if(cc&&(uc=cc?cc[1]:""),nc){var lc=ac();if(null!=lc&&lc>parseFloat(uc)){Zu=String(lc);break t}}Zu=uc}var hc={};function dc(t){return function(t,e){var n=hc;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Bu(String(Zu)).split("."),r=Bu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Gu(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Gu(0==s[2].length,0==a[2].length)||Gu(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var fc=Tu.document&&nc&&(ac()||parseInt(Zu,10))||void 0,pc=!nc||9<=Number(fc),mc=nc&&!dc("9"),gc=function(){if(!Tu.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Tu.addEventListener("test",Cu,e),Tu.removeEventListener("test",Cu,e)}catch(n){}return t}();function yc(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function vc(t,e){if(yc.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(oc){t:{try{Ju(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:bc[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}yc.prototype.b=function(){this.defaultPrevented=!0},Du(vc,yc);var bc={2:"touch",3:"pen",4:"mouse"};vc.prototype.b=function(){vc.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,mc)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var wc="closure_listenable_"+(1e6*Math.random()|0),_c=0;function Sc(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++_c,this.Y=this.Z=!1}function Ec(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Tc(t){this.src=t,this.a={},this.b=0}function Cc(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Lu(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ec(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Oc(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Tc.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Oc(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Sc(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var xc="closure_lm_"+(1e6*Math.random()|0),Pc={};function Ic(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Lc(r),e&&e[wc]?e.wa(n,r,xu(i)?!!i.capture:!!i,o):kc(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ic(t,e[o],n,r,i);return null}return n=Lc(n),t&&t[wc]?t.va(e,n,xu(r)?!!r.capture:!!r,i):kc(t,e,n,!1,r,i)}function kc(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=xu(i)?!!i.capture:!!i;if(s&&!pc)return null;var a=Dc(t);if(a||(t[xc]=a=new Tc(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Rc,e=pc?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gc||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Mc(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ac(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[wc])Cc(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Mc(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Dc(e))?(Cc(n,t),0==n.b&&(n.src=null,e[xc]=null)):Ec(t)}}}function Mc(t){return t in Pc?Pc[t]:Pc[t]="on"+t}function Nc(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ac(t),n.call(r,e)}function Rc(t,e){if(t.Y)return!0;if(!pc){if(!e)t:{e=["window","event"];for(var n=Tu,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Nc(t,e=new vc(e,this))}return Nc(t,new vc(e,this))}function Dc(t){return(t=t[xc])instanceof Tc?t:null}var jc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lc(t){return"function"==typeof t?t:(t[jc]||(t[jc]=function(e){return t.handleEvent(e)}),t[jc])}function Fc(){ju.call(this),this.c=new Tc(this),this.J=this,this.C=null}function Uc(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new yc(e,t);else if(e instanceof yc)e.target=e.target||t;else{var i=e;Xu(e=new yc(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=qc(s,r,!0,e)&&i}if(i=qc(s=e.a=t,r,!0,e)&&i,i=qc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=qc(s=e.a=n[o],r,!1,e)&&i}function qc(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Cc(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Du(Fc,ju),Fc.prototype[wc]=!0,(_u=Fc.prototype).addEventListener=function(t,e,n,r){Ic(this,t,e,n,r)},_u.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=xu(i)?!!i.capture:!!i,r=Lc(r),e&&e[wc]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Oc(s=e.a[n],r,i,o))&&(Ec(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Dc(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Oc(n,r,i,o)),(r=-1<e?n[e]:null)&&Ac(r))}(this,t,e,n,r)},_u.G=function(){if(Fc.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ec(n[r]);delete e.a[t],e.b--}}this.C=null},_u.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_u.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Vc=Tu.JSON.stringify;function zc(){this.b=this.a=null}var Bc,Hc=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new $c}),(function(t){t.reset()}));function Gc(){var t=Yc,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function $c(){this.next=this.b=this.a=null}function Kc(t){Tu.setTimeout((function(){throw t}),0)}function Wc(t,e){Bc||function(){var t=Tu.Promise.resolve(void 0);Bc=function(){t.then(Xc)}}(),Qc||(Bc(),Qc=!0),Yc.add(t,e)}zc.prototype.add=function(t,e){var n=Hc.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},$c.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},$c.prototype.reset=function(){this.next=this.b=this.a=null};var Qc=!1,Yc=new zc;function Xc(){for(var t;t=Gc();){try{t.a.call(t.b)}catch(n){Kc(n)}var e=Hc;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Qc=!1}function Jc(t,e){Fc.call(this),this.b=t||1,this.a=e||Tu,this.f=Mu(this.Za,this),this.g=Ru()}function Zc(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function tl(t,e,n){if("function"==typeof t)n&&(t=Mu(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Mu(t.handleEvent,t)}return 2147483647<Number(e)?-1:Tu.setTimeout(t,e||0)}function el(t){t.a=tl((function(){t.a=null,t.c&&(t.c=!1,el(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Du(Jc,Fc),(_u=Jc.prototype).aa=!1,_u.M=null,_u.Za=function(){if(this.aa){var t=Ru()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Uc(this,"tick"),this.aa&&(Zc(this),this.start()))}},_u.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ru())},_u.G=function(){Jc.X.G.call(this),Zc(this),delete this.a};var nl=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}bu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:el(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Tu.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ju);function rl(t){ju.call(this),this.b=t,this.a={}}Du(rl,ju);var il=[];function ol(t,e,n,r){Array.isArray(n)||(n&&(il[0]=n.toString()),n=il);for(var i=0;i<n.length;i++){var o=Ic(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function sl(t){Wu(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ac(t)}),t),t.a={}}function al(){this.a=!0}function ul(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Vc(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}rl.prototype.G=function(){rl.X.G.call(this),sl(this)},rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},al.prototype.info=function(){};var cl={},ll=null;function hl(){return ll=ll||new Fc}function dl(t){yc.call(this,cl.Fa,t)}function fl(t){var e=hl();Uc(e,new dl(e,t))}function pl(t,e){yc.call(this,cl.STAT_EVENT,t),this.stat=e}function ml(t){var e=hl();Uc(e,new pl(e,t))}function gl(t){yc.call(this,cl.Ga,t)}function yl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Tu.setTimeout((function(){t()}),e)}cl.Fa="serverreachability",Du(dl,yc),cl.STAT_EVENT="statevent",Du(pl,yc),cl.Ga="timingevent",Du(gl,yc);var vl={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},bl={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function wl(){}function _l(){}wl.prototype.a=null;var Sl,El={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Tl(){yc.call(this,"d")}function Cl(){yc.call(this,"c")}function Ol(){}function xl(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new rl(this),this.P=Pl,this.R=new Jc(t=ic?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Du(Tl,yc),Du(Cl,yc),Du(Ol,wl),Sl=new Ol;var Pl=45e3,Il={},kl={};function Al(t,e,n){t.H=1,t.i=Zl(Kl(e)),t.j=n,t.I=!0,Ml(t,null)}function Ml(t,e){t.u=Ru(),Dl(t),t.l=Kl(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),dh(n.b,"t",r),t.D=0,t.a=sd(t.g,t.g.C?e:null),0<t.O&&(t.F=new nl(Mu(t.Ca,t,t.a),t.O)),ol(t.J,t.a,"readystatechange",t.Xa),e=t.B?Qu(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),fl(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Nl(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Rl(t,n);if(i==kl){4==e&&(t.h=4,ml(14),r=!1),ul(t.c,t.f,null,"[Incomplete Response]");break}if(i==Il){t.h=4,ml(15),ul(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ul(t.c,t.f,i,null),ql(t,i)}4==e&&0==n.length&&(t.h=1,ml(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jh(e),e.F=!0,ml(11))):(ul(t.c,t.f,n,"[Invalid Chunked Response]"),Ul(t),Fl(t))}function Rl(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?kl:(n=Number(e.substring(n,r)),isNaN(n)?Il:(r+=1)+n>e.length?kl:(e=e.substr(r,n),t.D=r+n,e))}function Dl(t){t.T=Ru()+t.P,jl(t,t.P)}function jl(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=yl(Mu(t.Va,t),e)}function Ll(t){t.o&&(Tu.clearTimeout(t.o),t.o=null)}function Fl(t){0==t.g.v||t.A||ed(t.g,t)}function Ul(t){Ll(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Zc(t.R),sl(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ql(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||bh(n.b,t)))if(n.I=t.N,!t.C&&bh(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(H_){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;td(n),Bh(n)}Xh(n),ml(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=yl(Mu(n.Sa,n),6e3));if(1>=vh(n.b)&&n.ea){try{n.ea()}catch(H_){}n.ea=void 0}}else rd(n,11)}else if((t.C||n.a==t)&&td(n),!Vu(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Hu(l,"spdy")||Hu(l,"quic")||Hu(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(wh(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Jl(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ru()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=od(u,u.C?u.ga:null,u.fa),f.C){_h(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(Ll(p),Dl(p)),u.a=f}else Yh(u);0<n.g.length&&$h(n)}else"stop"!=i[0]&&"close"!=i[0]||rd(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?rd(n,7):zh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);fl(4)}catch(H_){}}function Vl(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ou(t)||"string"==typeof t)Fu(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ou(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ou(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function zl(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zl)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Bl(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Hl(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Hl(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Hl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_u=xl.prototype).setTimeout=function(t){this.P=t},_u.Xa=function(t){t=t.target;var e=this.F;e&&3==Fh(t)?e.f():this.Ca(t)},_u.Ca=function(t){try{if(t==this.a)t:{var e=Fh(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ic&&!this.a.$())){this.A||4!=e||7==n||fl(8==n||0>=r?3:2),Ll(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vu(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ml(12),Ul(this),Fl(this);break t}ul(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ql(this,u)}this.I?(Nl(this,e,o),ic&&this.b&&3==e&&(ol(this.J,this.R,"tick",this.Wa),this.R.start())):(ul(this.c,this.f,o,null),ql(this,o)),4==e&&Ul(this),this.b&&!this.A&&(4==e?ed(this.g,this):(this.b=!1,Dl(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ml(12)):(this.h=0,ml(13)),Ul(this),Fl(this)}}}catch(c){}},_u.Wa=function(){if(this.a){var t=Fh(this.a),e=this.a.$();this.D<e.length&&(Ll(this),Nl(this,t,e),this.b&&4!=t&&Dl(this))}},_u.cancel=function(){this.A=!0,Ul(this)},_u.Va=function(){this.o=null;var t=Ru();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(fl(3),ml(17)),Ul(this),this.h=2,Fl(this)):jl(this,this.T-t)},(_u=zl.prototype).K=function(){Bl(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_u.L=function(){return Bl(this),this.a.concat()},_u.get=function(t,e){return Hl(this.b,t)?this.b[t]:e},_u.set=function(t,e){Hl(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_u.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Gl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $l(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof $l){this.a=void 0!==e?e:t.a,Wl(this,t.f),this.j=t.j,Ql(this,t.c),Yl(this,t.h),this.g=t.g,e=t.b;var n=new uh;n.c=e.c,e.a&&(n.a=new zl(e.a),n.b=e.b),Xl(this,n),this.i=t.i}else t&&(n=String(t).match(Gl))?(this.a=!!e,Wl(this,n[1]||"",!0),this.j=th(n[2]||""),Ql(this,n[3]||"",!0),Yl(this,n[4]),this.g=th(n[5]||"",!0),Xl(this,n[6]||"",!0),this.i=th(n[7]||"")):(this.a=!!e,this.b=new uh(null,this.a))}function Kl(t){return new $l(t)}function Wl(t,e,n){t.f=n?th(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ql(t,e,n){t.c=n?th(e,!0):e}function Yl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Xl(t,e,n){e instanceof uh?(t.b=e,function(t,e){e&&!t.f&&(ch(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(lh(this,e),dh(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=eh(e,sh)),t.b=new uh(e,t.a))}function Jl(t,e,n){t.b.set(e,n)}function Zl(t){return Jl(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ru()).toString(36)),t}function th(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function eh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,nh),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nh(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$l.prototype.toString=function(){var t=[],e=this.f;e&&t.push(eh(e,rh,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(eh(e,rh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(eh(n,"/"==n.charAt(0)?oh:ih,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",eh(n,ah)),t.join("")};var rh=/[#\/\?@]/g,ih=/[#\?:]/g,oh=/[#\?]/g,sh=/[#\?@]/g,ah=/#/g;function uh(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ch(t){t.a||(t.a=new zl,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function lh(t,e){ch(t),e=fh(t,e),Hl(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Hl((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Bl(t)))}function hh(t,e){return ch(t),e=fh(t,e),Hl(t.a.b,e)}function dh(t,e,n){lh(t,e),0<n.length&&(t.c=null,t.a.set(fh(t,e),qu(n)),t.b+=n.length)}function fh(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(_u=uh.prototype).add=function(t,e){ch(this),this.c=null,t=fh(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_u.forEach=function(t,e){ch(this),this.a.forEach((function(n,r){Fu(n,(function(n){t.call(e,n,r,this)}),this)}),this)},_u.L=function(){ch(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},_u.K=function(t){ch(this);var e=[];if("string"==typeof t)hh(this,t)&&(e=Uu(e,this.a.get(fh(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Uu(e,t[n])}return e},_u.set=function(t,e){return ch(this),this.c=null,hh(this,t=fh(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_u.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},_u.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ph=function(){return function(t,e){this.b=t,this.a=e}}();function mh(t){this.g=t||gh,t=Tu.PerformanceNavigationTiming?0<(t=Tu.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Tu.ia&&Tu.ia.ya&&Tu.ia.ya()&&Tu.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var gh=10;function yh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function vh(t){return t.b?1:t.a?t.a.size:0}function bh(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function wh(t,e){t.a?t.a.add(e):t.b=e}function _h(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Sh(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=wu(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return qu(t.c)}function Eh(){}function Th(){this.a=new Eh}function Ch(t,e,n){var r=n||"";try{Vl(t,(function(t,n){var i=t;xu(t)&&(i=Vc(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(CS){throw e.push(r+"type="+encodeURIComponent("_badmap")),CS}}function Oh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}mh.prototype.cancel=function(){var t,e;if(this.c=Sh(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=wu(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Eh.prototype.stringify=function(t){return Tu.JSON.stringify(t,void 0)},Eh.prototype.parse=function(t){return Tu.JSON.parse(t,void 0)};var xh=Tu.JSON.parse;function Ph(t){Fc.call(this),this.headers=new zl,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ih,this.D=this.F=!1}Du(Ph,Fc);var Ih="",kh=/^https?$/i,Ah=["POST","PUT"];function Mh(t){return"content-type"==t.toLowerCase()}function Nh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Rh(t),jh(t)}function Rh(t){t.u||(t.u=!0,Uc(t,"complete"),Uc(t,"error"))}function Dh(t){if(t.b&&void 0!==Eu&&(!t.s[1]||4!=Fh(t)||2!=t.W()))if(t.l&&4==Fh(t))tl(t.za,0,t);else if(Uc(t,"readystatechange"),4==Fh(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Gl)[1]||null;if(!o&&Tu.self&&Tu.self.location){var s=Tu.self.location.protocol;o=s.substr(0,s.length-1)}i=!kh.test(o?o.toLowerCase():"")}e=i}if(e)Uc(t,"complete"),Uc(t,"success");else{t.h=6;try{var a=2<Fh(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Rh(t)}}finally{jh(t)}}}function jh(t,e){if(t.a){Lh(t);var n=t.a,r=t.s[0]?Cu:null;t.a=null,t.s=null,e||Uc(t,"ready");try{n.onreadystatechange=r}catch(CS){}}}function Lh(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Tu.clearTimeout(t.m),t.m=null)}function Fh(t){return t.a?t.a.readyState:0}function Uh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Wu(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Jl(t,e,n))}function qh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Vh(t){this.pa=0,this.g=[],this.c=new al,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=qh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=qh("baseRetryDelayMs",5e3,t),this.Ra=qh("retryDelaySeedMs",1e4,t),this.Ma=qh("forwardChannelMaxRetries",2,t),this.ma=qh("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new mh(t&&t.concurrentRequestLimit),this.ka=new Th,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function zh(t){if(Hh(t),3==t.v){var e=t.R++,n=Kl(t.B);Jl(n,"SID",t.J),Jl(n,"RID",e),Jl(n,"TYPE","terminate"),Wh(t,n),(e=new xl(t,t.c,e,void 0)).H=2,e.i=Zl(Kl(n)),n=!1,Tu.navigator&&Tu.navigator.sendBeacon&&(n=Tu.navigator.sendBeacon(e.i.toString(),"")),!n&&Tu.Image&&((new Image).src=e.i,n=!0),n||(e.a=sd(e.g,null),e.a.ba(e.i)),e.u=Ru(),Dl(e)}id(t)}function Bh(t){t.a&&(Jh(t),t.a.cancel(),t.a=null)}function Hh(t){Bh(t),t.j&&(Tu.clearTimeout(t.j),t.j=null),td(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Tu.clearTimeout(t.h),t.h=null)}function Gh(t,e){t.g.push(new ph(t.Oa++,e)),3==t.v&&$h(t)}function $h(t){yh(t.b)||t.h||(t.h=!0,Wc(t.Ba,t),t.u=0)}function Kh(t,e){var n;n=e?e.f:t.R++;var r=Kl(t.B);Jl(r,"SID",t.J),Jl(r,"RID",n),Jl(r,"AID",t.P),Wh(t,r),t.i&&t.l&&Uh(r,t.i,t.l),n=new xl(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Qh(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),wh(t.b,n),Al(n,r,e)}function Wh(t,e){t.f&&Vl({},(function(t,n){Jl(e,n,t)}))}function Qh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Mu(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Ch(l,s,"req"+c+"_")}catch(zd){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Yh(t){t.a||t.j||(t.T=1,Wc(t.Aa,t),t.o=0)}function Xh(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=yl(Mu(t.Aa,t),nd(t,t.o)),t.o++,0))}function Jh(t){null!=t.s&&(Tu.clearTimeout(t.s),t.s=null)}function Zh(t){t.a=new xl(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Kl(t.la);Jl(e,"RID","rpc"),Jl(e,"SID",t.J),Jl(e,"CI",t.H?"0":"1"),Jl(e,"AID",t.P),Wh(t,e),Jl(e,"TYPE","xmlhttp"),t.i&&t.l&&Uh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Zl(Kl(e)),n.j=null,n.I=!0,Ml(n,t)}function td(t){null!=t.m&&(Tu.clearTimeout(t.m),t.m=null)}function ed(t,e){var n=null;if(t.a==e){td(t),Jh(t),t.a=null;var r=2}else{if(!bh(t.b,e))return;n=e.s,_h(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ru()-e.u;var i=t.u;Uc(r=hl(),new gl(r,n,e,i)),$h(t)}else Yh(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(vh(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=yl(Mu(t.Ba,t,e),nd(t,t.u)),t.u++,0)))}(t,e)||2==r&&Xh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:rd(t,5);break;case 4:rd(t,10);break;case 3:rd(t,6);break;default:rd(t,2)}}function nd(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function rd(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Mu(t.Ya,t);n||(n=new $l("//www.google.com/images/cleardot.gif"),Tu.location&&"http"==Tu.location.protocol||Wl(n,"https"),Zl(n)),function(t,e){var n=new al;if(Tu.Image){var r=new Image;r.onload=Nu(Oh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nu(Oh,n,r,"TestLoadImage: error",!1,e),r.onabort=Nu(Oh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nu(Oh,n,r,"TestLoadImage: timeout",!1,e),Tu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ml(2);t.v=0,t.f&&t.f.ra(e),id(t),Hh(t)}function id(t){t.v=0,t.I=-1,t.f&&(0==Sh(t.b).length&&0==t.g.length||(t.b.c.length=0,qu(t.g),t.g.length=0),t.f.qa())}function od(t,e,n){var r=function(t){return t instanceof $l?Kl(t):new $l(t,void 0)}(n);if(""!=r.c)e&&Ql(r,e+"."+r.c),Yl(r,r.h);else{var i=Tu.location;r=function(t,e,n,r){var i=new $l(null,void 0);return t&&Wl(i,t),e&&Ql(i,e),n&&Yl(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Wu(t.V,(function(t,e){Jl(r,e,t)})),n=t.na,(e=t.A)&&n&&Jl(r,e,n),Jl(r,"VER",t.ha),Wh(t,r),r}function sd(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ph(t.Na)).F=t.C,e}function ad(){}function ud(){if(nc&&!(10<=Number(fc)))throw Error("Environmental error: no available transport.")}function cd(t,e){Fc.call(this),this.a=new Vh(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Vu(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vu(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new dd(this)}function ld(t){Tl.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hd(){Cl.call(this),this.status=1}function dd(t){this.a=t}(_u=Ph.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Sl),this.a.onreadystatechange=Mu(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Nh(this,o)}t=n||"";var i=new zl(this.headers);r&&Vl(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Mh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Tu.FormData&&t instanceof Tu.FormData,!(0<=Lu(Ah,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Lh(this),0<this.o&&((this.D=function(t){return nc&&dc(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Mu(this.xa,this)):this.m=tl(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Nh(this,o)}},_u.xa=function(){void 0!==Eu&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Uc(this,"timeout"),this.abort(8))},_u.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Uc(this,"complete"),Uc(this,"abort"),jh(this))},_u.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),jh(this,!0)),Ph.X.G.call(this)},_u.za=function(){this.j||(this.A||this.l||this.g?Dh(this):this.Ua())},_u.Ua=function(){Dh(this)},_u.W=function(){try{return 2<Fh(this)?this.a.status:-1}catch(tc){return-1}},_u.$=function(){try{return this.a?this.a.responseText:""}catch(tc){return""}},_u.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xh(e)}},_u.ua=function(){return this.h},_u.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(_u=Vh.prototype).ha=8,_u.v=1,_u.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new xl(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Xu(r=Qu(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Qh(this,n,e),Jl(i=Kl(this.B),"RID",t),Jl(i,"CVER",22),this.A&&Jl(i,"X-HTTP-Session-Id",this.A),Wh(this,i),this.i&&r&&Uh(i,this.i,r),wh(this.b,n),this.Ia&&Jl(i,"TYPE","init"),this.da?(Jl(i,"$req",e),Jl(i,"SID","null"),n.U=!0,Al(n,i,null)):Al(n,i,e),this.v=2}}else 3==this.v&&(t?Kh(this,t):0==this.g.length||yh(this.b)||Kh(this))},_u.Aa=function(){if(this.j=null,Zh(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=yl(Mu(this.Ta,this),t)}},_u.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ml(10),Bh(this),Zh(this))},_u.Sa=function(){null!=this.m&&(this.m=null,Bh(this),Xh(this),ml(19))},_u.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ml(2)):(this.c.info("Failed to ping google.com"),ml(1))},(_u=ad.prototype).ta=function(){},_u.sa=function(){},_u.ra=function(){},_u.qa=function(){},_u.Ja=function(){},ud.prototype.a=function(t,e){return new cd(t,e)},Du(cd,Fc),cd.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ml(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=od(t,null,t.fa),$h(t)},cd.prototype.close=function(){zh(this.a)},cd.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Gh(this.a,e)}else this.l?((e={}).__data__=Vc(t),Gh(this.a,e)):Gh(this.a,t)},cd.prototype.G=function(){this.a.f=null,delete this.f,zh(this.a),delete this.a,cd.X.G.call(this)},Du(ld,Tl),Du(hd,Cl),Du(dd,ad),dd.prototype.ta=function(){Uc(this.a,"a")},dd.prototype.sa=function(t){Uc(this.a,new ld(t))},dd.prototype.ra=function(t){Uc(this.a,new hd(t))},dd.prototype.qa=function(){Uc(this.a,"b")},ud.prototype.createWebChannel=ud.prototype.a,cd.prototype.send=cd.prototype.h,cd.prototype.open=cd.prototype.g,cd.prototype.close=cd.prototype.close,vl.NO_ERROR=0,vl.TIMEOUT=8,vl.HTTP_ERROR=6,bl.COMPLETE="complete",_l.EventType=El,El.OPEN="a",El.CLOSE="b",El.ERROR="c",El.MESSAGE="d",Fc.prototype.listen=Fc.prototype.va,Ph.prototype.listenOnce=Ph.prototype.wa,Ph.prototype.getLastError=Ph.prototype.Qa,Ph.prototype.getLastErrorCode=Ph.prototype.ua,Ph.prototype.getStatus=Ph.prototype.W,Ph.prototype.getResponseJson=Ph.prototype.Pa,Ph.prototype.getResponseText=Ph.prototype.$,Ph.prototype.send=Ph.prototype.ba;var fd=vl,pd=bl,md=cl,gd=_l,yd=Ph,vd=function(t,e){return(vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function bd(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}vd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function wd(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(CS){o(CS)}}function a(t){try{u(r.throw(t))}catch(CS){o(CS)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function _d(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(CS){o=[6,CS],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Sd(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var Ed=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ed.o=-1;var Td={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return bd(e,t),e}(Error),Od=new vu.b("@firebase/firestore");function xd(){return Od.logLevel}function Pd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Od.logLevel<=vu.a.DEBUG){var r=e.map(Ad);Od.debug.apply(Od,Sd(["Firestore (8.4.0): "+t],r))}}function Id(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Od.logLevel<=vu.a.ERROR){var r=e.map(Ad);Od.error.apply(Od,Sd(["Firestore (8.4.0): "+t],r))}}function kd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Od.logLevel<=vu.a.WARN){var r=e.map(Ad);Od.warn.apply(Od,Sd(["Firestore (8.4.0): "+t],r))}}function Ad(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(CS){return t}}function Md(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw Id(e),new Error(e)}function Nd(t,e){t||Md()}function Rd(t,e){return t}function Dd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jd=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Dd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ld(t,e){return t<e?-1:t>e?1:0}function Fd(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ud(t){return t+"\0"}var qd=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Cd(Td.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Cd(Td.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Cd(Td.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cd(Td.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Ld(this.nanoseconds,t.nanoseconds):Ld(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Vd=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new qd(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function zd(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bd(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hd(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Gd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Md(),void 0===n?n=t.length-e:n>t.length-e&&Md(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),$d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bd(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Cd(Td.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Gd),Kd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bd(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Kd.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Cd(Td.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Cd(Td.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Cd(Td.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Cd(Td.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Gd),Qd=function(){function t(t){this.fields=t,t.sort(Wd.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Fd(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Yd=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Ld(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Yd.EMPTY_BYTE_STRING=new Yd("");var Xd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jd(t){if(Nd(!!t),"string"==typeof t){var e=0,n=Xd.exec(t);if(Nd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zd(t.seconds),nanos:Zd(t.nanos)}}function Zd(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tf(t){return"string"==typeof t?Yd.fromBase64String(t):Yd.fromUint8Array(t)}function ef(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nf(t){var e=Jd(t.mapValue.fields.__local_write_time__.timestampValue);return new qd(e.seconds,e.nanos)}function rf(t){return null==t}function of(t){return 0===t&&1/t==-1/0}function sf(t){return"number"==typeof t&&Number.isInteger(t)&&!of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var af=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t($d.fromString(e))},t.fromName=function(e){return new t($d.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===$d.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return $d.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new $d(e.slice()))},t}();function uf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ef(t)?4:10:Md()}function cf(t,e){var n=uf(t);if(n!==uf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nf(t).isEqual(nf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Jd(t.timestampValue),r=Jd(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return tf(t.bytesValue).isEqual(tf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Zd(t.geoPointValue.latitude)===Zd(e.geoPointValue.latitude)&&Zd(t.geoPointValue.longitude)===Zd(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Zd(t.integerValue)===Zd(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Zd(t.doubleValue),r=Zd(e.doubleValue);return n===r?of(n)===of(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Fd(t.arrayValue.values||[],e.arrayValue.values||[],cf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(zd(n)!==zd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cf(n[i],r[i])))return!1;return!0}(t,e);default:return Md()}}function lf(t,e){return void 0!==(t.values||[]).find((function(t){return cf(t,e)}))}function hf(t,e){var n=uf(t),r=uf(e);if(n!==r)return Ld(n,r);switch(n){case 0:return 0;case 1:return Ld(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Zd(t.integerValue||t.doubleValue),r=Zd(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return df(t.timestampValue,e.timestampValue);case 4:return df(nf(t),nf(e));case 5:return Ld(t.stringValue,e.stringValue);case 6:return function(t,e){var n=tf(t),r=tf(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ld(n[i],r[i]);if(0!==o)return o}return Ld(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ld(Zd(t.latitude),Zd(e.latitude));return 0!==n?n:Ld(Zd(t.longitude),Zd(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=hf(n[i],r[i]);if(o)return o}return Ld(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Ld(r[s],o[s]);if(0!==a)return a;var u=hf(n[r[s]],i[o[s]]);if(0!==u)return u}return Ld(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Md()}}function df(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ld(t,e);var n=Jd(t),r=Jd(e),i=Ld(n.seconds,r.seconds);return 0!==i?i:Ld(n.nanos,r.nanos)}function ff(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Jd(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?tf(e.bytesValue).toBase64():"referenceValue"in e?af.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Md();var n}(t)}function pf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function mf(t){return!!t&&"integerValue"in t}function gf(t){return!!t&&"arrayValue"in t}function yf(t){return!!t&&"nullValue"in t}function vf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bf(t){return!!t&&"mapValue"in t}var wf=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Wd.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return cf(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===uf(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=bf(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Wd.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!bf(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function _f(t){var e=[];return Bd(t.fields||{},(function(t,n){var r=new Wd([t]);if(bf(n)){var i=_f(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Qd(e)}var Sf=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Vd.min(),wf.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,wf.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,wf.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=wf.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=wf.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ef=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Tf(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ef(t,e,n,r,i,o,s)}function Cf(t){var e=Rd(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ff(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ff(e.startAt)),e.endAt&&(n+="|ub:",n+=Ff(e.endAt)),e.h=n}return e.h}function Of(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!qf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!cf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zf(t.startAt,e.startAt)&&zf(t.endAt,e.endAt)}function xf(t){return af.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Pf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return bd(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new If(t,n,r):"array-contains"===n?new Nf(t,r):"in"===n?new Rf(t,r):"not-in"===n?new Df(t,r):"array-contains-any"===n?new jf(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new kf(t,n):new Af(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(hf(e,this.value)):null!==e&&uf(this.value)===uf(e)&&this.m(hf(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Md()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),If=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=af.fromName(r.referenceValue),i}return bd(e,t),e.prototype.matches=function(t){var e=af.comparator(t.key,this.key);return this.m(e)},e}(Pf),kf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Mf(0,n),r}return bd(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Pf),Af=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Mf(0,n),r}return bd(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Pf);function Mf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return af.fromName(t.referenceValue)}))}var Nf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return bd(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return gf(e)&&lf(e.arrayValue,this.value)},e}(Pf),Rf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return bd(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&lf(this.value.arrayValue,e)},e}(Pf),Df=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return bd(e,t),e.prototype.matches=function(t){if(lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!lf(this.value.arrayValue,e)},e}(Pf),jf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return bd(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!gf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return lf(e.value.arrayValue,t)}))},e}(Pf),Lf=function(t,e){this.position=t,this.before=e};function Ff(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ff(t)})).join(",")}var Uf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Vf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?af.comparator(af.fromName(s.referenceValue),n.key):hf(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function zf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!cf(t.position[n],e.position[n]))return!1;return!0}var Bf=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Hf(t,e,n,r,i,o,s,a){return new Bf(t,e,n,r,i,o,s,a)}function Gf(t){return new Bf(t)}function $f(t){return!rf(t.limit)&&"F"===t.limitType}function Kf(t){return!rf(t.limit)&&"L"===t.limitType}function Wf(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Qf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Yf(t){return null!==t.collectionGroup}function Xf(t){var e=Rd(t);if(null===e.p){e.p=[];var n=Qf(e),r=Wf(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Uf(n)),e.p.push(new Uf(Wd.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Uf(Wd.keyField(),u))}}}return e.p}function Jf(t){var e=Rd(t);if(!e.T)if("F"===e.limitType)e.T=Tf(e.path,e.collectionGroup,Xf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Xf(e);r<i.length;r++){var o=i[r];n.push(new Uf(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Lf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Lf(e.startAt.position,!e.startAt.before):null;e.T=Tf(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Zf(t,e,n){return new Bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tp(t,e){return Of(Jf(t),Jf(e))&&t.limitType===e.limitType}function ep(t){return Cf(Jf(t))+"|lt:"+t.limitType}function np(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ff(e.value);var e})).join(", ")+"]"),rf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ff(t.startAt)),t.endAt&&(e+=", endAt: "+Ff(t.endAt)),"Target("+e+")"}(Jf(t))+"; limitType="+t.limitType+")"}function rp(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):af.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Vf(t.startAt,Xf(t),e)||t.endAt&&Vf(t.endAt,Xf(t),e))}(t,e)}function ip(t){return function(e,n){for(var r=!1,i=0,o=Xf(t);i<o.length;i++){var s=o[i],a=op(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function op(t,e,n){var r=t.field.isKeyField()?af.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?hf(r,i):Md()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Md()}}function sp(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function ap(t){return{integerValue:""+t}}function up(t,e){return sf(e)?ap(e):sp(t,e)}var cp=function(){this._=void 0};function lp(t,e,n){return t instanceof fp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof pp?mp(t,e):t instanceof gp?yp(t,e):function(t,e){var n=dp(t,e),r=bp(n)+bp(t.A);return mf(n)&&mf(t.A)?ap(r):sp(t.R,r)}(t,e)}function hp(t,e,n){return t instanceof pp?mp(t,e):t instanceof gp?yp(t,e):n}function dp(t,e){return t instanceof vp?mf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bd(e,t),e}(cp),pp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return bd(e,t),e}(cp);function mp(t,e){for(var n=wp(e),r=function(t){n.some((function(e){return cf(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var gp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return bd(e,t),e}(cp);function yp(t,e){for(var n=wp(e),r=function(t){n=n.filter((function(e){return!cf(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var vp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return bd(e,t),e}(cp);function bp(t){return Zd(t.integerValue||t.doubleValue)}function wp(t){return gf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var _p=function(t,e){this.field=t,this.transform=e},Sp=function(t,e){this.version=t,this.transformResults=e},Ep=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Tp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Cp=function(){};function Op(t,e,n){t instanceof Ap?function(t,e,n){var r=t.value.clone(),i=Rp(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Mp?function(t,e,n){if(Tp(t.precondition,e)){var r=Rp(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Np(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function xp(t,e,n){t instanceof Ap?function(t,e,n){if(Tp(t.precondition,e)){var r=t.value.clone(),i=Dp(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(kp(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Mp?function(t,e,n){if(Tp(t.precondition,e)){var r=Dp(t.fieldTransforms,n,e),i=e.data;i.setAll(Np(t)),i.setAll(r),e.convertToFoundDocument(kp(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Tp(t.precondition,e)&&e.convertToNoDocument(Vd.min())}(t,e)}function Pp(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=dp(o.transform,s||null);null!=a&&(null==n&&(n=wf.empty()),n.set(o.field,a))}return n||null}function Ip(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Fd(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof pp&&e instanceof pp||t instanceof gp&&e instanceof gp?Fd(t.elements,e.elements,cf):t instanceof vp&&e instanceof vp?cf(t.A,e.A):t instanceof fp&&e instanceof fp}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function kp(t){return t.isFoundDocument()?t.version:Vd.min()}var Ap=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return bd(e,t),e}(Cp),Mp=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return bd(e,t),e}(Cp);function Np(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Rp(t,e,n){var r=new Map;Nd(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,hp(s,a,n[i]))}return r}function Dp(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,lp(a,u,e))}return r}var jp,Lp,Fp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return bd(e,t),e}(Cp),Up=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return bd(e,t),e}(Cp),qp=function(t){this.count=t};function Vp(t){switch(t){case Td.OK:return Md();case Td.CANCELLED:case Td.UNKNOWN:case Td.DEADLINE_EXCEEDED:case Td.RESOURCE_EXHAUSTED:case Td.INTERNAL:case Td.UNAVAILABLE:case Td.UNAUTHENTICATED:return!1;case Td.INVALID_ARGUMENT:case Td.NOT_FOUND:case Td.ALREADY_EXISTS:case Td.PERMISSION_DENIED:case Td.FAILED_PRECONDITION:case Td.ABORTED:case Td.OUT_OF_RANGE:case Td.UNIMPLEMENTED:case Td.DATA_LOSS:return!0;default:return Md()}}function zp(t){if(void 0===t)return Id("GRPC error has no .code"),Td.UNKNOWN;switch(t){case jp.OK:return Td.OK;case jp.CANCELLED:return Td.CANCELLED;case jp.UNKNOWN:return Td.UNKNOWN;case jp.DEADLINE_EXCEEDED:return Td.DEADLINE_EXCEEDED;case jp.RESOURCE_EXHAUSTED:return Td.RESOURCE_EXHAUSTED;case jp.INTERNAL:return Td.INTERNAL;case jp.UNAVAILABLE:return Td.UNAVAILABLE;case jp.UNAUTHENTICATED:return Td.UNAUTHENTICATED;case jp.INVALID_ARGUMENT:return Td.INVALID_ARGUMENT;case jp.NOT_FOUND:return Td.NOT_FOUND;case jp.ALREADY_EXISTS:return Td.ALREADY_EXISTS;case jp.PERMISSION_DENIED:return Td.PERMISSION_DENIED;case jp.FAILED_PRECONDITION:return Td.FAILED_PRECONDITION;case jp.ABORTED:return Td.ABORTED;case jp.OUT_OF_RANGE:return Td.OUT_OF_RANGE;case jp.UNIMPLEMENTED:return Td.UNIMPLEMENTED;case jp.DATA_LOSS:return Td.DATA_LOSS;default:return Md()}}(Lp=jp||(jp={}))[Lp.OK=0]="OK",Lp[Lp.CANCELLED=1]="CANCELLED",Lp[Lp.UNKNOWN=2]="UNKNOWN",Lp[Lp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lp[Lp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lp[Lp.NOT_FOUND=5]="NOT_FOUND",Lp[Lp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lp[Lp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lp[Lp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lp[Lp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lp[Lp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lp[Lp.ABORTED=10]="ABORTED",Lp[Lp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lp[Lp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lp[Lp.INTERNAL=13]="INTERNAL",Lp[Lp.UNAVAILABLE=14]="UNAVAILABLE",Lp[Lp.DATA_LOSS=15]="DATA_LOSS";var Bp=function(){function t(t,e){this.comparator=t,this.root=e||Gp.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gp.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gp.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Hp(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Hp(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Hp(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Hp(this.root,t,this.comparator,!0)},t}(),Hp=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Gp=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Md();if(this.right.isRed())throw Md();var t=this.left.check();if(t!==this.right.check())throw Md();return t+(this.isRed()?0:1)},t}();Gp.EMPTY=null,Gp.RED=!0,Gp.BLACK=!1,Gp.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Md()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Md()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Md()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Md()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Md()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Gp(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var $p=function(){function t(t){this.comparator=t,this.data=new Bp(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Kp(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Kp(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Kp=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Wp=new Bp(af.comparator);function Qp(){return Wp}var Yp=new Bp(af.comparator);function Xp(){return Yp}var Jp=new Bp(af.comparator);function Zp(){return Jp}var tm=new $p(af.comparator);function em(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=tm,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var nm=new $p(Ld);function rm(){return nm}var im=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,om.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Vd.min(),r,rm(),Qp(),em())},t}(),om=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Yd.EMPTY_BYTE_STRING,n,em(),em(),em())},t}(),sm=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},am=function(t,e){this.targetId=t,this.V=e},um=function(t,e,n,r){void 0===n&&(n=Yd.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},cm=function(){function t(){this.S=0,this.D=dm(),this.C=Yd.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=em(),e=em(),n=em();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Md()}})),new om(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=dm()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),lm=function(){function t(t){this.W=t,this.G=new Map,this.H=Qp(),this.J=hm(),this.Y=new $p(Ld)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Md()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(xf(i))if(0===n){var o=new af(i.path);this.tt(e,o,Sf.newNoDocument(o,Vd.min()))}else Nd(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&xf(o.target)){var s=new af(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Sf.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=em();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new im(t,n,this.Y,this.H,r);return this.H=Qp(),this.J=hm(),this.Y=new $p(Ld),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new cm,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new $p(Ld),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Pd("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new cm),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function hm(){return new Bp(af.comparator)}function dm(){return new Bp(af.comparator)}var fm={asc:"ASCENDING",desc:"DESCENDING"},pm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mm=function(t,e){this.databaseId=t,this.I=e};function gm(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ym(t,e){return t.I?e.toBase64():e.toUint8Array()}function vm(t,e){return gm(t,e.toTimestamp())}function bm(t){return Nd(!!t),Vd.fromTimestamp(function(t){var e=Jd(t);return new qd(e.seconds,e.nanos)}(t))}function wm(t,e){return function(t){return new $d(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function _m(t){var e=$d.fromString(t);return Nd(Hm(e)),e}function Sm(t,e){return wm(t.databaseId,e.path)}function Em(t,e){var n=_m(e);if(n.get(1)!==t.databaseId.projectId)throw new Cd(Td.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Cd(Td.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new af(xm(n))}function Tm(t,e){return wm(t.databaseId,e)}function Cm(t){var e=_m(t);return 4===e.length?$d.emptyPath():xm(e)}function Om(t){return new $d(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xm(t){return Nd(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Pm(t,e,n){return{name:Sm(t,e),fields:n.toProto().mapValue.fields}}function Im(t,e,n){var r=Em(t,e.name),i=bm(e.updateTime),o=new wf({mapValue:{fields:e.fields}}),s=Sf.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function km(t,e){var n;if(e instanceof Ap)n={update:Pm(t,e.key,e.value)};else if(e instanceof Fp)n={delete:Sm(t,e.key)};else if(e instanceof Mp)n={update:Pm(t,e.key,e.data),updateMask:Bm(e.fieldMask)};else{if(!(e instanceof Up))return Md();n={verify:Sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof fp)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pp)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gp)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vp)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Md()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:vm(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Md()}(t,e.precondition)),n}function Am(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ep.updateTime(bm(t.updateTime)):void 0!==t.exists?Ep.exists(t.exists):Ep.none()}(e.currentDocument):Ep.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Nd("REQUEST_TIME"===e.setToServerValue),n=new fp):"appendMissingElements"in e?n=new pp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new gp(e.removeAllFromArray.values||[]):"increment"in e?n=new vp(t,e.increment):Md();var r=Wd.fromServerFormat(e.fieldPath);return new _p(r,n)}(t,e)})):[];if(e.update){var i=Em(t,e.update.name),o=new wf({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Qd((t.fieldPaths||[]).map((function(t){return Wd.fromServerFormat(t)})))}(e.updateMask);return new Mp(i,o,s,n,r)}return new Ap(i,o,n,r)}if(e.delete){var a=Em(t,e.delete);return new Fp(a,n)}if(e.verify){var u=Em(t,e.verify);return new Up(u,n)}return Md()}function Mm(t,e){return{documents:[Tm(t,e.path)]}}function Nm(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Tm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Tm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(vf(t.value))return{unaryFilter:{field:Um(t.field),op:"IS_NAN"}};if(yf(t.value))return{unaryFilter:{field:Um(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vf(t.value))return{unaryFilter:{field:Um(t.field),op:"IS_NOT_NAN"}};if(yf(t.value))return{unaryFilter:{field:Um(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Um(t.field),op:Fm(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Um(t.field),direction:Lm(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||rf(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Dm(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Dm(e.endAt)),n}function Rm(t){var e=Cm(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Nd(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[zm(e)]:void 0!==e.fieldFilter?[Vm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Md():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Uf(qm(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return rf(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=jm(n.startAt));var l=null;return n.endAt&&(l=jm(n.endAt)),Hf(e,i,a,s,u,"F",c,l)}function Dm(t){return{before:t.before,values:t.position}}function jm(t){return new Lf(t.values||[],!!t.before)}function Lm(t){return fm[t]}function Fm(t){return pm[t]}function Um(t){return{fieldPath:t.canonicalString()}}function qm(t){return Wd.fromServerFormat(t.fieldPath)}function Vm(t){return Pf.create(qm(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Md()}}(t.fieldFilter.op),t.fieldFilter.value)}function zm(t){switch(t.unaryFilter.op){case"IS_NAN":var e=qm(t.unaryFilter.field);return Pf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=qm(t.unaryFilter.field);return Pf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qm(t.unaryFilter.field);return Pf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qm(t.unaryFilter.field);return Pf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Md()}}function Bm(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Hm(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Gm(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Km(e)),e=$m(t.get(n),e);return Km(e)}function $m(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Km(t){return t+"\x01\x01"}function Wm(t){var e=t.length;if(Nd(e>=2),2===e)return Nd("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),$d.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Md(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Md()}o=s+2}return new $d(r)}var Qm=function(t,e){this.seconds=t,this.nanoseconds=e},Ym=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ym.store="owner",Ym.key="owner";var Xm=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Xm.store="mutationQueues",Xm.keyPath="userId";var Jm=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Jm.store="mutations",Jm.keyPath="batchId",Jm.userMutationsIndex="userMutationsIndex",Jm.userMutationsKeyPath=["userId","batchId"];var Zm=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Gm(e)]},t.key=function(t,e,n){return[t,Gm(e),n]},t}();Zm.store="documentMutations",Zm.PLACEHOLDER=new Zm;var tg=function(t,e){this.path=t,this.readTime=e},eg=function(t,e){this.path=t,this.version=e},ng=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ng.store="remoteDocuments",ng.readTimeIndex="readTimeIndex",ng.readTimeIndexPath="readTime",ng.collectionReadTimeIndex="collectionReadTimeIndex",ng.collectionReadTimeIndexPath=["parentPath","readTime"];var rg=function(t){this.byteSize=t};rg.store="remoteDocumentGlobal",rg.key="remoteDocumentGlobalKey";var ig=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ig.store="targets",ig.keyPath="targetId",ig.queryTargetsIndexName="queryTargetsIndex",ig.queryTargetsKeyPath=["canonicalId","targetId"];var og=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};og.store="targetDocuments",og.keyPath=["targetId","path"],og.documentTargetsIndex="documentTargetsIndex",og.documentTargetsKeyPath=["path","targetId"];var sg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};sg.key="targetGlobalKey",sg.store="targetGlobal";var ag=function(t,e){this.collectionId=t,this.parent=e};ag.store="collectionParents",ag.keyPath=["collectionId","parent"];var ug=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ug.store="clientMetadata",ug.keyPath="clientId";var cg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};cg.store="bundles",cg.keyPath="bundleId";var lg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};lg.store="namedQueries",lg.keyPath="name";var hg=Sd(Sd([],Sd(Sd([],Sd(Sd([],Sd(Sd([],[Xm.store,Jm.store,Zm.store,ng.store,ig.store,Ym.store,sg.store,og.store]),[ug.store])),[rg.store])),[ag.store])),[cg.store,lg.store]),dg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fg=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),pg=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},mg=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Md(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),gg=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new pg,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new bg(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Tg(e.target.error);n.ft.reject(new bg(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new bg(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Pd("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new _g(e)},t}(),yg=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(yu.k)())&&Id("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Pd("SimpleDb","Removing database:",t),Sg(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(yu.k)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return wd(this,void 0,void 0,(function(){var e,n=this;return _d(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Pd("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new bg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Cd(Td.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new bg(t,n))},i.onupgradeneeded=function(t){Pd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Pd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return wd(this,void 0,void 0,(function(){var i,o,s,a,u;return _d(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return _d(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=gg.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),mg.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Pd("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),vg=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Sg(this.Pt.delete())},t}(),bg=function(t){function e(e,n){var r=this;return(r=t.call(this,Td.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return bd(e,t),e}(Cd);function wg(t){return"IndexedDbTransactionError"===t.name}var _g=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Pd("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Pd("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Sg(n)},t.prototype.add=function(t){return Pd("SimpleDb","ADD",this.store.name,t,t),Sg(this.store.add(t))},t.prototype.get=function(t){var e=this;return Sg(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Pd("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Pd("SimpleDb","DELETE",this.store.name,t),Sg(this.store.delete(t))},t.prototype.count=function(){return Pd("SimpleDb","COUNT",this.store.name),Sg(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Pd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new mg((function(n,r){e.onerror=function(t){var e=Tg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new mg((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new vg(i),s=e(i.primaryKey,i.value,o);if(s instanceof mg){var a=s.catch((function(t){return o.done(),mg.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return mg.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Sg(t){return new mg((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Tg(t.target.error);n(e)}}))}var Eg=!1;function Tg(t){var e=yg._t(Object(yu.k)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Cd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Eg||(Eg=!0,setTimeout((function(){throw r}),0)),r}}return t}var Cg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return bd(e,t),e}(fg);function Og(t,e){var n=Rd(t);return yg.It(n.Mt,e)}var xg=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Op(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&xp(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&xp(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Vd.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),em())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Fd(this.mutations,t.mutations,(function(t,e){return Ip(t,e)}))&&Fd(this.baseMutations,t.baseMutations,(function(t,e){return Ip(t,e)}))},t}(),Pg=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Nd(e.mutations.length===r.length);for(var i=Zp(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Ig=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Vd.min()),void 0===o&&(o=Vd.min()),void 0===s&&(s=Yd.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),kg=function(t){this.Lt=t};function Ag(t,e){if(e.document)return Im(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=af.fromSegments(e.noDocument.path),r=jg(e.noDocument.readTime),i=Sf.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=af.fromSegments(e.unknownDocument.path);return r=jg(e.unknownDocument.version),Sf.newUnknownDocument(o,r)}return Md()}function Mg(t,e,n){var r=Ng(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Sm(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:gm(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new ng(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Dg(e.version);return s=e.hasCommittedMutations,new ng(null,new tg(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Dg(e.version);return new ng(new eg(c,l),null,null,!0,r,i)}return Md()}function Ng(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rg(t){var e=new qd(t[0],t[1]);return Vd.fromTimestamp(e)}function Dg(t){var e=t.toTimestamp();return new Qm(e.seconds,e.nanoseconds)}function jg(t){var e=new qd(t.seconds,t.nanoseconds);return Vd.fromTimestamp(e)}function Lg(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Am(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Am(t.Lt,e)})),o=qd.fromMillis(e.localWriteTimeMs);return new xg(e.batchId,o,n,i)}function Fg(t){var e,n,r=jg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?jg(t.lastLimboFreeSnapshotVersion):Vd.min();return void 0!==t.query.documents?(Nd(1===(n=t.query).documents.length),e=Jf(Gf(Cm(n.documents[0])))):e=function(t){return Jf(Rm(t))}(t.query),new Ig(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Yd.fromBase64String(t.resumeToken))}function Ug(t,e){var n,r=Dg(e.snapshotVersion),i=Dg(e.lastLimboFreeSnapshotVersion);n=xf(e.target)?Mm(t.Lt,e.target):Nm(t.Lt,e.target);var o=e.resumeToken.toBase64();return new ig(e.targetId,Cf(e.target),r,o,e.sequenceNumber,i,n)}function qg(t){var e=Rm({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Zf(e,e.limit,"L"):e}var Vg=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return zg(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:jg(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return zg(t).put({bundleId:(n=e).id,createTime:Dg(bm(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Bg(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:qg(e.bundledQuery),readTime:jg(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Bg(t).put(function(t){return{name:t.name,readTime:Dg(bm(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function zg(t){return Og(t,cg.store)}function Bg(t){return Og(t,lg.store)}var Hg=function(){function t(){this.Bt=new Gg}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),mg.resolve()},t.prototype.getCollectionParents=function(t,e){return mg.resolve(this.Bt.getEntries(e))},t}(),Gg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new $p($d.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new $p($d.comparator)).toArray()},t}(),$g=function(){function t(){this.qt=new Gg}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Gm(i)};return Kg(t).put(o)}return mg.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ud(e),""],!1,!0);return Kg(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Wm(o.parent))}return n}))},t}();function Kg(t){return Og(t,ag.store)}var Wg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qg=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Yg(t,e,n){var r=t.store(Jm.store),i=t.store(Zm.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Nd(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Zm.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return mg.waitFor(o).next((function(){return c}))}function Xg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Md();e=t.noDocument}return JSON.stringify(e).length}Qg.DEFAULT_COLLECTION_PERCENTILE=10,Qg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qg.DEFAULT=new Qg(41943040,Qg.DEFAULT_COLLECTION_PERCENTILE,Qg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qg.DISABLED=new Qg(-1,0,0);var Jg=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Nd(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ty(t).Ot({index:Jm.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ey(t),s=ty(t);return s.add({}).next((function(a){Nd("number"==typeof a);for(var u=new xg(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return km(t.Lt,e)})),i=n.mutations.map((function(e){return km(t.Lt,e)}));return new Jm(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new $p((function(t,e){return Ld(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],m=Zm.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,Zm.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),mg.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ty(t).get(e).next((function(t){return t?(Nd(t.userId===n.userId),Lg(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?mg.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ty(t).Ot({index:Jm.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Nd(e.batchId>=r),o=Lg(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ty(t).Ot({index:Jm.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ty(t).Nt(Jm.userMutationsIndex,n).next((function(t){return t.map((function(t){return Lg(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Zm.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ey(t).Ot({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Wm(r[1]);if(a===n.userId&&e.path.isEqual(c))return ty(t).get(u).next((function(t){if(!t)throw Md();Nd(t.userId===n.userId),o.push(Lg(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new $p(Ld),i=[];return e.forEach((function(e){var o=Zm.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ey(t).Ot({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Wm(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),mg.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Zm.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new $p(Ld);return ey(t).Ot({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Wm(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ty(t).get(e).next((function(t){if(null===t)throw Md();Nd(t.userId===n.userId),r.push(Lg(n.R,t))})))})),mg.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Yg(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),mg.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return mg.resolve();var r=IDBKeyRange.lowerBound(Zm.prefixForUser(e.userId)),i=[];return ey(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Wm(t[1]);i.push(o)}else r.done()})).next((function(){Nd(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Zg(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return ny(t).get(this.userId).next((function(t){return t||new Xm(e.userId,-1,"")}))},t}();function Zg(t,e,n){var r=Zm.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ey(t).Ot({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function ty(t){return Og(t,Jm.store)}function ey(t){return Og(t,Zm.store)}function ny(t){return Og(t,Xm.store)}var ry=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),iy=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new ry(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Vd.fromTimestamp(new qd(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return oy(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Nd(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return oy(t).Ot((function(s,a){var u=Fg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return mg.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return oy(t).Ot((function(t,n){var r=Fg(n);e(r)}))},t.prototype.Xt=function(t){return sy(t).get(sg.key).next((function(t){return Nd(null!==t),t}))},t.prototype.Zt=function(t,e){return sy(t).put(sg.key,e)},t.prototype.te=function(t,e){return oy(t).put(Ug(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Cf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return oy(t).Ot({range:r,index:ig.queryTargetsIndexName},(function(t,n,r){var o=Fg(n);Of(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ay(t);return e.forEach((function(e){var s=Gm(e.path);i.push(o.put(new og(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),mg.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ay(t);return mg.forEach(e,(function(e){var o=Gm(e.path);return mg.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ay(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ay(t),i=em();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Wm(t[1]),o=new af(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Gm(e.path),r=IDBKeyRange.bound([n],[Ud(n)],!1,!0),i=0;return ay(t).Ot({index:og.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return oy(t).get(e).next((function(t){return t?Fg(t):null}))},t}();function oy(t){return Og(t,ig.store)}function sy(t){return Og(t,sg.store)}function ay(t){return Og(t,og.store)}function uy(t){return wd(this,void 0,void 0,(function(){return _d(this,(function(e){if(t.code!==Td.FAILED_PRECONDITION||t.message!==dg)throw t;return Pd("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function cy(t,e){var n=t[1],r=e[1],i=Ld(t[0],e[0]);return 0===i?Ld(n,r):i}var ly=function(){function t(t){this.ne=t,this.buffer=new $p(cy),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();cy(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),hy=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Pd("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return wd(e,void 0,void 0,(function(){var e;return _d(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return wg(e=n.sent())?(Pd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,uy(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),dy=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return mg.resolve(Ed.o);var r=new ly(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Pd("LruGarbageCollector","Garbage collection skipped; disabled"),mg.resolve(Wg)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Pd("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Wg):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Pd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),xd()<=vu.a.DEBUG&&Pd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),mg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),fy=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new dy(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return py(t,n)},t.prototype.removeReference=function(t,e,n){return py(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return py(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return ny(t).$t((function(r){return Zg(t,r,e).next((function(t){return t&&(n=!0),mg.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),ay(t).delete([0,Gm(s.path)])}))}));i.push(u)}})).next((function(){return mg.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return py(t,e)},t.prototype.we=function(t,e){var n,r=ay(t),i=Ed.o;return r.Ot({index:og.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ed.o&&e(new af(Wm(n)),i),i=s,n=o):i=Ed.o})).next((function(){i!==Ed.o&&e(new af(Wm(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function py(t,e){return ay(t).put(function(t,e){return new og(0,Gm(t.path),e)}(e,t.currentSequenceNumber))}var my=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Bd(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Hd(this.inner)},t}(),gy=function(){function t(){this.changes=new my((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Vd.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Sf.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?mg.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),yy=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return wy(t).put(_y(e),n)},t.prototype.removeEntry=function(t,e){var n=wy(t),r=_y(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return wy(t).get(_y(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return wy(t).get(_y(e)).next((function(t){return{document:n.ye(e,t),size:Xg(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Qp();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Qp(),i=new Bp(af.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Xg(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return mg.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return wy(t).Ot({range:r},(function(t,e,r){for(var s=af.fromSegments(t);o&&af.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Qp(),o=e.path.length+1,s={};if(n.isEqual(Vd.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Ng(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=ng.collectionReadTimeIndex}return wy(t).Ot(s,(function(t,n,s){if(t.length===o){var a=Ag(r.R,n);e.path.isPrefixOf(a.key.path)?rp(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new vy(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return by(t).get(rg.key).next((function(t){return Nd(!!t),t}))},t.prototype.me=function(t,e){return by(t).put(rg.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ag(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Vd.min()))return n}return Sf.newInvalidDocument(t)},t}(),vy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new my((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return bd(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new $p((function(t,e){return Ld(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Mg(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Xg(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Mg(e.Ie.R,Sf.newNoDocument(o,Vd.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),mg.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(gy);function by(t){return Og(t,rg.store)}function wy(t){return Og(t,ng.store)}function _y(t){return t.path.toArray()}var Sy=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Nd(n<r&&n>=0&&r<=11);var o=new gg("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ym.store)}(t),function(t){t.createObjectStore(Xm.store,{keyPath:Xm.keyPath}),t.createObjectStore(Jm.store,{keyPath:Jm.keyPath,autoIncrement:!0}).createIndex(Jm.userMutationsIndex,Jm.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Zm.store)}(t),Ey(t),function(t){t.createObjectStore(ng.store)}(t));var s=mg.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(og.store),t.deleteObjectStore(ig.store),t.deleteObjectStore(sg.store)}(t),Ey(t)),s=s.next((function(){return function(t){var e=t.store(sg.store),n=new sg(0,0,Vd.min().toTimestamp(),0);return e.put(sg.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Jm.store).Nt().next((function(n){t.deleteObjectStore(Jm.store),t.createObjectStore(Jm.store,{keyPath:Jm.keyPath,autoIncrement:!0}).createIndex(Jm.userMutationsIndex,Jm.userMutationsKeyPath,{unique:!0});var r=e.store(Jm.store),i=n.map((function(t){return r.put(t)}));return mg.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ug.store,{keyPath:ug.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(rg.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ng.store);e.createIndex(ng.readTimeIndex,ng.readTimeIndexPath,{unique:!1}),e.createIndex(ng.collectionReadTimeIndex,ng.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(cg.store,{keyPath:cg.keyPath})}(t),function(t){t.createObjectStore(lg.store,{keyPath:lg.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(ng.store).Ot((function(t,n){e+=Xg(n)})).next((function(){var n=new rg(e);return t.store(rg.store).put(rg.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Xm.store),r=t.store(Jm.store);return n.Nt().next((function(n){return mg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Jm.userMutationsIndex,i).next((function(r){return mg.forEach(r,(function(r){Nd(r.userId===n.userId);var i=Lg(e.R,r);return Yg(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(og.store),n=t.store(ng.store);return t.store(sg.store).get(sg.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new $d(n),s=function(t){return[0,Gm(t)]}(o);r.push(e.get(s).next((function(n){return n?mg.resolve():function(n){return e.put(new og(0,Gm(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return mg.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(ag.store,{keyPath:ag.keyPath});var n=e.store(ag.store),r=new Gg,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Gm(i)})}};return e.store(ng.store).Ot({kt:!0},(function(t,e){var n=new $d(t);return i(n.popLast())})).next((function(){return e.store(Zm.store).Ot({kt:!0},(function(t,e){var n=Wm(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(ig.store);return n.Ot((function(t,r){var i=Fg(r),o=Ug(e.R,i);return n.put(o)}))},t}();function Ey(t){t.createObjectStore(og.store,{keyPath:og.keyPath}).createIndex(og.documentTargetsIndex,og.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ig.store,{keyPath:ig.keyPath}).createIndex(ig.queryTargetsIndexName,ig.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(sg.store)}var Ty="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Cy=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Cd(Td.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fy(this,i),this.Le=n+"main",this.R=new kg(u),this.Be=new yg(this.Le,11,new Sy(this.R)),this.qe=new iy(this.referenceDelegate,this.R),this.Ut=new $g,this.Ue=function(t,e){return new yy(t,e)}(this.R,this.Ut),this.Qe=new Vg,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Id("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Cd(Td.FAILED_PRECONDITION,Ty);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Ed(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return wd(e,void 0,void 0,(function(){return _d(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return wd(e,void 0,void 0,(function(){return _d(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return wd(e,void 0,void 0,(function(){return _d(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return xy(e).put(new ug(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(wg(e))return Pd("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Pd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Oy(t).get(Ym.key).next((function(t){return mg.resolve(e.tn(t))}))},t.prototype.en=function(t){return xy(t).delete(this.clientId)},t.prototype.nn=function(){return wd(this,void 0,void 0,(function(){var t,e,n,r=this;return _d(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Og(t,ug.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return mg.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?mg.resolve(!0):Oy(t).get(Ym.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Cd(Td.FAILED_PRECONDITION,Ty);return!1}}return!(!e.networkEnabled||!e.inForeground)||xy(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Pd("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return wd(this,void 0,void 0,(function(){var t=this;return _d(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ym.store,ug.store],(function(e){var n=new Cg(e,Ed.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return xy(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Jg.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Pd("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",hg,(function(o){return r=new Cg(o,i.Ne?i.Ne.next():Ed.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw Id("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Cd(Td.FAILED_PRECONDITION,dg);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Oy(t).get(Ym.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Cd(Td.FAILED_PRECONDITION,Ty)}))},t.prototype.Ze=function(t){var e=new Ym(this.clientId,this.allowTabSynchronization,Date.now());return Oy(t).put(Ym.key,e)},t.yt=function(){return yg.yt()},t.prototype.Xe=function(t){var e=this,n=Oy(t);return n.get(Ym.key).next((function(t){return e.tn(t)?(Pd("IndexedDbPersistence","Releasing primary lease."),n.delete(Ym.key)):mg.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Id("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Pd("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Id("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Id("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Oy(t){return Og(t,Ym.store)}function xy(t){return Og(t,ug.store)}function Py(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Iy=function(t,e){this.progress=t,this.wn=e},ky=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return af.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Yf(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new af(e)).next((function(t){var e=Xp();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Xp();return this.Ut.getCollectionParents(t,i).next((function(s){return mg.forEach(s,(function(s){var a=function(t,e){return new Bf(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Sf.newInvalidDocument(c),r=r.insert(c,l)),xp(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){rp(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=em(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Mp&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Ay=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=em(),i=em(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),My=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Vd.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return($f(e)||Kf(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(xd()<=vu.a.DEBUG&&Pd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),np(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new $p(ip(t));return e.forEach((function(e,r){rp(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return xd()<=vu.a.DEBUG&&Pd("QueryEngine","Using full collection scan to execute query:",np(e)),this.Sn.getDocumentsMatchingQuery(t,e,Vd.min())},t}(),Ny=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Bp(Ld),this.kn=new my((function(t){return Cf(t)}),Of),this.On=Vd.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ky(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Ry(t,e,n,r){return new Ny(t,e,n,r)}function Dy(t,e){return wd(this,void 0,void 0,(function(){var n,r,i,o;return _d(this,(function(s){switch(s.label){case 0:return n=Rd(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new ky(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=em(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function jy(t,e){var n=Rd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=mg.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Nd(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Ly(t){var e=Rd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Fy(t,e){var n=Rd(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Nd(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=Qp();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Uy(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Vd.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return mg.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function Uy(t,e,n,r,i){var o=em();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Qp();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Vd.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Pd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function qy(t,e){var n=Rd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Vy(t,e){var n=Rd(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?mg.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new Ig(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function zy(t,e,n){return wd(this,void 0,void 0,(function(){var r,i,o,s;return _d(this,(function(a){switch(a.label){case 0:r=Rd(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!wg(s=a.sent()))throw s;return Pd("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function By(t,e,n){var r=Rd(t),i=Vd.min(),o=em();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Rd(t),i=r.kn.get(n);return void 0!==i?mg.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Jf(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Vd.min(),n?o:em())})).next((function(t){return{documents:t,Bn:o}}))}))}function Hy(t,e){var n=Rd(t),r=Rd(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Gy(t){var e=Rd(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Rd(t),i=Qp(),o=Ng(n),s=wy(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:ng.readTimeIndex,range:a},(function(t,e){var n=Ag(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Rg(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn;return e.On=t.readTime,n}))}function $y(t){return wd(this,void 0,void 0,(function(){var e;return _d(this,(function(n){return[2,(e=Rd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=wy(t),n=Vd.min();return e.Ot({index:ng.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Rg(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}function Ky(t,e,n,r){return wd(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,d,f;return _d(this,(function(p){switch(p.label){case 0:for(i=Rd(t),o=em(),s=Qp(),a=Zp(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Vy(i,function(t){return Jf(Gf($d.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Uy(t,d,s,Vd.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return i.qe.addMatchingKeys(t,o,f.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Wy(t,e,n){return void 0===n&&(n=em()),wd(this,void 0,void 0,(function(){var r,i;return _d(this,(function(o){switch(o.label){case 0:return[4,Vy(t,Jf(qg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Rd(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=bm(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Yd.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var Qy=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return mg.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:bm(n.createTime)}),mg.resolve()},t.prototype.getNamedQuery=function(t,e){return mg.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:qg(t.bundledQuery),readTime:bm(t.readTime)}}(e)),mg.resolve()},t}(),Yy=function(){function t(){this.Wn=new $p(Xy.Gn),this.zn=new $p(Xy.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Xy(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Xy(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new af(new $d([])),r=new Xy(n,t),i=new Xy(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new af(new $d([])),n=new Xy(e,t),r=new Xy(e,t+1),i=em();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Xy(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Xy=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return af.comparator(t.key,e.key)||Ld(t.ns,e.ns)},t.Hn=function(t,e){return Ld(t.ns,e.ns)||af.comparator(t.key,e.key)},t}(),Jy=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new $p(Xy.Gn)}return t.prototype.checkEmpty=function(t){return mg.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new xg(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Xy(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return mg.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return mg.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return mg.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return mg.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return mg.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Xy(e,0),i=new Xy(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),mg.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new $p(Ld);return e.forEach((function(t){var e=new Xy(t,0),i=new Xy(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),mg.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;af.isDocumentKey(i)||(i=i.child(""));var o=new Xy(new af(i),0),s=new $p(Ld);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),mg.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Nd(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return mg.forEach(e.mutations,(function(i){var o=new Xy(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Xy(e,0),r=this.rs.firstAfterOrEqual(n);return mg.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return mg.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Zy=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Bp(af.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return mg.resolve(n?n.document.clone():Sf.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Qp();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Sf.newInvalidDocument(t))})),mg.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Qp(),i=new af(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||rp(e,u)&&(r=r.insert(u.key,u.clone()))}return mg.resolve(r)},t.prototype.fs=function(t,e){return mg.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new tv(this)},t.prototype.getSize=function(t){return mg.resolve(this.size)},t}(),tv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return bd(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),mg.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(gy),ev=function(){function t(t){this.persistence=t,this.ds=new my((function(t){return Cf(t)}),Of),this.lastRemoteSnapshotVersion=Vd.min(),this.highestTargetId=0,this.ws=0,this._s=new Yy,this.targetCount=0,this.ys=ry.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),mg.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return mg.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return mg.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),mg.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),mg.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ry(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,mg.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),mg.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,mg.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),mg.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return mg.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return mg.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),mg.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),mg.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),mg.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return mg.resolve(n)},t.prototype.containsKey=function(t,e){return mg.resolve(this._s.containsKey(e))},t}(),nv=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ed(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ev(this),this.Ut=new Hg,this.Ue=function(t,e){return new Zy(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new kg(e),this.Qe=new Qy(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Jy(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Pd("MemoryPersistence","Starting transaction:",t);var i=new rv(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return mg.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),rv=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return bd(e,t),e}(fg),iv=function(){function t(t){this.persistence=t,this.As=new Yy,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Md()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),mg.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),mg.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),mg.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mg.forEach(this.vs,(function(r){var i=af.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return mg.or([function(){return mg.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ov=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function sv(t,e){return"firestore_clients_"+t+"_"+e}function av(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function uv(t,e){return"firestore_targets_"+t+"_"+e}ov.UNAUTHENTICATED=new ov(null),ov.GOOGLE_CREDENTIALS=new ov("google-credentials-uid"),ov.FIRST_PARTY=new ov("first-party-uid");var cv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Cd(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Id("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),lv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cd(i.error.code,i.error.message)),o?new t(e,i.state,r):(Id("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),hv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=rm(),s=0;i&&s<r.activeTargetIds.length;++s)i=sf(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Id("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),dv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Id("SharedClientState","Failed to parse online state: "+e),null)},t}(),fv=function(){function t(){this.activeTargetIds=rm()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),pv=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Bp(Ld),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=sv(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new fv),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return wd(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return _d(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(sv(this.persistenceKey,r)))&&(o=hv.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(uv(this.persistenceKey,t));if(n){var r=lv.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(uv(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Pd("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Pd("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Pd("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Pd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Id("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return wd(e,void 0,void 0,(function(){var t,e,r,i,o,s;return _d(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Ed.o;if(null!=t)try{var n=JSON.parse(t);Nd("number"==typeof n),e=n}catch(t){Id("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ed.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new cv(this.currentUser,t,e,n),i=av(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=av(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=uv(this.persistenceKey,t),i=new lv(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return hv.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return cv.Vs(new ov(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return lv.Vs(r,e)},t.prototype.js=function(t){return dv.Vs(t)},t.prototype.ii=function(t){return wd(this,void 0,void 0,(function(){return _d(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Pd("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=rm();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),mv=function(){function t(){this.li=new fv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new fv,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),gv=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),yv=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Pd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Pd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),vv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bv=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),wv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return bd(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new yd;s.listenOnce(pd.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case fd.NO_ERROR:var e=s.getResponseJson();Pd("Connection","XHR received:",JSON.stringify(e)),i(e);break;case fd.TIMEOUT:Pd("Connection",'RPC "'+t+'" timed out'),o(new Cd(Td.DEADLINE_EXCEEDED,"Request time out"));break;case fd.HTTP_ERROR:var n=s.getStatus();if(Pd("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Td).indexOf(e)>=0?e:Td.UNKNOWN}(r.status);o(new Cd(a,r.message))}else o(new Cd(Td.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Cd(Td.UNAVAILABLE,"Connection failed."));break;default:Md()}}finally{Pd("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ud,i=hl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(yu.q)()||Object(yu.s)()||Object(yu.n)()||Object(yu.o)()||Object(yu.t)()||Object(yu.m)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Pd("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new bv({Ei:function(t){c?Pd("Connection","Not sending because WebChannel is closed:",t):(u||(Pd("Connection","Opening WebChannel transport."),a.open(),u=!0),Pd("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,gd.EventType.OPEN,(function(){c||Pd("Connection","WebChannel transport opened.")})),h(a,gd.EventType.CLOSE,(function(){c||(c=!0,Pd("Connection","WebChannel transport closed"),l.Vi())})),h(a,gd.EventType.ERROR,(function(t){c||(c=!0,kd("Connection","WebChannel transport errored:",t),l.Vi(new Cd(Td.UNAVAILABLE,"The operation could not be completed")))})),h(a,gd.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Nd(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Pd("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=jp[t];if(void 0!==e)return zp(e)}(i),s=r.message;void 0===o&&(o=Td.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Cd(o,s)),a.close()}else Pd("Connection","WebChannel received:",n),l.Si(n)}})),h(i,md.STAT_EVENT,(function(t){10===t.stat?Pd("Connection","Detected buffering proxy"):11===t.stat&&Pd("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Pd("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Pd("RestConnection","Received: ",t),t}),(function(e){throw kd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+vv[t]},t}());function _v(){return"undefined"!=typeof window?window:null}function Sv(){return"undefined"!=typeof document?document:null}function Ev(t){return new mm(t,!0)}var Tv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Pd("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Cv=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Tv(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return wd(this,void 0,void 0,(function(){return _d(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return wd(this,void 0,void 0,(function(){return _d(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return wd(this,void 0,void 0,(function(){return _d(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Td.RESOURCE_EXHAUSTED?(Id(e.toString()),Id("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Td.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Cd(Td.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return wd(t,void 0,void 0,(function(){return _d(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Pd("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Pd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ov=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return bd(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Md()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Nd(void 0===e||"string"==typeof e),Yd.fromBase64String(e||"")):(Nd(void 0===e||e instanceof Uint8Array),Yd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Td.UNKNOWN:zp(t.code);return new Cd(e,t.message||"")}(a);n=new um(r,i,o,s||null)}else if("documentChange"in e){i=Em(t,(r=e.documentChange).document.name),o=bm(r.document.updateTime);var a=new wf({mapValue:{fields:r.document.fields}}),u=(s=Sf.newFoundDocument(i,o,a),r.targetIds||[]);n=new sm(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Em(t,(r=e.documentDelete).document),o=r.readTime?bm(r.readTime):Vd.min(),a=Sf.newNoDocument(i,o),n=new sm([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Em(t,(r=e.documentRemove).document),n=new sm([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Md();var c=e.filter;i=new qp(r=c.count||0),n=new am(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Vd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Vd.min():e.readTime?bm(e.readTime):Vd.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Om(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=xf(r)?{documents:Mm(t,r)}:{query:Nm(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ym(t,e.resumeToken):e.snapshotVersion.compareTo(Vd.min())>0&&(n.readTime=gm(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Md()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Om(this.R),e.removeTarget=t,this.cr(e)},e}(Cv),xv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return bd(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Nd(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Nd(void 0!==e),t.map((function(t){return function(t,e){var n=bm(t.updateTime?t.updateTime:e);return n.isEqual(Vd.min())&&(n=bm(e)),new Sp(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=bm(t.commitTime);return this.listener.Tr(n,e)}return Nd(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Om(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return km(e.R,t)}))};this.cr(n)},e}(Cv),Pv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return bd(e,t),e.prototype.br=function(){if(this.Rr)throw new Cd(Td.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw t.code===Td.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw t.code===Td.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Rr=!1},e}((function(){})),Iv=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Id(e),this.Vr=!1):Pd("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),kv=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return wd(o,void 0,void 0,(function(){return _d(this,(function(t){switch(t.label){case 0:return Uv(this)?(Pd("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return wd(this,void 0,void 0,(function(){var e;return _d(this,(function(n){switch(n.label){case 0:return(e=Rd(t)).$r.add(4),[4,Mv(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Av(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Iv(n,r)};function Av(t){return wd(this,void 0,void 0,(function(){var e,n;return _d(this,(function(r){switch(r.label){case 0:if(!Uv(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Mv(t){return wd(this,void 0,void 0,(function(){var e,n;return _d(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Nv(t,e){var n=Rd(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Fv(n)?Lv(n):tb(n).er()&&Dv(n,e))}function Rv(t,e){var n=Rd(t),r=tb(n);n.Or.delete(e),r.er()&&jv(n,e),0===n.Or.size&&(r.er()?r.ir():Uv(n)&&n.Br.set("Unknown"))}function Dv(t,e){t.qr.U(e.targetId),tb(t).mr(e)}function jv(t,e){t.qr.U(e),tb(t).yr(e)}function Lv(t){t.qr=new lm({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),tb(t).start(),t.Br.Sr()}function Fv(t){return Uv(t)&&!tb(t).tr()&&t.Or.size>0}function Uv(t){return 0===Rd(t).$r.size}function qv(t){t.qr=void 0}function Vv(t){return wd(this,void 0,void 0,(function(){return _d(this,(function(e){return t.Or.forEach((function(e,n){Dv(t,e)})),[2]}))}))}function zv(t,e){return wd(this,void 0,void 0,(function(){return _d(this,(function(n){return qv(t),Fv(t)?(t.Br.Nr(e),Lv(t)):t.Br.set("Unknown"),[2]}))}))}function Bv(t,e,n){return wd(this,void 0,void 0,(function(){var r,i,o;return _d(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof um&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return wd(this,void 0,void 0,(function(){var n,r,i,o;return _d(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Pd("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Hv(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof sm?t.qr.X(e):e instanceof am?t.qr.rt(e):t.qr.et(e),n.isEqual(Vd.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Ly(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Yd.EMPTY_BYTE_STRING,n.snapshotVersion)),jv(t,e);var r=new Ig(n.target,e,1,n.sequenceNumber);Dv(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Pd("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Hv(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Hv(t,e,n){return wd(this,void 0,void 0,(function(){var r=this;return _d(this,(function(i){switch(i.label){case 0:if(!wg(e))throw e;return t.$r.add(1),[4,Mv(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Ly(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return wd(r,void 0,void 0,(function(){return _d(this,(function(e){switch(e.label){case 0:return Pd("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Av(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Gv(t,e){return e().catch((function(n){return Hv(t,n,e)}))}function $v(t){return wd(this,void 0,void 0,(function(){var e,n,r,i,o;return _d(this,(function(s){switch(s.label){case 0:e=Rd(t),n=eb(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Uv(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,qy(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=eb(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Hv(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Kv(e)&&Wv(e),[2]}}))}))}function Kv(t){return Uv(t)&&!eb(t).tr()&&t.kr.length>0}function Wv(t){eb(t).start()}function Qv(t){return wd(this,void 0,void 0,(function(){return _d(this,(function(e){return eb(t).Ar(),[2]}))}))}function Yv(t){return wd(this,void 0,void 0,(function(){var e,n,r;return _d(this,(function(i){for(e=eb(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Xv(t,e,n){return wd(this,void 0,void 0,(function(){var r,i;return _d(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Pg.from(r,e,n),[4,Gv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,$v(t)];case 2:return o.sent(),[2]}}))}))}function Jv(t,e){return wd(this,void 0,void 0,(function(){return _d(this,(function(n){switch(n.label){case 0:return e&&eb(t).pr?[4,function(t,e){return wd(this,void 0,void 0,(function(){var n,r;return _d(this,(function(i){switch(i.label){case 0:return Vp(r=e.code)&&r!==Td.ABORTED?(n=t.kr.shift(),eb(t).sr(),[4,Gv(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,$v(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Kv(t)&&Wv(t),[2]}}))}))}function Zv(t,e){return wd(this,void 0,void 0,(function(){var n;return _d(this,(function(r){switch(r.label){case 0:return n=Rd(t),e?(n.$r.delete(2),[4,Av(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Mv(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function tb(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Rd(t);return r.br(),new Ov(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Vv.bind(null,t),Ri:zv.bind(null,t),_r:Bv.bind(null,t)}),t.Mr.push((function(n){return wd(e,void 0,void 0,(function(){return _d(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Fv(t)?Lv(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),qv(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function eb(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Rd(t);return r.br(),new xv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Qv.bind(null,t),Ri:Jv.bind(null,t),Ir:Yv.bind(null,t),Tr:Xv.bind(null,t)}),t.Mr.push((function(n){return wd(e,void 0,void 0,(function(){return _d(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,$v(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Pd("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var nb=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new pg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cd(Td.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function rb(t,e){if(Id("AsyncQueue",e+": "+t),wg(t))return new Cd(Td.UNAVAILABLE,e+": "+t);throw t}var ib=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||af.comparator(e.key,n.key)}:function(t,e){return af.comparator(t.key,e.key)},this.keyedMap=Xp(),this.sortedSet=new Bp(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),ob=function(){function t(){this.Kr=new Bp(af.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Md():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),sb=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ib.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ab=function(){this.Wr=void 0,this.listeners=[]},ub=function(){this.queries=new my((function(t){return ep(t)}),tp),this.onlineState="Unknown",this.Gr=new Set};function cb(t,e){return wd(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return _d(this,(function(c){switch(c.label){case 0:if(n=Rd(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new ab),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=rb(a,"Initialization of query '"+np(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&fb(n),[2]}}))}))}function lb(t,e){return wd(this,void 0,void 0,(function(){var n,r,i,o,s;return _d(this,(function(a){return n=Rd(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function hb(t,e){for(var n=Rd(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&fb(n)}function db(t,e,n){var r=Rd(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function fb(t){t.Gr.forEach((function(t){t.next()}))}var pb=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new sb(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=sb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),mb=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),gb=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Em(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Im(this.R,t.document,!1):Sf.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return bm(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new gb(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||em()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return wd(this,void 0,void 0,(function(){var t,e,n,r,i;return _d(this,(function(o){switch(o.label){case 0:return[4,Ky(this.localStore,new gb(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Wy(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Iy(Object.assign({},this.progress),t))]}}))}))}}();var yb=function(t){this.key=t},vb=function(t){this.key=t},bb=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=em(),this.mutatedKeys=em(),this.lo=ip(t),this.fo=new ib(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new ob,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=$f(this.query)&&i.size===this.query.limit?i.last():null,c=Kf(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=rp(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),$f(this.query)||Kf(this.query))for(;s.size>this.query.limit;){var l=$f(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Md()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new sb(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ob,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=em(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new vb(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new yb(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=em();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return sb.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),wb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},_b=function(t){this.key=t,this.bo=!1},Sb=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new my((function(t){return ep(t)}),tp),this.Vo=new Map,this.So=new Set,this.Do=new Bp(af.comparator),this.Co=new Map,this.No=new Yy,this.xo={},this.Fo=new Map,this.ko=ry.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Eb(t,e){return wd(this,void 0,void 0,(function(){var n,r,i,o,s;return _d(this,(function(a){switch(a.label){case 0:return n=Jb(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Vy(n.localStore,Jf(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Tb(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Nv(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function Tb(t,e,n,r){return wd(this,void 0,void 0,(function(){var i,o,s,a,u,c;return _d(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return wd(this,void 0,void 0,(function(){var i,o,s;return _d(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,By(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Lb(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,By(t.localStore,e,!0)];case 1:return i=l.sent(),o=new bb(e,i.Bn),s=o._o(i.documents),a=om.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Lb(t,n,u.To),c=new wb(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Cb(t,e){return wd(this,void 0,void 0,(function(){var n,r,i;return _d(this,(function(o){switch(o.label){case 0:return n=Rd(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!tp(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,zy(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Rv(n.remoteStore,r.targetId),Db(n,r.targetId)})).catch(uy)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Db(n,r.targetId),[4,zy(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ob(t,e,n){return wd(this,void 0,void 0,(function(){var r,i,o,s;return _d(this,(function(a){switch(a.label){case 0:r=Zb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Rd(t),i=qd.now(),o=e.reduce((function(t,e){return t.add(e.key)}),em());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Pp(c,n.get(c.key));null!=l&&s.push(new Mp(c.key,l,_f(l.toProto().mapValue),Ep.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Bp(Ld)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,qb(r,i.changes)];case 3:return a.sent(),[4,$v(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=rb(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function xb(t,e){return wd(this,void 0,void 0,(function(){var n,r;return _d(this,(function(i){switch(i.label){case 0:n=Rd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Fy(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Nd(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Nd(r.bo):t.removedDocuments.size>0&&(Nd(r.bo),r.bo=!1))})),[4,qb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,uy(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Pb(t,e,n){var r=Rd(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Rd(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&fb(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ib(t,e,n){return wd(this,void 0,void 0,(function(){var r,i,o,s,a,u;return _d(this,(function(c){switch(c.label){case 0:return(r=Rd(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Bp(af.comparator)).insert(o,Sf.newNoDocument(o,Vd.min())),a=em().add(o),u=new im(Vd.min(),new Map,new $p(Ld),s,a),[4,xb(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Ub(r),[3,4];case 2:return[4,zy(r.localStore,e,!1).then((function(){return Db(r,e,n)})).catch(uy)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function kb(t,e){return wd(this,void 0,void 0,(function(){var n,r,i;return _d(this,(function(o){switch(o.label){case 0:n=Rd(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,jy(n.localStore,e)];case 2:return i=o.sent(),Rb(n,r,null),Nb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,qb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,uy(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ab(t,e,n){return wd(this,void 0,void 0,(function(){var r,i;return _d(this,(function(o){switch(o.label){case 0:r=Rd(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Rd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Nd(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Rb(r,e,n),Nb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,qb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,uy(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Mb(t,e){return wd(this,void 0,void 0,(function(){var n,r,i,o,s;return _d(this,(function(a){switch(a.label){case 0:Uv((n=Rd(t)).remoteStore)||Pd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Rd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=rb(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Nb(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Rb(t,e,n){var r=Rd(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Db(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||jb(t,e)}))}function jb(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Rv(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Ub(t))}function Lb(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof yb?(t.No.addReference(o.key,e),Fb(t,o)):o instanceof vb?(Pd("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||jb(t,o.key)):Md()}}function Fb(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Pd("SyncEngine","New document in limbo: "+n),t.So.add(r),Ub(t))}function Ub(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new af($d.fromString(e)),r=t.ko.next();t.Co.set(r,new _b(n)),t.Do=t.Do.insert(n,r),Nv(t.remoteStore,new Ig(Jf(Gf(n.path)),r,2,Ed.o))}}function qb(t,e,n){return wd(this,void 0,void 0,(function(){var r,i,o,s;return _d(this,(function(a){switch(a.label){case 0:return r=Rd(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.$o(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ay.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return wd(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return _d(this,(function(l){switch(l.label){case 0:n=Rd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return mg.forEach(e,(function(e){return mg.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return mg.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!wg(r=l.sent()))throw r;return Pd("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Vb(t,e){return wd(this,void 0,void 0,(function(){var n,r;return _d(this,(function(i){switch(i.label){case 0:return(n=Rd(t)).currentUser.isEqual(e)?[3,3]:(Pd("SyncEngine","User change. New user:",e.toKey()),[4,Dy(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Cd(Td.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,qb(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function zb(t,e){var n=Rd(t),r=n.Co.get(e);if(r&&r.bo)return em().add(r.key);var i=em(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Bb(t,e){return wd(this,void 0,void 0,(function(){var n,r,i;return _d(this,(function(o){switch(o.label){case 0:return[4,By((n=Rd(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Lb(n,e.targetId,i.To),i)]}}))}))}function Hb(t){return wd(this,void 0,void 0,(function(){var e;return _d(this,(function(n){return[2,Gy((e=Rd(t)).localStore).then((function(t){return qb(e,t)}))]}))}))}function Gb(t,e,n,r){return wd(this,void 0,void 0,(function(){var i,o;return _d(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Rd(t),r=Rd(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):mg.resolve(null)}))}))}((i=Rd(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,$v(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Rb(i,e,r||null),Nb(i,e),function(t,e){Rd(Rd(t)._n).Gt(e)}(i.localStore,e)):Md(),s.label=4;case 4:return[4,qb(i,o)];case 5:return s.sent(),[3,7];case 6:Pd("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function $b(t,e){return wd(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return _d(this,(function(c){switch(c.label){case 0:return Jb(n=Rd(t)),Zb(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Kb(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Zv(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Nv(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return Db(n,e),zy(n.localStore,e,!0)})),Rv(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,Kb(n,a)];case 5:return c.sent(),function(t){var e=Rd(t);e.Co.forEach((function(t,n){Rv(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Bp(af.comparator)}(n),n.Oo=!1,[4,Zv(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Kb(t,e,n){return wd(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return _d(this,(function(m){switch(m.label){case 0:n=Rd(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Vy(n.localStore,Jf(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Bb(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Hy(n.localStore,a)];case 8:return p=m.sent(),[4,Vy(n.localStore,p)];case 9:return u=m.sent(),[4,Tb(n,Wb(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Wb(t){return Hf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qb(t){var e=Rd(t);return Rd(Rd(e.localStore).persistence).fn()}function Yb(t,e,n,r){return wd(this,void 0,void 0,(function(){var i,o,s;return _d(this,(function(a){switch(a.label){case 0:return(i=Rd(t)).Oo?(Pd("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Gy(i.localStore)];case 3:return o=a.sent(),s=im.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,qb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,zy(i.localStore,e,!0)];case 6:return a.sent(),Db(i,e,r),[3,8];case 7:Md(),a.label=8;case 8:return[2]}}))}))}function Xb(t,e,n){return wd(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return _d(this,(function(d){switch(d.label){case 0:if(!(r=Jb(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Pd("SyncEngine","Adding an already active target "+s),[3,5]):[4,Hy(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,Vy(r.localStore,a)];case 3:return u=d.sent(),[4,Tb(r,Wb(a),u.targetId,!1)];case 4:d.sent(),Nv(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return _d(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,zy(r.localStore,t,!1).then((function(){Rv(r.remoteStore,t),Db(r,t)})).catch(uy)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Jb(t){var e=Rd(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ib.bind(null,e),e.vo._r=hb.bind(null,e.eventManager),e.vo.Mo=db.bind(null,e.eventManager),e}function Zb(t){var e=Rd(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ab.bind(null,e),e}var tw=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return wd(this,void 0,void 0,(function(){return _d(this,(function(e){switch(e.label){case 0:return this.R=Ev(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Ry(this.persistence,new My,t.initialUser,this.R)},t.prototype.qo=function(t){return new nv(iv.bs,this.R)},t.prototype.Bo=function(t){return new mv},t.prototype.terminate=function(){return wd(this,void 0,void 0,(function(){return _d(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),ew=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return bd(e,t),e.prototype.initialize=function(e){return wd(this,void 0,void 0,(function(){return _d(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,$y(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Zb(this.Ko.syncEngine)];case 4:return n.sent(),[4,$v(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Ry(this.persistence,new My,t.initialUser,this.R)},e.prototype.Uo=function(t){return new hy(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Py(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Qg.withCacheSize(this.cacheSizeBytes):Qg.DEFAULT;return new Cy(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,_v(),Sv(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new mv},e}(tw),nw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return bd(e,t),e.prototype.initialize=function(e){return wd(this,void 0,void 0,(function(){var n,r=this;return _d(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof pv?(this.sharedClientState.syncEngine={ui:Gb.bind(null,n),ai:Yb.bind(null,n),hi:Xb.bind(null,n),fn:Qb.bind(null,n),ci:Hb.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return wd(r,void 0,void 0,(function(){return _d(this,(function(e){switch(e.label){case 0:return[4,$b(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=_v();if(!pv.yt(e))throw new Cd(Td.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Py(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new pv(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ew),rw=function(){function t(){}return t.prototype.initialize=function(t,e){return wd(this,void 0,void 0,(function(){var n=this;return _d(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Pb(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Vb.bind(null,this.syncEngine),[4,Zv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new ub},t.prototype.createDatastore=function(t){var e=Ev(t.databaseInfo.databaseId),n=new wv(t.databaseInfo);return function(t,e,n){return new Pv(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Pb(s.syncEngine,t,0)},o=yv.yt()?new yv:new gv,new kv(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Sb(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return wd(this,void 0,void 0,(function(){var e;return _d(this,(function(n){switch(n.label){case 0:return e=Rd(t),Pd("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Mv(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),iw=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ow=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new pg,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return wd(this,void 0,void 0,(function(){return _d(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return wd(this,void 0,void 0,(function(){return _d(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return wd(this,void 0,void 0,(function(){var t,e,n,r;return _d(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new mb(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return wd(this,void 0,void 0,(function(){var t,e;return _d(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return wd(this,void 0,void 0,(function(){var e;return _d(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return wd(this,void 0,void 0,(function(){var t,e;return _d(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return wd(this,void 0,void 0,(function(){var e,n=this;return _d(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Cd(Td.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return wd(this,void 0,void 0,(function(){var n,r,i,o,s,a;return _d(this,(function(u){switch(u.label){case 0:return n=Rd(t),r=Om(n.R)+"/documents",i={documents:e.map((function(t){return Sm(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Nd(!!e.found);var n=Em(t,e.found.name),r=bm(e.found.updateTime),i=new wf({mapValue:{fields:e.found.fields}});return Sf.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Nd(!!e.missing),Nd(!!e.readTime);var n=Em(t,e.missing),r=bm(e.readTime);return Sf.newNoDocument(n,r)}(t,e):Md()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Nd(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Fp(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return wd(this,void 0,void 0,(function(){var t,e=this;return _d(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=af.fromPath(n);e.mutations.push(new Up(r,e.precondition(r)))})),[4,function(t,e){return wd(this,void 0,void 0,(function(){var n,r,i;return _d(this,(function(o){switch(o.label){case 0:return n=Rd(t),r=Om(n.R)+"/documents",i={writes:e.map((function(t){return km(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Md();e=Vd.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Cd(Td.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ep.updateTime(e):Ep.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Vd.min()))throw new Cd(Td.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ep.updateTime(e)}return Ep.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),sw=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Tv(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return wd(t,void 0,void 0,(function(){var t,e,n=this;return _d(this,(function(r){return t=new ow(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!rf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Vp(e)}return!1},t}(),aw=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ov.UNAUTHENTICATED,this.clientId=jd.u(),this.credentialListener=function(){},this.receivedInitialUser=new pg,this.credentials.setChangeListener((function(t){Pd("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return wd(this,void 0,void 0,(function(){return _d(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Cd(Td.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new pg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return wd(t,void 0,void 0,(function(){var t,n;return _d(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=rb(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function uw(t,e){return wd(this,void 0,void 0,(function(){var n,r,i=this;return _d(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Pd("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return wd(i,void 0,void 0,(function(){return _d(this,(function(t){switch(t.label){case 0:return[4,Dy(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function cw(t,e){return wd(this,void 0,void 0,(function(){var n,r;return _d(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,lw(t)];case 1:return n=i.sent(),Pd("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return wd(this,void 0,void 0,(function(){var n,r;return _d(this,(function(i){switch(i.label){case 0:return(n=Rd(t)).asyncQueue.verifyOperationInProgress(),Pd("RemoteStore","RemoteStore received new credentials"),r=Uv(n),n.$r.add(3),[4,Mv(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Av(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function lw(t){return wd(this,void 0,void 0,(function(){return _d(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Pd("FirestoreClient","Using default OfflineComponentProvider"),[4,uw(t,new tw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function hw(t){return wd(this,void 0,void 0,(function(){return _d(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Pd("FirestoreClient","Using default OnlineComponentProvider"),[4,cw(t,new rw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function dw(t){return lw(t).then((function(t){return t.persistence}))}function fw(t){return lw(t).then((function(t){return t.localStore}))}function pw(t){return hw(t).then((function(t){return t.remoteStore}))}function mw(t){return hw(t).then((function(t){return t.syncEngine}))}function gw(t){return wd(this,void 0,void 0,(function(){var e,n;return _d(this,(function(r){switch(r.label){case 0:return[4,hw(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Eb.bind(null,e.syncEngine),n.onUnlisten=Cb.bind(null,e.syncEngine),n)]}}))}))}function yw(t,e,n){var r=this;void 0===n&&(n={});var i=new pg;return t.asyncQueue.enqueueAndForget((function(){return wd(r,void 0,void 0,(function(){var r;return _d(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new iw({next:function(o){e.enqueueAndForget((function(){return lb(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Cd(Td.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Cd(Td.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new pb(Gf(n.path),o,{includeMetadataChanges:!0,so:!0});return cb(t,s)},[4,gw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function vw(t,e,n){var r=this;void 0===n&&(n={});var i=new pg;return t.asyncQueue.enqueueAndForget((function(){return wd(r,void 0,void 0,(function(){var r;return _d(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new iw({next:function(n){e.enqueueAndForget((function(){return lb(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Cd(Td.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new pb(n,o,{includeMetadataChanges:!0,so:!0});return cb(t,s)},[4,gw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var bw=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},ww=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),_w=new Map,Sw=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ew=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(ov.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Tw=function(){function t(t){var e=this;this.oc=null,this.currentUser=ov.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Pd("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Nd("string"==typeof n.accessToken),new Sw(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Nd(null===t||"string"==typeof t),new ov(t)},t}(),Cw=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=ov.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Ow=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Cw(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(ov.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function xw(t,e,n){if(!n)throw new Cd(Td.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Pw(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Cd(Td.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Iw(t,e,n,r){if(!0===e&&!0===r)throw new Cd(Td.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function kw(t){if(!af.isDocumentKey(t))throw new Cd(Td.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Aw(t){if(af.isDocumentKey(t))throw new Cd(Td.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Mw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Md()}function Nw(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Cd(Td.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Mw(t);throw new Cd(Td.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Rw(t,e){if(e<=0)throw new Cd(Td.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Dw=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Cd(Td.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Cd(Td.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Iw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),jw=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,t instanceof ww?(this._databaseId=t,this._credentials=new Ew):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Cd(Td.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ww(t.options.projectId)}(t),this._credentials=new Tw(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Cd(Td.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Cd(Td.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ew;switch(t.type){case"gapi":var e=t.client;return Nd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ow(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Cd(Td.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=_w.get(this))&&(Pd("ComponentProvider","Removing Datastore"),_w.delete(this),t.terminate()),Promise.resolve();var t},t}(),Lw=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Uw(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Fw=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Uw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Gf(r))||this)._path=r,i.type="collection",i}return bd(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Lw(this.firestore,null,new af(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Fw);function qw(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(yu.j)(t),xw("collection","path",e),t instanceof jw)return Aw(n=$d.fromString.apply($d,Sd([e],r))),new Uw(t,null,n);if(!(t instanceof Lw||t instanceof Uw))throw new Cd(Td.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Aw(n=$d.fromString.apply($d,Sd([t.path],r)).child($d.fromString(e))),new Uw(t.firestore,null,n)}function Vw(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(yu.j)(t),1===arguments.length&&(e=jd.u()),xw("doc","path",e),t instanceof jw)return kw(n=$d.fromString.apply($d,Sd([e],r))),new Lw(t,null,new af(n));if(!(t instanceof Lw||t instanceof Uw))throw new Cd(Td.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kw(n=t._path.child($d.fromString.apply($d,Sd([e],r)))),new Lw(t.firestore,t instanceof Uw?t._converter:null,new af(n))}function zw(t,e){return t=Object(yu.j)(t),e=Object(yu.j)(e),(t instanceof Lw||t instanceof Uw)&&(e instanceof Lw||e instanceof Uw)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Bw(t,e){return t=Object(yu.j)(t),e=Object(yu.j)(e),t instanceof Fw&&e instanceof Fw&&t.firestore===e.firestore&&tp(t._query,e._query)&&t._converter===e._converter}var Hw=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Tv(this,"async_queue_retry"),this.Ec=function(){var e=Sv();e&&Pd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Sv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Sv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return wd(this,void 0,void 0,(function(){var t,e=this;return _d(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!wg(t=n.sent()))throw t;return Pd("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,Id("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=nb.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Md()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return wd(this,void 0,void 0,(function(){var t;return _d(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Gw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new pg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var $w=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Hw,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return bd(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ww(this),this._firestoreClient.terminate()},e}(jw);function Kw(t){return t._firestoreClient||Ww(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ww(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new bw(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new aw(t._credentials,t._queue,r)}function Qw(t,e,n){var r=this,i=new pg;return t.asyncQueue.enqueue((function(){return wd(r,void 0,void 0,(function(){var r;return _d(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,uw(t,n)];case 1:return o.sent(),[4,cw(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Td.FAILED_PRECONDITION||t.code===Td.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Yw(t){if(t._initialized||t._terminated)throw new Cd(Td.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Xw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Cd(Td.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wd(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Jw=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Yd.fromBase64String(e))}catch(e){throw new Cd(Td.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Yd.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Zw=function(t){this._methodName=t},t_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Cd(Td.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Cd(Td.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Ld(this._lat,t._lat)||Ld(this._long,t._long)},t}(),e_=/^__.*__$/,n_=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Mp(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ap(t,this.data,e,this.fieldTransforms)},t}(),r_=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Mp(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function i_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Md()}}var o_=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return C_(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(i_(this.Dc)&&e_.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),s_=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Ev(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new o_({Dc:t,methodName:e,Lc:n,path:Wd.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function a_(t){var e=t._freezeSettings(),n=Ev(t._databaseId);return new s_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u_(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);__("Data must be an object, but it was:",s,r);var a,u,c=b_(r,s);if(o.merge)a=new Qd(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=S_(e,d[h],n);if(!s.contains(f))throw new Cd(Td.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");O_(l,f)||l.push(f)}a=new Qd(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new n_(new wf(c),a,u)}var c_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bd(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Zw);function l_(t,e,n){return new o_({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var h_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bd(e,t),e.prototype._toFieldTransform=function(t){return new _p(t.path,new fp)},e.prototype.isEqual=function(t){return t instanceof e},e}(Zw),d_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return bd(e,t),e.prototype._toFieldTransform=function(t){var e=l_(this,t,!0),n=this.qc.map((function(t){return v_(t,e)})),r=new pp(n);return new _p(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Zw),f_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return bd(e,t),e.prototype._toFieldTransform=function(t){var e=l_(this,t,!0),n=this.qc.map((function(t){return v_(t,e)})),r=new gp(n);return new _p(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Zw),p_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return bd(e,t),e.prototype._toFieldTransform=function(t){var e=new vp(t.R,up(t.R,this.Uc));return new _p(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Zw);function m_(t,e,n,r){var i=t.Bc(1,e,n);__("Data must be an object, but it was:",i,r);var o=[],s=wf.empty();Bd(r,(function(t,r){var a=T_(e,t,n);r=Object(yu.j)(r);var u=i.kc(a);if(r instanceof c_)o.push(a);else{var c=v_(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Qd(o);return new r_(s,a,i.fieldTransforms)}function g_(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[S_(e,r,n)],u=[i];if(o.length%2!=0)throw new Cd(Td.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(S_(e,o[c])),u.push(o[c+1]);for(var l=[],h=wf.empty(),d=a.length-1;d>=0;--d)if(!O_(l,a[d])){var f=a[d],p=u[d];p=Object(yu.j)(p);var m=s.kc(f);if(p instanceof c_)l.push(f);else{var g=v_(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new Qd(l);return new r_(h,y,s.fieldTransforms)}function y_(t,e,n,r){return void 0===r&&(r=!1),v_(n,t.Bc(r?4:3,e))}function v_(t,e){if(w_(t=Object(yu.j)(t)))return __("Unsupported field value:",e,t),b_(t,e);if(t instanceof Zw)return function(t,e){if(!i_(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=v_(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(yu.j)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return up(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=qd.fromDate(t);return{timestampValue:gm(e.R,n)}}if(t instanceof qd)return n=new qd(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:gm(e.R,n)};if(t instanceof t_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jw)return{bytesValue:ym(e.R,t._byteString)};if(t instanceof Lw){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:wm(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Mw(t))}(t,e)}function b_(t,e){var n={};return Hd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bd(t,(function(t,r){var i=v_(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function w_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qd||t instanceof t_||t instanceof Jw||t instanceof Lw||t instanceof Zw)}function __(t,e,n){if(!w_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Mw(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function S_(t,e,n){if((e=Object(yu.j)(e))instanceof Xw)return e._internalPath;if("string"==typeof e)return T_(t,e);throw C_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var E_=new RegExp("[~\\*/\\[\\]]");function T_(t,e,n){if(e.search(E_)>=0)throw C_("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Xw.bind.apply(Xw,Sd([void 0],e.split(".")))))._internalPath}catch(r){throw C_("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function C_(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Cd(Td.INVALID_ARGUMENT,(a+=". ")+t+u)}function O_(t,e){return t.some((function(t){return t.isEqual(e)}))}var x_=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Lw(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new P_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(I_("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),P_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bd(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(x_);function I_(t,e){return"string"==typeof e?T_(t,e):e instanceof Xw?e._internalPath:e._delegate._internalPath}var k_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),A_=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return bd(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new M_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(I_("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(x_),M_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bd(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(A_),N_=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new k_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new M_(n._firestore,n._userDataWriter,r.key,r,new k_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Cd(Td.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new M_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new k_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new M_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new k_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:R_(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function R_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Md()}}function D_(t,e){return t instanceof A_&&e instanceof A_?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof N_&&e instanceof N_&&t._firestore===e._firestore&&Bw(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function j_(t){if(Kf(t)&&0===t.explicitOrderBy.length)throw new Cd(Td.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var L_=function(){};function F_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var U_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return bd(e,t),e.prototype._apply=function(t){var e=a_(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Cd(Td.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){$_(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(G_(r,t,l[c]));a={arrayValue:{values:u}}}else a=G_(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||$_(s,o),a=y_(n,"where",s,"in"===o||"not-in"===o);var h=Pf.create(i,o,a);return function(t,e){if(e.g()){var n=Qf(t);if(null!==n&&!n.isEqual(e.field))throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Wf(t);null!==r&&K_(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Cd(Td.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Fw(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(L_),q_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return bd(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Uf(e,n);return function(t,e){if(null===Wf(t)){var n=Qf(t);null!==n&&K_(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Fw(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Bf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(L_),V_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return bd(e,t),e.prototype._apply=function(t){return new Fw(t.firestore,t._converter,Zf(t._query,this.Gc,this.zc))},e}(L_),z_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return bd(e,t),e.prototype._apply=function(t){var e=H_(t,this.type,this.Hc,this.Jc);return new Fw(t.firestore,t._converter,function(t,e){return new Bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(L_),B_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return bd(e,t),e.prototype._apply=function(t){var e=H_(t,this.type,this.Hc,this.Jc);return new Fw(t.firestore,t._converter,function(t,e){return new Bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(L_);function H_(t,e,n,r){if(n[0]=Object(yu.j)(n[0]),n[0]instanceof x_)return function(t,e,n,r,i){if(!r)throw new Cd(Td.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Xf(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(pf(e,r.key));else{var c=r.data.field(u.field);if(ef(c))throw new Cd(Td.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Lf(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=a_(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Cd(Td.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Yf(t)&&-1!==c.indexOf("/"))throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child($d.fromString(c));if(!af.isDocumentKey(l))throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new af(l);a.push(pf(e,h))}else{var d=y_(n,r,c);a.push(d)}}return new Lf(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function G_(t,e,n){if("string"==typeof(n=Object(yu.j)(n))){if(""===n)throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yf(e)&&-1!==n.indexOf("/"))throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child($d.fromString(n));if(!af.isDocumentKey(r))throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return pf(t,new af(r))}if(n instanceof Lw)return pf(t,n._key);throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Mw(n)+".")}function $_(t,e){if(!Array.isArray(t)||0===t.length)throw new Cd(Td.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Cd(Td.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function K_(t,e,n){if(!n.isEqual(e))throw new Cd(Td.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var W_=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),uf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zd(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(tf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Md()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Bd(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new t_(Zd(t.latitude),Zd(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return ef(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(nf(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Jd(t);return new qd(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=$d.fromString(t);Nd(Hm(n));var r=new ww(n.get(1),n.get(3)),i=new af(n.popFirst(5));return r.isEqual(e)||Id("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Q_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Y_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bd(e,t),e.prototype.convertBytes=function(t){return new Jw(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Lw(this.firestore,null,e)},e}(W_),X_=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=a_(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=J_(t,this._firestore),i=Q_(r._converter,e,n),o=u_(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Ep.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=J_(t,this._firestore);return o="string"==typeof(e=Object(yu.j)(e))||e instanceof Xw?g_(this._dataReader,"WriteBatch.update",s._key,e,n,r):m_(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ep.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=J_(t,this._firestore);return this._mutations=this._mutations.concat(new Fp(e._key,Ep.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Cd(Td.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function J_(t,e){if((t=Object(yu.j)(t)).firestore!==e)throw new Cd(Td.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Z_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bd(e,t),e.prototype.convertBytes=function(t){return new Jw(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Lw(this.firestore,null,e)},e}(W_);function tS(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Nw(t,Lw);var o=Nw(t.firestore,$w),s=a_(o);return nS(o,[("string"==typeof(e=Object(yu.j)(e))||e instanceof Xw?g_(s,"updateDoc",t._key,e,n,r):m_(s,"updateDoc",t._key,e)).toMutation(t._key,Ep.exists(!0))])}function eS(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(yu.j)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Gw(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Gw(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Lw)c=Nw(t.firestore,$w),l=Gf(t._key.path),u={next:function(e){i[a]&&i[a](rS(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Nw(t,Fw);c=Nw(f.firestore,$w),l=f._query;var p=new Z_(c);u={next:function(t){i[a]&&i[a](new N_(c,p,f,t))},error:i[a+1],complete:i[a+2]},j_(t._query)}return function(t,e,n,r){var i=this,o=new iw(r),s=new pb(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return wd(i,void 0,void 0,(function(){var e;return _d(this,(function(n){switch(n.label){case 0:return e=cb,[4,gw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return wd(i,void 0,void 0,(function(){var e;return _d(this,(function(n){switch(n.label){case 0:return e=lb,[4,gw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Kw(c),l,h,u)}function nS(t,e){return function(t,e){var n=this,r=new pg;return t.asyncQueue.enqueueAndForget((function(){return wd(n,void 0,void 0,(function(){var n;return _d(this,(function(i){switch(i.label){case 0:return n=Ob,[4,mw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Kw(t),e)}function rS(t,e,n){var r=n.docs.get(e._key),i=new Z_(t);return new A_(t,i,e._key,r,new k_(n.hasPendingWrites,n.fromCache),e._converter)}var iS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return bd(e,t),e.prototype.get=function(e){var n=this,r=J_(e,this._firestore),i=new Z_(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new A_(n._firestore,i,r._key,t._document,new k_(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=a_(t)}return t.prototype.get=function(t){var e=this,n=J_(t,this._firestore),r=new Y_(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Md();var i=t[0];if(i.isFoundDocument())return new x_(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new x_(e._firestore,r,n._key,null,n._converter);throw Md()}))},t.prototype.set=function(t,e,n){var r=J_(t,this._firestore),i=Q_(r._converter,e,n),o=u_(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=J_(t,this._firestore);return o="string"==typeof(e=Object(yu.j)(e))||e instanceof Xw?g_(this._dataReader,"Transaction.update",s._key,e,n,r):m_(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=J_(t,this._firestore);return this._transaction.delete(e._key),this},t}());function oS(){if("undefined"==typeof Uint8Array)throw new Cd(Td.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function sS(){if("undefined"==typeof atob)throw new Cd(Td.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var aS=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return sS(),new t(Jw.fromBase64String(e))},t.fromUint8Array=function(e){return oS(),new t(Jw.fromUint8Array(e))},t.prototype.toBase64=function(){return sS(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return oS(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),uS=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Yw(t=Nw(t,$w));var n=Kw(t),r=t._freezeSettings(),i=new rw;return Qw(n,i,new ew(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Yw(t=Nw(t,$w));var e=Kw(t),n=t._freezeSettings(),r=new rw;return Qw(e,r,new nw(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Cd(Td.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new pg;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return wd(e,void 0,void 0,(function(){var e;return _d(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return wd(this,void 0,void 0,(function(){return _d(this,(function(e){switch(e.label){case 0:return yg.yt()?[4,yg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Py(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),cS=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof ww||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Nw(t,jw))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&kd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return wd(e,void 0,void 0,(function(){var e,n;return _d(this,(function(r){switch(r.label){case 0:return[4,dw(t)];case 1:return e=r.sent(),[4,pw(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Rd(t);return e.$r.delete(0),Av(e)}(n))]}}))}))}))}(Kw(Nw(this._delegate,$w)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return wd(e,void 0,void 0,(function(){var e,n;return _d(this,(function(r){switch(r.label){case 0:return[4,dw(t)];case 1:return e=r.sent(),[4,pw(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return wd(this,void 0,void 0,(function(){var e;return _d(this,(function(n){switch(n.label){case 0:return(e=Rd(t)).$r.add(0),[4,Mv(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Kw(Nw(this._delegate,$w)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Iw("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new pg;return t.asyncQueue.enqueueAndForget((function(){return wd(e,void 0,void 0,(function(){var e;return _d(this,(function(r){switch(r.label){case 0:return e=Mb,[4,mw(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Kw(Nw(this._delegate,$w)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new iw(e);return t.asyncQueue.enqueueAndForget((function(){return wd(n,void 0,void 0,(function(){var e;return _d(this,(function(n){switch(n.label){case 0:return e=function(t,e){Rd(t).Gr.add(e),e.next()},[4,gw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return wd(n,void 0,void 0,(function(){var e;return _d(this,(function(n){switch(n.label){case 0:return e=function(t,e){Rd(t).Gr.delete(e)},[4,gw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Kw(t=Nw(t,$w)),Gw(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Cd(Td.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ES(this,qw(this._delegate,t))}catch(t){throw mS(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new pS(this,Vw(this._delegate,t))}catch(t){throw mS(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new wS(this,function(t,e){if(t=Nw(t,jw),xw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Cd(Td.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Fw(t,null,function(t){return new Bf($d.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw mS(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new pg;return t.asyncQueue.enqueueAndForget((function(){return wd(n,void 0,void 0,(function(){var n;return _d(this,(function(i){switch(i.label){case 0:return[4,function(t){return hw(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new sw(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Kw(t),(function(n){return e(new iS(t,n))}))}(this._delegate,(function(n){return t(new hS(e,n))}))},t.prototype.batch=function(){var t=this;return Kw(this._delegate),new dS(new X_(this._delegate,(function(e){return nS(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Cd(Td.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Cd(Td.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),lS=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bd(e,t),e.prototype.convertBytes=function(t){return new aS(new Jw(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return pS.Zc(e,this.firestore,null)},e}(W_),hS=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new lS(t)}return t.prototype.get=function(t){var e=this,n=TS(t);return this._delegate.get(n).then((function(t){return new vS(e._firestore,new A_(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},t.prototype.set=function(t,e,n){var r=TS(t);return n?(Pw("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=TS(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Sd([s,e,n],i)),this},t.prototype.delete=function(t){var e=TS(t);return this._delegate.delete(e),this},t}(),dS=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=TS(t);return n?(Pw("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=TS(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Sd([s,e,n],i)),this},t.prototype.delete=function(t){var e=TS(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),fS=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new M_(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new bS(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new lS(e),n),i.set(n,o)),o},t}();fS.eu=new WeakMap;var pS=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new lS(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Cd(Td.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Lw(n._delegate,r,new af(e)))},t.Zc=function(e,n,r){return new t(n,new Lw(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ES(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ES(this.firestore,qw(this._delegate,t))}catch(t){throw mS(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(yu.j)(t))instanceof Lw&&zw(this._delegate,t)},t.prototype.set=function(t,e){e=Pw("DocumentReference.set",e);try{return function(t,e,n){t=Nw(t,Lw);var r=Nw(t.firestore,$w),i=Q_(t._converter,e,n);return nS(r,[u_(a_(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Ep.none())])}(this._delegate,t,e)}catch(t){throw mS(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?tS(this._delegate,t):tS.apply(void 0,Sd([this._delegate,t,e],n))}catch(t){throw mS(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return nS(Nw((t=this._delegate).firestore,$w),[new Fp(t._key,Ep.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=gS(e),i=yS(e,(function(e){return new vS(t.firestore,new A_(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return eS(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Nw(t,Lw);var e=Nw(t.firestore,$w),n=Kw(e),r=new Z_(e);return function(t,e){var n=this,r=new pg;return t.asyncQueue.enqueueAndForget((function(){return wd(n,void 0,void 0,(function(){var n;return _d(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return wd(this,void 0,void 0,(function(){var r,i;return _d(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Rd(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Cd(Td.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=rb(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,fw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new A_(e,r,t._key,n,new k_(null!==n&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Nw(t,Lw);var e=Nw(t.firestore,$w);return yw(Kw(e),t._key,{source:"server"}).then((function(n){return rS(e,t,n)}))}(this._delegate):function(t){t=Nw(t,Lw);var e=Nw(t.firestore,$w);return yw(Kw(e),t._key).then((function(n){return rS(e,t,n)}))}(this._delegate)).then((function(t){return new vS(e.firestore,new A_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?fS.tu(this.firestore,e):null))},t}();function mS(t,e,n){return t.message=t.message.replace(e,n),t}function gS(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Gw(r))return r}return{}}function yS(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Gw(t[0])?t[0]:Gw(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vS=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new pS(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return D_(this._delegate,t._delegate)},t}(),bS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bd(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(vS),wS=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new lS(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,F_(this._delegate,function(t,e,n){var r=e,i=I_("where",t);return new U_(i,r,n)}(e,n,r)))}catch(e){throw mS(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,F_(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=I_("orderBy",t);return new q_(r,n)}(e,n)))}catch(e){throw mS(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,F_(this._delegate,function(t){return Rw("limit",t),new V_("limit",t,"F")}(e)))}catch(e){throw mS(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,F_(this._delegate,function(t){return Rw("limitToLast",t),new V_("limitToLast",t,"L")}(e)))}catch(e){throw mS(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,F_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new z_("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw mS(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,F_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new z_("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw mS(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,F_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new B_("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw mS(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,F_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new B_("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw mS(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Bw(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Nw(t,Fw);var e=Nw(t.firestore,$w),n=Kw(e),r=new Z_(e);return function(t,e){var n=this,r=new pg;return t.asyncQueue.enqueueAndForget((function(){return wd(n,void 0,void 0,(function(){var n;return _d(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return wd(this,void 0,void 0,(function(){var r,i,o,s,a;return _d(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,By(t,e,!0)];case 1:return a=u.sent(),r=new bb(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=rb(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,fw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new N_(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Nw(t,Fw);var e=Nw(t.firestore,$w),n=Kw(e),r=new Z_(e);return vw(n,t._query,{source:"server"}).then((function(n){return new N_(e,r,t,n)}))}(this._delegate):function(t){t=Nw(t,Fw);var e=Nw(t.firestore,$w),n=Kw(e),r=new Z_(e);return j_(t._query),vw(n,t._query).then((function(n){return new N_(e,r,t,n)}))}(this._delegate)).then((function(t){return new SS(e.firestore,new N_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=gS(e),i=yS(e,(function(e){return new SS(t.firestore,new N_(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return eS(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?fS.tu(this.firestore,e):null))},t}(),_S=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new bS(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),SS=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new wS(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new bS(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new _S(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new bS(n._firestore,r))}))},t.prototype.isEqual=function(t){return D_(this._delegate,t._delegate)},t}(),ES=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return bd(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new pS(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new pS(this.firestore,void 0===t?Vw(this._delegate):Vw(this._delegate,t))}catch(t){throw mS(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Nw(t.firestore,$w),r=Vw(t),i=Q_(t._converter,e);return nS(n,[u_(a_(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Ep.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new pS(e.firestore,t)}))},e.prototype.isEqual=function(t){return zw(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?fS.tu(this.firestore,t):null))},e}(wS);function TS(t){return Nw(t,Lw)}var CS,OS=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Xw.bind.apply(Xw,Sd([void 0],t)))}return t.documentId=function(){return new t(Wd.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(yu.j)(t))instanceof Xw&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),xS=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new h_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new c_("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new d_("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new f_("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new p_("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),PS=n("/6Yf"),IS={Firestore:cS,GeoPoint:t_,Timestamp:qd,Blob:aS,Transaction:hS,WriteBatch:dS,DocumentReference:pS,DocumentSnapshot:vS,Query:wS,QueryDocumentSnapshot:bS,QuerySnapshot:SS,CollectionReference:ES,FieldPath:OS,FieldValue:xS,setLogLevel:function(t){Od.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new PS.a("firestore",(function(t){return function(t,e){return new cS(t,new $w(t,e),new uS)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},IS)))})(CS=gu.a),CS.registerVersion("@firebase/firestore","2.2.4");var kS=n("VRyK"),AS=n("qgXg"),MS=n("Ylt2");class NS extends kr.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new RS(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Rr.a;if(this.isStopped||this.hasError?o=ji.a.EMPTY:(this.observers.push(t),o=new MS.a(this,t)),r&&t.add(t=new pu.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||AS.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class RS{constructor(t,e){this.time=t,this.value=e}}function DS(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){s++,i&&!a||(a=!1,i=new NS(t,e,r),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function jS(t,e){return e?Ci(()=>t,e):Ci(()=>t)}var LS=n("tf+s");const FS=new r.q("angularfire2.auth.use-emulator"),US=new r.q("angularfire2.auth.settings"),qS=new r.q("angularfire2.auth.tenant-id"),VS=new r.q("angularfire2.auth.langugage-code"),zS=new r.q("angularfire2.auth.use-device-language"),BS=new r.q("angularfire.auth.persistence");let HS=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new mu.e(i),d=Object(mu.i)(h),f=new kr.a,p=Object(Ar.a)(void 0).pipe(Object(pu.b)(h.outsideAngular),Ci(()=>i.runOutsideAngular(()=>n.e(6).then(n.bind(null,"6nsN")))),Object(Wr.a)(()=>Object(mu.h)(t,i,e)),Object(Wr.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(mu.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),DS({bufferSize:1,refCount:!1}));if(R(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ar.a)(null);else{p.pipe(_i()).subscribe();const t=p.pipe(Ci(t=>t.getRedirectResult().then(t=>t,()=>null)),d,DS({bufferSize:1,refCount:!1})),e=t=>new jr.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Ci(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Ci(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(jS(n),Object(LS.a)(h.outsideAngular),Object(pu.b)(h.insideAngular)),this.user=t.pipe(jS(r),Object(LS.a)(h.outsideAngular),Object(pu.b)(h.insideAngular)),this.idToken=this.user.pipe(Ci(t=>t?Object(Nr.a)(t.getIdToken()):Object(Ar.a)(null))),this.idTokenResult=this.user.pipe(Ci(t=>t?Object(Nr.a)(t.getIdTokenResult()):Object(Ar.a)(null))),this.credential=Object(kS.a)(t,f,this.authState.pipe(Jr(t=>!t))).pipe(Object(Wr.a)(t=>(null==t?void 0:t.user)?t:null),Object(LS.a)(h.outsideAngular),Object(pu.b)(h.insideAngular))}return Object(mu.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(mu.c),r.Pb(mu.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(FS,8),r.Pb(US,8),r.Pb(qS,8),r.Pb(VS,8),r.Pb(zS,8),r.Pb(BS,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(mu.c),Object(r.Pb)(mu.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(FS,8),Object(r.Pb)(US,8),Object(r.Pb)(qS,8),Object(r.Pb)(VS,8),Object(r.Pb)(zS,8),Object(r.Pb)(BS,8))},token:t,providedIn:"any"}),t})();function GS(t,e){return function(t,e=au.a){return new jr.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function $S(t,e){return GS(t,e).pipe(Object(Wr.a)(t=>({payload:t,type:"query"})))}function KS(t,e){return $S(t,e).pipe(Ii(void 0),uu(),Object(Wr.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function WS(t,e,n){return KS(t,n).pipe(ki((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return QS(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return QS(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return QS(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),hu(),Object(Wr.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function QS(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function YS(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class XS{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=KS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Wr.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ii(void 0),uu(),Jr(([t,e])=>e.length>0||!t),Object(Wr.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ki((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=YS(t);return WS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $S(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wr.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Nr.a)(this.query.get(t)).pipe(Object(pu.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new JS(this.ref.doc(t),this.afs)}}class JS{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=iE(n,e);return new XS(r,i,this.afs)}snapshotChanges(){return GS(this.ref,this.afs.schedulers.outsideAngular).pipe(Ii(void 0),uu(),Object(Wr.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Wr.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Nr.a)(this.ref.get(t)).pipe(Object(pu.b)(this.afs.schedulers.insideAngular))}}class ZS{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?KS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wr.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jr(t=>t.length>0),this.afs.keepUnstableUntilFirst):KS(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ki((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=YS(t);return WS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $S(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wr.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Nr.a)(this.query.get(t)).pipe(Object(pu.b)(this.afs.schedulers.insideAngular))}}const tE=new r.q("angularfire2.enableFirestorePersistence"),eE=new r.q("angularfire2.firestore.persistenceSettings"),nE=new r.q("angularfire2.firestore.settings"),rE=new r.q("angularfire2.firestore.use-emulator");function iE(t,e=(t=>t)){return{query:e(t),ref:t}}let oE=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new mu.e(o),this.keepUnstableUntilFirst=Object(mu.i)(this.schedulers);const c=Object(mu.h)(t,o,e);!su.a.auth&&u&&Object(mu.k)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(mu.g)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!R(i)){const e=()=>{try{return Object(Nr.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(CS){return"undefined"!=typeof console&&console.warn(CS),Object(Ar.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ar.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=iE(n,e),o=this.schedulers.ngZone.run(()=>r);return new XS(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ZS(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new JS(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(mu.c),r.Pb(mu.b,8),r.Pb(tE,8),r.Pb(nE,8),r.Pb(r.B),r.Pb(r.z),r.Pb(eE,8),r.Pb(rE,8),r.Pb(FS,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(mu.c),Object(r.Pb)(mu.b,8),Object(r.Pb)(tE,8),Object(r.Pb)(nE,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(eE,8),Object(r.Pb)(rE,8),Object(r.Pb)(FS,8))},token:t,providedIn:"any"}),t})(),sE=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:tE,useValue:!0},{provide:eE,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[oE]}),t})();class aE{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new uE(t,this.dueTime,this.scheduler))}}class uE extends Xr.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cE,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function cE(t){t.debouncedNext()}var lE=function(t,e){return(lE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},hE=function(){return(hE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function dE(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(CS){o(CS)}}function a(t){try{u(r.throw(t))}catch(CS){o(CS)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function fE(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(CS){o=[6,CS],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function pE(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var mE=function(t){function e(n,r){var i=t.call(this,gE(n),"Firebase Storage: "+r+" ("+gE(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}lE(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._codeEquals=function(t){return gE(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(yu.c);function gE(t){return"storage/"+t}function yE(){return new mE("unknown","An unknown error occurred, please check the error payload for server response.")}function vE(){return new mE("canceled","User canceled the upload/download.")}function bE(){return new mE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function wE(t){return new mE("invalid-argument",t)}function _E(){return new mE("app-deleted","The Firebase app was deleted.")}function SE(t){return new mE("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function EE(t,e){return new mE("invalid-format","String does not match format '"+t+"': "+e)}function TE(t){throw new mE("internal-error","Internal error: "+t)}var CE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},OE=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function xE(t,e){switch(t){case CE.RAW:return new OE(PE(e));case CE.BASE64:case CE.BASE64URL:return new OE(IE(t,e));case CE.DATA_URL:return new OE((n=new kE(e)).base64?IE(CE.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(CS){throw EE(CE.DATA_URL,"Malformed data URL.")}return PE(e)}(n.rest),function(t){return new kE(t).contentType}(e))}var n;throw yE()}function PE(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function IE(t,e){switch(t){case CE.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw EE(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case CE.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw EE(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(CS){throw EE(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var kE=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw EE(CE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),AE={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ME(t){switch(t){case"running":case"pausing":case"canceling":return AE.RUNNING;case"paused":return AE.PAUSED;case"success":return AE.SUCCESS;case"canceled":return AE.CANCELED;case"error":default:return AE.ERROR}}var NE=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),RE=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=NE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=NE.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=NE.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw TE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw TE("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw TE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(CS){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw TE("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),DE=function(){function t(){}return t.prototype.createXhrIo=function(){return new RE},t}(),jE=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(CS){return new t(e,"")}if(""===r.path)return r;throw new mE("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),r=new t(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(t){return new mE("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),LE=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function FE(t){return"string"==typeof t||t instanceof String}function UE(t){return qE()&&t instanceof Blob}function qE(){return"undefined"!=typeof Blob}function VE(t,e,n,r){if(r<e)throw wE("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw wE("Invalid value for '"+t+"'. Expected "+n+" or less.")}function zE(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function BE(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var HE=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(CS){o(CS)}else null!==s?((r=yE()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?_E():vE():new mE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new GE(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new GE(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===NE.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new GE(s,n))}else{var a=n.getErrorCode()===NE.ABORT;e(!1,new GE(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,pE([null,t],e));else{var r,o=u()||s;o?l.call.apply(l,pE([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),GE=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function $E(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function KE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=$E();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(qE())return new Blob(t);throw new mE("unsupported-environment","This browser doesn't seem to support creating Blobs")}var WE=function(){function t(t,e){var n=0,r="";UE(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(UE(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(qE()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(KE.apply(null,r))}var i=e.map((function(t){return FE(t)?xE(CE.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function QE(t){var e,n;try{e=JSON.parse(t)}catch(CS){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function YE(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function XE(t,e){return e}var JE=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||XE}}(),ZE=null;function tT(){if(ZE)return ZE;var t=[];t.push(new JE("bucket")),t.push(new JE("generation")),t.push(new JE("metageneration")),t.push(new JE("name","fullPath",!0));var e=new JE("name");e.xform=function(t,e){return function(t){return!FE(t)||t.length<2?t:YE(t)}(e)},t.push(e);var n=new JE("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new JE("timeCreated")),t.push(new JE("updated")),t.push(new JE("md5Hash",null,!0)),t.push(new JE("cacheControl",null,!0)),t.push(new JE("contentDisposition",null,!0)),t.push(new JE("contentEncoding",null,!0)),t.push(new JE("contentLanguage",null,!0)),t.push(new JE("contentType",null,!0)),t.push(new JE("metadata","customMetadata",!0)),ZE=t}function eT(t,e,n){var r=QE(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new jE(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function nT(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var rT=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function iT(t){if(!t)throw yE()}function oT(t,e){return function(n,r){var i=eT(t,r,e);return iT(null!==i),i}}function sT(t){return function(e,n){var r;return(r=401===e.getStatus()?new mE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new mE("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new mE("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function aT(t){var e=sT(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new mE("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function uT(t,e,n){var r=zE(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new rT(r,"GET",oT(t,n),i);return o.errorHandler=aT(e),o}function cT(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var lT=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function hT(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(CS){iT(!1)}return iT(!!n&&-1!==(e||["active"]).indexOf(n)),n}var dT=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function fT(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var pT=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=tT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=cT(e,r,i),a={name:s.fullPath},u=zE(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=nT(s,n),h=new rT(u,"POST",(function(t){var e;hT(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(CS){iT(!1)}return iT(FE(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=sT(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new rT(n,"POST",(function(t){var e=hT(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(CS){iT(!1)}n||iT(!1);var i=Number(n);return iT(!isNaN(i)),new lT(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=sT(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new lT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new lT(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new mE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+l);if(null===f)throw bE();var p=new rT(n,"POST",(function(t,n){var i,s=hT(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?oT(e,o)(t,n):null,new lT(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=sT(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(CS){return t._error=CS,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=uT(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=cT(e,r,i),c=nT(u,n),l=WE.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw bE();var h={name:u.fullPath},d=zE(o,t.host),f=t.maxUploadRetryTime,p=new rT(d,"POST",oT(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=sT(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=vE(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=ME(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new dT(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(ME(this._state)){case AE.SUCCESS:fT(this._resolve.bind(null,this.snapshot))();break;case AE.CANCELED:case AE.ERROR:fT(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(ME(this._state)){case AE.RUNNING:case AE.PAUSED:t.next&&fT(t.next.bind(t,this.snapshot))();break;case AE.SUCCESS:t.complete&&fT(t.complete.bind(t))();break;case AE.CANCELED:case AE.ERROR:t.error&&fT(t.error.bind(t,this._error))();break;default:t.error&&fT(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),mT=function(){function t(t,e){this._service=t,this._location=e instanceof jE?e:jE.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new jE(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return YE(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new jE(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw SE(t)},t}();function gT(t,e){return dE(this,void 0,void 0,(function(){var n,r,i;return fE(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&VE("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=zE(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new rT(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=QE(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new jE(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new jE(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return iT(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=sT(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}}))}))}function yT(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new jE(t._location.bucket,n);return new mT(t.storage,r)}function vT(t){return/^[A-Za-z]+:\/\//.test(t)}function bT(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:jE.makeFromBucketSpec(n,t)}var wT=function(){function t(t,e,n,r,i){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?jE.makeFromBucketSpec(r,this._host):bT(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?jE.makeFromBucketSpec(this._url,t):bT(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){VE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){VE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return dE(this,void 0,void 0,(function(){var t,e;return fE(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new mT(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new LE(_E());var r=function(t,e,n,r,i){var o=BE(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new HE(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}();function _T(t,e){return function(t,e){if(e&&vT(e)){if(t instanceof wT)return new mT(t,e);throw wE("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof wT){var r=e;if(null==r._bucket)throw new mE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new mT(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw wE('`path` param cannot contain ".."');return yT(e,n)}return e}(t,e)}(t=Object(yu.j)(t),e)}var ST,ET,TT=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),CT=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new TT(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new TT(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new TT(t,i,i._ref))}:{next:e.next?function(t){return e.next(new TT(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),OT=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new xT(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new xT(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),xT=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return yT(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new CT(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new pT(t,new WE(e),n)}(t=Object(yu.j)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=CE.RAW),this._throwIfRoot("putString");var r=xE(e,t),i=hE({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new CT(new pT(this._delegate,new WE(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return dE(this,void 0,void 0,(function(){var i,o,s;return fE(this,(function(a){switch(a.label){case 0:return[4,gT(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(yu.j)(t))).then((function(t){return new OT(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return gT(t=Object(yu.j)(t),e)}(this._delegate,t||void 0).then((function(t){return new OT(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return dE(this,void 0,void 0,(function(){var e,n;return fE(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=uT(t.storage,t._location,tT()),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(t=Object(yu.j)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return dE(this,void 0,void 0,(function(){var n,r;return fE(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=zE(e.fullServerUrl(),t.host),o=nT(n,r),s=t.maxOperationRetryTime,a=new rT(i,"PATCH",oT(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=aT(e),a}(t.storage,t._location,e,tT()),[2,t.storage._makeRequest(r,n).getPromise()]}}))}))}(t=Object(yu.j)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return dE(this,void 0,void 0,(function(){var e,n;return fE(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=zE(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new rT(r,"GET",function(t,e){return function(n,r){var i=eT(t,r,e);return iT(null!==i),function(t,e,n){var r=QE(e);if(null===r)return null;if(!FE(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return zE("/b/"+o(t.bucket)+"/o/"+o(r),n)+BE({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=aT(e),o}(t.storage,t._location,tT()),[2,t.storage._makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new mE("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(yu.j)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return dE(this,void 0,void 0,(function(){var e,n;return fE(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=zE(e.fullServerUrl(),t.host),r=new rT(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=aT(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(t=Object(yu.j)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw SE(t)},t}(),PT=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(vT(t))throw wE("ref() expected a child path but got a URL, use refFromURL instead.");return new xT(_T(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!vT(t))throw wE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{jE.makeFromUrl(t,this._delegate.host)}catch(CS){throw wE("refFromUrl() expected a valid full URL but got an invalid one.")}return new xT(_T(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function IT(t){const e=function(t){return new jr.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=au.a){return n=>n.lift(new aE(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Wr.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function kT(t,e,n){return{getDownloadURL:()=>Object(Ar.a)(void 0).pipe(Object(pu.b)(e.outsideAngular),Ci(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Ar.a)(void 0).pipe(Object(pu.b)(e.outsideAngular),Ci(()=>t.getMetadata()),n),delete:()=>Object(Nr.a)(t.delete()),child:r=>kT(t.child(r),e,n),updateMetadata:e=>Object(Nr.a)(t.updateMetadata(e)),put:(e,n)=>IT(t.put(e,n)),putString:(e,n,r)=>IT(t.putString(e,n,r)),listAll:()=>Object(Nr.a)(t.listAll())}}ET={TaskState:AE,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:CE,Storage:wT,Reference:xT},(ST=gu.a).INTERNAL.registerComponent(new PS.a("storage",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new PT(r,new wT(r,i,new DE,n,gu.a.SDK_VERSION))}),"PUBLIC").setServiceProps(ET).setMultipleInstances(!0)),ST.registerVersion("@firebase/storage","0.5.0");const AT=new r.q("angularfire2.storageBucket"),MT=new r.q("angularfire2.storage.maxUploadRetryTime"),NT=new r.q("angularfire2.storage.maxOperationRetryTime");let RT=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new mu.e(i),this.keepUnstableUntilFirst=Object(mu.i)(this.schedulers);const a=Object(mu.h)(t,i,e);this.storage=Object(mu.g)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return kT(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return kT(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return kT(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(mu.c),r.Pb(mu.b,8),r.Pb(AT,8),r.Pb(r.B),r.Pb(r.z),r.Pb(MT,8),r.Pb(NT,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(mu.c),Object(r.Pb)(mu.b,8),Object(r.Pb)(AT,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(MT,8),Object(r.Pb)(NT,8))},token:t,providedIn:"any"}),t})(),DT=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),jT=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[RT],imports:[DT]}),t})();function LT(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(CS){o(CS)}}function a(t){try{u(r.throw(t))}catch(CS){o(CS)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}class FT{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new UT(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class UT extends Xr.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new kr.a,n.set(e,i);const t=new VT(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new VT(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new qT(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class qT extends Xr.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class VT extends jr.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new ji.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new zT(n)),e.add(r.subscribe(t)),e}}class zT extends ji.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const BT=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),HT=new r.q("angularfire2.analytics.appVersion"),GT=new r.q("angularfire2.analytics.appName"),$T=new r.q("angularfire2.analytics.debugMode"),KT=new r.q("angularfire2.analytics.config");let WT=(()=>{class t{constructor(t,e,r,i,o,s,a,u){if(this.analyticsInitialized=new Promise(()=>{}),N(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=Object(Ar.a)(void 0).pipe(Object(pu.b)(new mu.e(u).outsideAngular),Ci(()=>N(a)?u.runOutsideAngular(()=>n.e(5).then(n.bind(null,"AAub"))):$r.a),Object(Wr.a)(()=>Object(mu.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),DS({bufferSize:1,refCount:!1}));return Object(mu.j)(this,c,u)}updateConfig(t){return LT(this,void 0,void 0,(function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))}))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(mu.d),r.Pb(BT,8),r.Pb(HT,8),r.Pb(GT,8),r.Pb($T,8),r.Pb(KT,8),r.Pb(r.B),r.Pb(r.z))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(mu.d),Object(r.Pb)(BT,8),Object(r.Pb)(HT,8),Object(r.Pb)(GT,8),Object(r.Pb)($T,8),Object(r.Pb)(KT,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z))},token:t,providedIn:"any"}),t})(),QT=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],R(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(WT),r.Pb(r.B),r.Pb(HS),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),YT=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const XT={},JT=t=>{const e=[t.screen_class,t.outlet].join("#");if(XT.hasOwnProperty(e))return XT[e];{const t=YT++;return XT[e]=t,t}};let ZT=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!N(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(Jr(t=>t instanceof to));var o;this.disposable=i.pipe(Ci(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return Object(Ar.a)(null);let a=s;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=s.component;if(l){if(l===no){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(Ar.a)(Object.assign(Object.assign({},c),{screen_class:l}));if(l){const t=r.resolveComponentFactory(l);return Object(Ar.a)(Object.assign(Object.assign({},c),{screen_class:t.selector}))}return Object(Ar.a)(null)}),Jr(t=>t),Object(Wr.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:JT(t)},t)),(o=t=>t.outlet,t=>t.lift(new FT(o,void 0,void 0,void 0))),Object(Si.a)(e=>e.pipe(hu((t,e)=>JSON.stringify(t)===JSON.stringify(e)),Ii(void 0),uu(),Object(Wr.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),Ci(e=>LT(this,void 0,void 0,(function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)})))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(WT),r.Pb(ea,8),r.Pb(ft,8),r.Pb(r.j),r.Pb(r.B),r.Pb(r.z),r.Pb(QT,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),tC=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(WT),r.Pb(ZT,8),r.Pb(QT,8))},providers:[WT]}),t})();const eC=[{path:"",component:za,pathMatch:"full",data:{animation:"homePage"}},{path:"styles-selection",component:Ya,data:{animation:"styleSelection"}},{path:"product-detail",component:Ka,data:{animation:"productDetail"}},{path:"summary",component:(()=>{class t{constructor(t,e,n,r,i,o){this.routerStateService=t,this.router=e,this.firestore=n,this.storage=r,this.activatedRoute=i,this.analytics=o,this.shouldShowSpinner=!1}ngOnInit(){return Ja(this,void 0,void 0,(function*(){const t=this.routerStateService.state;if(!t)return void this.router.navigate(["product-detail"],{queryParamsHandling:"preserve"});this.petName=t.petName,this.petBirthMonth=t.petBirthMonth,this.selectedFile=t.selectedFile,this.routerStateService.clearState(),this.imageSrc=yield this.readFile(this.selectedFile);const e=this.activatedRoute.snapshot.queryParamMap.get("styleImageId");if(!e)return void this.router.navigateByUrl("/styles-selection");const n=Ba.find(t=>t.id===e);n?this.selectedStyleImage=n:this.router.navigateByUrl("/styles-selection")}))}readFile(t){return new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",()=>{e(r.result)}),r.addEventListener("error",n),r.readAsDataURL(t)})}onSubmitForm(t){return Ja(this,void 0,void 0,(function*(){try{this.shouldShowSpinner=!0,t.preventDefault();const e=yield this.uploadFile(this.selectedFile);yield this.createStylizationJobDocument(e),this.analytics.logEvent("generate_lead",{value:this.selectedStyleImage.name}),fbq("track","Lead",{content_name:this.selectedStyleImage.name}),this.router.navigate(["success"],{queryParams:{userEmail:this.email}})}catch(e){console.error(e),this.router.navigateByUrl("/failure")}}))}uploadFile(t){return Ja(this,void 0,void 0,(function*(){const e="v2/content-images/"+ou(),n=this.storage.ref(e);return yield n.put(t),yield n.getDownloadURL().toPromise()}))}createStylizationJobDocument(t){var e,n;return Ja(this,void 0,void 0,(function*(){const r={email:this.email,contentImagePublicUrl:t,styleImageName:this.selectedStyleImage.name,status:"PENDING",creationDate:su.a.firestore.Timestamp.fromMillis(Date.now()),petName:null!==(e=this.petName)&&void 0!==e?e:null,petBirthMonth:null!==(n=this.petBirthMonth)&&void 0!==n?n:null};return(yield this.firestore.collection("stylization-jobs-v2").add(r)).id}))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ha),r.Ib(ea),r.Ib(oE),r.Ib(RT),r.Ib(Ko),r.Ib(WT))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-summary"]],decls:40,vars:7,consts:[[1,"back-arrow-container"],["routerLink","/product-detail","queryParamsHandling","preserve"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 12l9-8v6h15v4h-15v6z"],[1,"image-outer-container"],[1,"image-inner-container"],["alt","",3,"src"],[1,"content-container"],[1,"top-card"],[1,"bottom-card"],[1,"paragraphs-container"],["ngNativeValidate","",3,"submit"],[1,"form-group"],["for","email"],["type","email","id","email","required","",3,"keyup"],["type","submit",1,"primary-btn"],[1,"screen-overlay"],[1,"dark-box"],["src","assets/images/loading-spinner.svg","alt",""]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"a",1),r.Wb(),r.Nb(2,"svg",2),r.Jb(3,"path",3),r.Mb(),r.Mb(),r.Mb(),r.Vb(),r.Nb(4,"div",4),r.Nb(5,"div",5),r.Jb(6,"img",6),r.Mb(),r.Mb(),r.Nb(7,"div",7),r.Nb(8,"section",8),r.Nb(9,"h2"),r.lc(10,"Personalisation Overiew"),r.Mb(),r.Nb(11,"ul"),r.Nb(12,"li"),r.Nb(13,"p"),r.lc(14,"Pet name"),r.Mb(),r.Nb(15,"p"),r.lc(16),r.Mb(),r.Mb(),r.Nb(17,"li"),r.Nb(18,"p"),r.lc(19,"Pet birthmonth"),r.Mb(),r.Nb(20,"p"),r.lc(21),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(22,"section",9),r.Nb(23,"h2"),r.lc(24,"Where should we send the preview to?"),r.Mb(),r.Nb(25,"div",10),r.Nb(26,"p"),r.lc(27,"We will get back to you within one day."),r.Mb(),r.Nb(28,"p"),r.lc(29," If you haven't heard from us after one day, please also check your spam folder. "),r.Mb(),r.Mb(),r.Nb(30,"form",11),r.Tb("submit",(function(t){return e.onSubmitForm(t)})),r.Nb(31,"div",12),r.Nb(32,"label",13),r.lc(33,"Email"),r.Mb(),r.Nb(34,"input",14),r.Tb("keyup",(function(t){return e.email=t.target.value})),r.Mb(),r.Mb(),r.Nb(35,"button",15),r.lc(36," Submit "),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(37,"div",16),r.Jb(38,"div",17),r.Jb(39,"img",18),r.Mb()),2&t&&(r.xb(6),r.cc("src",e.imageSrc,r.gc),r.xb(10),r.mc(e.petName||"Not provided"),r.xb(5),r.mc(e.petBirthMonth||"Not provided"),r.xb(14),r.Ab("disabled",!e.email),r.xb(2),r.Ab("visible",e.shouldShowSpinner))},directives:[ra],styles:["[_nghost-%COMP%]{background-color:#2b2d42;display:block;position:relative}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%]{position:absolute;top:2rem;left:2rem;z-index:2}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;padding:.5rem}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;filter:drop-shadow(0 0 5px rgba(77,77,77,.5))}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#fff}[_nghost-%COMP%] > div.image-outer-container[_ngcontent-%COMP%]{padding-top:100%;position:relative}[_nghost-%COMP%] > div.image-outer-container[_ngcontent-%COMP%] > div.image-inner-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%] > div.image-outer-container[_ngcontent-%COMP%] > div.image-inner-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%]{position:relative;top:-40px}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-family:pf-reg;font-weight:400}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%]{padding:2.5rem 2.5rem calc(2.5rem + 40px);background-color:#fff;border-radius:40px 40px 0 0}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;list-style-type:none}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#2b2d42;font-size:1rem;line-height:3rem;font-family:m-reg}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:last-child{font-family:m-bold}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:3rem;height:3rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%]{background-color:#2b2d42;padding:2.5rem 2.5rem 0;border-radius:40px 40px 0 0;position:relative;top:-40px}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:1rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > div.paragraphs-container[_ngcontent-%COMP%]{margin-bottom:2.4rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > div.paragraphs-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > div.paragraphs-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-child{margin-bottom:1.6rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1.6rem;position:relative}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{color:#fff;font-size:1rem;margin-bottom:.8rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:42px;border:none;outline:none;border-radius:10px;padding-left:1.5rem;padding-right:1.5rem;color:#fff;background-color:#585b7e}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%] > input[type=file][_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   button.primary-btn[_ngcontent-%COMP%]{width:100%;padding:1.2rem 0;font-size:1.5rem;margin-bottom:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   button.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%] > div.screen-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;pointer-events:none}[_nghost-%COMP%] > div.screen-overlay.visible[_ngcontent-%COMP%]{pointer-events:auto}[_nghost-%COMP%] > div.screen-overlay.visible[_ngcontent-%COMP%] > div.dark-box[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%] > div.screen-overlay.visible[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%] > div.screen-overlay[_ngcontent-%COMP%] > div.dark-box[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;background-color:#000;opacity:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%] > div.screen-overlay[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px;height:100px;opacity:0;transition:opacity .25s ease-in-out}"]}),t})()},{path:"success",component:xa},{path:"failure",component:Oa},{path:"**",redirectTo:"/"}];let nC=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[ya.forRoot(eC,{scrollPositionRestoration:"enabled"})],ya]}),t})();const rC={type:7,name:"slideInRoutingAnimation",definitions:[bt("homePage => styleSelection",[vt({position:"relative"}),_t(":enter, :leave",[vt({position:"absolute",top:0,right:0,width:"100%"})]),_t(":enter",[vt({right:"-100%"})]),_t(":leave",wt()),gt([_t(":leave",[mt("300ms ease-out",vt({right:"100%"}))]),_t(":enter",[mt("300ms ease-out",vt({right:"0%"}))])]),_t(":enter",wt())]),bt("styleSelection => productDetail",[vt({position:"relative"}),_t(":enter, :leave",[vt({position:"absolute",top:0,right:0,width:"100%"})]),_t(":enter",[vt({right:"-100%"})]),_t(":leave",wt()),gt([_t(":leave",[mt("300ms ease-out",vt({right:"100%"}))]),_t(":enter",[mt("300ms ease-out",vt({right:"0%"}))])]),_t(":enter",wt())])],options:{}};let iC=(()=>{class t{constructor(t){this.title="PetAI",t.events.pipe(Jr(t=>t instanceof Vi)).subscribe(()=>{fbq("track","PageView")})}prepareRoute(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ea))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:3,vars:1,consts:[["outlet","outlet"]],template:function(t,e){if(1&t&&(r.Nb(0,"div"),r.Jb(1,"router-outlet",null,0),r.Mb()),2&t){const t=r.fc(2);r.cc("@slideInRoutingAnimation",e.prepareRoute(t))}},directives:[aa],styles:["div[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}"],data:{animation:[rC]}}),t})(),oC=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[iC]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Ha,ZT,{provide:BT,useValue:!0}],imports:[[ht,Dn,nC,Mr,mu.a.initializeApp(i),sE,jT,tC]]}),t})();Object(r.S)(),ct().bootstrapModule(oC).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);