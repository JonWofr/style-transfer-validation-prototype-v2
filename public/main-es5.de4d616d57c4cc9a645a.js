function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct2(t,e,n){return(_construct2=_isNativeReflectConstruct2()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf2(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf2(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf2(t,e)}function _setPrototypeOf2(t,e){return(_setPrototypeOf2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct2();return function(){var n,r=_getPrototypeOf2(t);if(e){var i=_getPrototypeOf2(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct2(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf2(t){return(_getPrototypeOf2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l}));var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function a(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var s=n("qOnz"),u=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),c=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new s.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var r=i(this.instancesDeferred.entries()),a=r.next();!a.done;a=r.next()){var s=o(a.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,n=function(){var t;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(a(a([],o(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),o(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{s(n.next(t))}catch(e){i(e)}}function a(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,a)}s((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,a=t.options,s=void 0===a?{}:a,u=this.normalizeInstanceIdentifier(void 0===r?"[DEFAULT]":r);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var l=i(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=o(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new c(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),a=this.destination;a.add(i);var s=Object(r.a)(this,t,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var a;switch(_classCallCheck(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf2(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,s){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(u.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf2(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf2(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,a);if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Co})),n.d(e,"b",(function(){return hu})),n.d(e,"c",(function(){return au})),n.d(e,"d",(function(){return iu})),n.d(e,"e",(function(){return ou})),n.d(e,"f",(function(){return rc})),n.d(e,"g",(function(){return Ku})),n.d(e,"h",(function(){return oo})),n.d(e,"i",(function(){return Cu})),n.d(e,"j",(function(){return Va})),n.d(e,"k",(function(){return pu})),n.d(e,"l",(function(){return qa})),n.d(e,"m",(function(){return wn})),n.d(e,"n",(function(){return Fs})),n.d(e,"o",(function(){return Z})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return $})),n.d(e,"r",(function(){return wo})),n.d(e,"s",(function(){return as})),n.d(e,"t",(function(){return ss})),n.d(e,"u",(function(){return du})),n.d(e,"v",(function(){return ft})),n.d(e,"w",(function(){return Yu})),n.d(e,"x",(function(){return ht})),n.d(e,"y",(function(){return qu})),n.d(e,"z",(function(){return Eu})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return lu})),n.d(e,"C",(function(){return cu})),n.d(e,"D",(function(){return Ga})),n.d(e,"E",(function(){return Ba})),n.d(e,"F",(function(){return Ha})),n.d(e,"G",(function(){return Ka})),n.d(e,"H",(function(){return ur})),n.d(e,"I",(function(){return w})),n.d(e,"J",(function(){return $u})),n.d(e,"K",(function(){return hs})),n.d(e,"L",(function(){return Ru})),n.d(e,"M",(function(){return Ya})),n.d(e,"N",(function(){return Qa})),n.d(e,"O",(function(){return ds})),n.d(e,"P",(function(){return wt})),n.d(e,"Q",(function(){return Po})),n.d(e,"R",(function(){return zu})),n.d(e,"S",(function(){return Un})),n.d(e,"T",(function(){return Fn})),n.d(e,"U",(function(){return ec})),n.d(e,"V",(function(){return ju})),n.d(e,"W",(function(){return fu})),n.d(e,"X",(function(){return so})),n.d(e,"Y",(function(){return Is})),n.d(e,"Z",(function(){return ar})),n.d(e,"ab",(function(){return hr})),n.d(e,"bb",(function(){return Bn})),n.d(e,"cb",(function(){return In})),n.d(e,"db",(function(){return An})),n.d(e,"eb",(function(){return Dn})),n.d(e,"fb",(function(){return Nn})),n.d(e,"gb",(function(){return Mn})),n.d(e,"hb",(function(){return Rn})),n.d(e,"ib",(function(){return Ts})),n.d(e,"jb",(function(){return tc})),n.d(e,"kb",(function(){return Es})),n.d(e,"lb",(function(){return Os})),n.d(e,"mb",(function(){return Pn})),n.d(e,"nb",(function(){return H})),n.d(e,"ob",(function(){return Ao})),n.d(e,"pb",(function(){return Qo})),n.d(e,"qb",(function(){return Ko})),n.d(e,"rb",(function(){return Io})),n.d(e,"sb",(function(){return Ss})),n.d(e,"tb",(function(){return Gt})),n.d(e,"ub",(function(){return R})),n.d(e,"vb",(function(){return xn})),n.d(e,"wb",(function(){return Da})),n.d(e,"xb",(function(){return Nr})),n.d(e,"yb",(function(){return Ro})),n.d(e,"zb",(function(){return ya})),n.d(e,"Ab",(function(){return pa})),n.d(e,"Bb",(function(){return Js})),n.d(e,"Cb",(function(){return Tt})),n.d(e,"Db",(function(){return Mt})),n.d(e,"Eb",(function(){return S})),n.d(e,"Fb",(function(){return T})),n.d(e,"Gb",(function(){return It})),n.d(e,"Hb",(function(){return Nt})),n.d(e,"Ib",(function(){return Lo})),n.d(e,"Jb",(function(){return Ho})),n.d(e,"Kb",(function(){return Wo})),n.d(e,"Lb",(function(){return Go})),n.d(e,"Mb",(function(){return Bo})),n.d(e,"Nb",(function(){return zo})),n.d(e,"Ob",(function(){return Ma})),n.d(e,"Pb",(function(){return st})),n.d(e,"Qb",(function(){return Fo})),n.d(e,"Rb",(function(){return ru})),n.d(e,"Sb",(function(){return Uo})),n.d(e,"Tb",(function(){return Yo})),n.d(e,"Ub",(function(){return $s})),n.d(e,"Vb",(function(){return Re})),n.d(e,"Wb",(function(){return Ne})),n.d(e,"Xb",(function(){return $o})),n.d(e,"Yb",(function(){return js})),n.d(e,"Zb",(function(){return Ls})),n.d(e,"ac",(function(){return ea})),n.d(e,"bc",(function(){return ta})),n.d(e,"cc",(function(){return Vo})),n.d(e,"dc",(function(){return Rs})),n.d(e,"ec",(function(){return Ys})),n.d(e,"fc",(function(){return jo})),n.d(e,"gc",(function(){return fr})),n.d(e,"hc",(function(){return Pt})),n.d(e,"ic",(function(){return va})),n.d(e,"jc",(function(){return Do})),n.d(e,"kc",(function(){return nu})),n.d(e,"lc",(function(){return Ia})),n.d(e,"mc",(function(){return Pa})),n.d(e,"nc",(function(){return Aa})),n.d(e,"oc",(function(){return Xs}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("7o/Q");function u(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}},{key:"refCount",value:function(){return u()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=f.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf2(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf2(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function v(){return new r.a}function g(t){return{toString:t}.toString()}function y(t,e,n){return g((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct2(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var m=y("Inject",(function(t){return{token:t}})),b=y("Optional"),_=y("Self"),w=y("SkipSelf"),C=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function k(t){for(var e in t)if(t[e]===k)return e;throw Error("Could not find renamed property on target object.")}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function E(t){return O(t,t[I])||O(t,t[M])}function O(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(P)||t.hasOwnProperty(N))?t[P]:null}var I=k({"\u0275prov":k}),P=k({"\u0275inj":k}),A=k({"\u0275provFallback":k}),M=k({ngInjectableDef:k}),N=k({ngInjectorDef:k});function R(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function D(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var j=k({__forward_ref__:k});function L(t){return t.__forward_ref__=L,t.toString=function(){return R(this())},t}function F(t){return"function"==typeof(e=t)&&e.hasOwnProperty(j)&&e.__forward_ref__===L?t():t;var e}var U,V="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,H=V||B||q||z,G=k({"\u0275cmp":k}),W=k({"\u0275dir":k}),K=k({"\u0275pipe":k}),Q=k({"\u0275mod":k}),Y=k({"\u0275loc":k}),X=k({"\u0275fac":k}),J=k({__NG_ELEMENT_ID__:k}),$=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),Z=new $("INJECTOR",-1),tt={},et=/\n/gm,nt=k({provide:String,useValue:k}),rt=void 0;function it(t){var e=rt;return rt=t,e}function ot(t){var e=U;return U=t,e}function at(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default;if(void 0===rt)throw new Error("inject() must be called from an injection context");return null===rt?ut(t,void 0,e):rt.get(t,e&C.Optional?null:void 0,e)}function st(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default;return(U||at)(F(t),e)}function ut(t,e,n){var r=E(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&C.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(R(t),"]"))}function ct(t){for(var e=[],n=0;n<t.length;n++){var r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=C.Default,a=0;a<r.length;a++){var s=r[a];s instanceof b||"Optional"===s.ngMetadataName||s===b?o|=C.Optional:s instanceof w||"SkipSelf"===s.ngMetadataName||s===w?o|=C.SkipSelf:s instanceof _||"Self"===s.ngMetadataName||s===_?o|=C.Self:i=s instanceof m||s===m?s.token:s}e.push(st(i,o))}else e.push(st(r))}return e}var lt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt;if(e===tt){var n=new Error("NullInjectorError: No provider for ".concat(R(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),ht=function t(){_classCallCheck(this,t)},ft=function t(){_classCallCheck(this,t)};function dt(t,e){t.forEach((function(t){return Array.isArray(t)?dt(t,e):e(t)}))}function pt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gt(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function yt(t,e,n){var r=bt(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function mt(t,e){var n=bt(t,e);if(n>=0)return t[1|n]}function bt(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var _t=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),wt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Ct={},kt=[],St=0;function Tt(t){return g((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,id:"c",styles:t.styles||kt,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,a=t.features,s=t.pipes;return i.id+=St++,i.inputs=At(t.inputs,r),i.outputs=At(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Et)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Ot)}:null,i}))}function Et(t){return Rt(t)||function(t){return t[W]||null}(t)}function Ot(t){return function(t){return t[K]||null}(t)}var xt={};function It(t){var e={type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g((function(){xt[t.id]=t.type})),e}function Pt(t,e){return g((function(){var n=jt(t,!0);n.declarations=e.declarations||kt,n.imports=e.imports||kt,n.exports=e.exports||kt}))}function At(t,e){if(null==t)return Ct;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Mt=Tt;function Nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Rt(t){return t[G]||null}function Dt(t,e){return t.hasOwnProperty(X)?t[X]:null}function jt(t,e){var n=t[Q]||null;if(!n&&!0===e)throw new Error("Type ".concat(R(t)," does not have '\u0275mod' property."));return n}function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function Ut(t){return 0!=(8&t.flags)}function Vt(t){return 2==(2&t.flags)}function qt(t){return 1==(1&t.flags)}function zt(t){return null!==t.template}function Bt(t){return 0!=(512&t[2])}var Ht=void 0;function Gt(t){Ht=t}function Wt(t){return!!t.listen}var Kt={createRenderer:function(t,e){return void 0!==Ht?Ht:"undefined"!=typeof document?document:void 0}};function Qt(t){for(;Array.isArray(t);)t=t[0];return t}function Yt(t,e){return Qt(e[t+20])}function Xt(t,e){return Qt(e[t.index])}function Jt(t,e){return t.data[e+20]}function $t(t,e){return t[e+20]}function Zt(t,e){var n=e[t];return Lt(n)?n:n[0]}function te(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ee(t){return 4==(4&t[2])}function ne(t){return 128==(128&t[2])}function re(t,e){return null===t||null==e?null:t[e]}function ie(t){t[18]=0}function oe(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var ae={lFrame:Ee(null),bindingsEnabled:!0,checkNoChangesMode:!1};function se(){return ae.bindingsEnabled}function ue(){return ae.lFrame.lView}function ce(){return ae.lFrame.tView}function le(){return ae.lFrame.previousOrParentTNode}function he(t,e){ae.lFrame.previousOrParentTNode=t,ae.lFrame.isParent=e}function fe(){return ae.lFrame.isParent}function de(){ae.lFrame.isParent=!1}function pe(){return ae.checkNoChangesMode}function ve(t){ae.checkNoChangesMode=t}function ge(){var t=ae.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ye(){return ae.lFrame.bindingIndex++}function me(t){var e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function be(t,e){var n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,_e(e)}function _e(t){ae.lFrame.currentDirectiveIndex=t}function we(){return ae.lFrame.currentQueryIndex}function Ce(t){ae.lFrame.currentQueryIndex=t}function ke(t,e){var n=Te();ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Se(t,e){var n=Te(),r=t[1];ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Te(){var t=ae.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Oe(){var t=ae.lFrame;return ae.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var xe=Oe;function Ie(){var t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pe(){return ae.lFrame.selectedIndex}function Ae(t){ae.lFrame.selectedIndex=t}function Me(){var t=ae.lFrame;return Jt(t.tView,t.selectedIndex)}function Ne(){ae.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Re(){ae.lFrame.currentNamespace=null}function De(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function je(t,e,n){Ue(t,e,3,n)}function Le(t,e,n,r){(3&t[2])===n&&Ue(t,e,n,r)}function Fe(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ue(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ve(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ve(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var qe=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function ze(t,e,n){for(var r=Wt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];He(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Be(t){return 3===t||4===t||6===t}function He(t){return 64===t.charCodeAt(0)}function Ge(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||We(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function We(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ke(t){return-1!==t}function Qe(t){return 32767&t}function Ye(t){return t>>16}function Xe(t,e){for(var n=Ye(t),r=e;n>0;)r=r[15],n--;return r}function Je(t){return"string"==typeof t?t:null==t?"":""+t}function $e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Je(t)}var Ze=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H);function tn(t){return t instanceof Function?t():t}var en=!0;function nn(t){var e=en;return en=t,e}var rn=0;function on(t,e){var n=sn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,an(r.data,t),an(e,null),an(r.blueprint,null));var i=un(t,e),o=t.injectorIndex;if(Ke(i))for(var a=Qe(i),s=Xe(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function an(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function un(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function cn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[J]:n.charCodeAt(0)||0;null==r&&(r=n[J]=rn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function ln(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[J];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){ke(e,t);try{var a=o();if(null!=a||r&C.Optional)return a;throw new Error("No provider for ".concat($e(n),"!"))}finally{xe()}}else if("number"==typeof o){if(-1===o)return new yn(t,e);var s=null,u=sn(t,e),c=-1,l=r&C.Host?e[16][6]:null;for((-1===u||r&C.SkipSelf)&&(c=-1===u?un(t,e):e[u+8],gn(r,!1)?(s=e[1],u=Qe(c),e=Xe(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(vn(o,u,h.data)){var f=fn(u,e,n,s,r,l);if(f!==hn)return f}gn(r,e[1].data[u+8]===l)&&vn(o,u,e)?(s=h,u=Qe(c),e=Xe(c,e)):u=-1}}}if(r&C.Optional&&void 0===i&&(i=null),0==(r&(C.Self|C.Host))){var d=e[9],p=ot(void 0);try{return d?d.get(n,i,r&C.Optional):ut(n,i,r&C.Optional)}finally{ot(p)}}if(r&C.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat($e(n),"]"))}var hn={};function fn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=dn(s,a,n,null==r?Vt(s)&&en:r!=a&&3===s.type,i&C.Host&&o===s);return null!==u?pn(e,a,u,s):hn}function dn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&zt(d)&&d.type===n)return u}return null}function pn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof qe){var a=i;if(a.resolving)throw new Error("Circular dep for "+$e(o[n]));var s,u=nn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=ot(a.injectImpl)),ke(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&ot(s),nn(u),a.resolving=!1,xe()}}return i}function vn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function gn(t,e){return!(t&C.Self||t&C.Host&&e)}var yn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return ln(this._tNode,this._lView,t,void 0,e)}}]),t}();function mn(t){return t.ngDebugContext}function bn(t){return t.ngOriginalError}function _n(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var wn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||_n}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?mn(t)?mn(t):this._findContext(bn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=bn(t);e&&bn(e);)e=bn(e);return e}}]),t}(),Cn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),kn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Cn),Sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Cn),Tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Cn),En=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Cn),On=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Cn);function xn(t){return t instanceof Cn?t.changingThisBreaksApplicationSecurity:t}function In(t,e){var n=Pn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function Pn(t){return t instanceof Cn&&t.getTypeName()||null}function An(t){return new kn(t)}function Mn(t){return new Sn(t)}function Nn(t){return new Tn(t)}function Rn(t){return new En(t)}function Dn(t){return new On(t)}var jn=!0,Ln=!1;function Fn(){return Ln=!0,jn}function Un(){if(Ln)throw new Error("Cannot enable prod mode after platform setup.");jn=!1}var Vn=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),qn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bn(t){return(t=String(t)).match(qn)||t.match(zn)?t:(Fn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Hn(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Gn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Wn,Kn=Hn("area,br,col,hr,img,wbr"),Qn=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=Hn("rp,rt"),Xn=Gn(Yn,Qn),Jn=Gn(Kn,Gn(Qn,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Yn,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xn),$n=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zn=Hn("srcset"),tr=Gn($n,Zn,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),er=Hn("script,style,template"),nr=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!er.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(tr.hasOwnProperty(s)){var u=o.value;$n[s]&&(u=Bn(u)),Zn[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Bn(t.trim())})).join(", ")),this.buf.push(" ",a,'="',or(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(or(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function or(t){return t.replace(/&/g,"&amp;").replace(rr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ir,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ar(t,e){var n=null;try{Wn=Wn||new Vn(t);var r=e?String(e):"";n=Wn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Wn.getInertBodyElement(r)}while(r!==o);var a=new nr,s=a.sanitizeChildren(sr(n)||n);return Fn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=sr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ur=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),cr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),lr=/^url\(([^)]+)\)$/;function hr(t){if(!(t=String(t).trim()))return"";var e=t.match(lr);return e&&Bn(e[1])===e[1]||t.match(cr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Fn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function fr(t){var e=dr();return e?e.sanitize(ur.URL,t)||"":In(t,"URL")?xn(t):Bn(Je(t))}function dr(){var t=ue();return t&&t[12]}function pr(t,e){t.__ngContext__=e}function vr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function gr(){throw new Error("Cannot mix multi providers and regular providers")}function yr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function mr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==yr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function br(t){return 0===t.type&&"ng-template"!==t.tagName}function _r(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function wr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Be(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!_r(t,u,n)||""===u&&1===e.length){if(Cr(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!mr(t.attrs,c,n)){if(Cr(r))return!1;a=!0}continue}var l=kr(8&r?"class":u,i,br(t),n);if(-1===l){if(Cr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==yr(f,c,0)||2&r&&c!==h){if(Cr(r))return!1;a=!0}}}}else{if(!a&&!Cr(r)&&!Cr(u))return!1;if(a&&Cr(u))continue;a=!1,r=u|1&r}}return Cr(r)||a}function Cr(t){return 0==(1&t)}function kr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Sr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(wr(t,e[r],n))return!0;return!1}function Tr(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Er(t,e){return t?":not("+e.trim()+")":e}function Or(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Cr(a)||(e+=Er(o,i),i=""),r=a,o=o||!Cr(r);n++}return""!==i&&(e+=Er(o,i)),e}var xr={};function Ir(t){var e=t[3];return Ft(e)?e[3]:e}function Pr(t){return Mr(t[13])}function Ar(t){return Mr(t[4])}function Mr(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function Nr(t){Rr(ce(),ue(),Pe()+t,pe())}function Rr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&je(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Le(e,o,0,n)}Ae(n)}function Dr(t,e){return t<<17|e<<2}function jr(t){return t>>17&32767}function Lr(t){return 2|t}function Fr(t){return(131068&t)>>2}function Ur(t,e){return-131069&t|e<<2}function Vr(t){return 1|t}function qr(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];Ce(i),a.contentQueries(2,e[o],o)}}}function zr(t,e,n){return Wt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Br(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ie(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Hr(t,e,n,r,i,o){var a=n+20,s=t.data[a]||function(t,e,n,r,i,o){var a=le(),s=fe(),u=s?a:a&&a.parent,c=t.data[n]=ti(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return he(s,!0),s}function Gr(t,e,n){Se(e,e[6]);try{var r=t.viewQuery;null!==r&&Ci(1,r,n);var i=t.template;null!==i&&Qr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qr(t,e),t.staticViewQueries&&Ci(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)yi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Ie()}}function Wr(t,e,n,r){var i=e[2];if(256!=(256&i)){Se(e,e[6]);var o=pe();try{ie(e),ae.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Qr(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&je(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Le(e,u,0,null),Fe(e,0)}if(function(t){for(var e=Pr(t);null!==e;e=Ar(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&oe(o,1),i[2]|=1024}}(e),function(t){for(var e=Pr(t);null!==e;e=Ar(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];ne(r)&&Wr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&qr(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&je(e,c)}else{var l=t.contentHooks;null!==l&&Le(e,l,1),Fe(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Ae(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(be(r,i),a(2,e[i])),i++)}}finally{Ae(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)gi(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&Ci(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&je(e,d)}else{var p=t.viewHooks;null!==p&&Le(e,p,2),Fe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,oe(e[3],-1))}finally{Ie()}}}function Kr(t,e,n,r){var i=e[10],o=!pe(),a=ee(e);try{o&&!a&&i.begin&&i.begin(),a&&Gr(t,e,r),Wr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Qr(t,e,n,r,i){var o=Pe();try{Ae(-1),2&r&&e.length>20&&Rr(t,e,0,pe()),n(r,i)}finally{Ae(o)}}function Yr(t,e,n){if(Ut(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Xr(t,e,n){se()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||on(n,e),pr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=zt(u);c&&fi(e,n,u);var l=pn(e,t,s,n);pr(l,e),null!==a&&di(0,s-i,l,u,0,a),c&&(Zt(n.index,e)[8]=l)}}(t,e,n,Xt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=ae.lFrame.currentDirectiveIndex;try{Ae(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];_e(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ai(l,h):a&&o.push(null)}}finally{Ae(-1),_e(u)}}(t,e,n))}function Jr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function $r(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zr(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:xr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ti(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ei(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ni(t,e,n,r,i,o,a,s){var u,c,l=Xt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(Oi(t,n,u,r,i),Vt(e)&&function(t,e){var n=Zt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.tagName||"",r):i,Wt(o)?o.setProperty(l,r,i):He(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function ri(t,e,n,r){var i=!1;if(se()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Sr(n,a.selectors,!1)&&(i||(i=[]),cn(on(n,e),t,a.type),zt(a)?(2&n.flags&&vr(n),ui(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,li(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}si(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Ge(n.mergedAttrs,d.hostAttrs),hi(t,e,d),ci(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),ii(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||br(e)?null:pi(l,i);o.push(h),a=ei(l,u,a),s=ei(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),oi(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Ge(n.mergedAttrs,n.attrs),i}function ii(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function oi(t,e,n){for(var r=0;r<n;r++)e.push(xr),t.blueprint.push(xr),t.data.push(null)}function ai(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function si(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ui(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ci(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zt(e)&&(n[""]=t)}}function li(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function hi(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Dt(n.type)),i=new qe(r,zt(n),null);t.blueprint.push(i),e.push(i)}function fi(t,e,n){var r=Xt(e,t),i=$r(n),o=t[10],a=mi(t,Br(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function di(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function pi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function vi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function gi(t,e){var n=Zt(e,t);if(ne(n)){var r=n[1];80&n[2]?Wr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Pr(e);null!==n;n=Ar(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Wr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=Zt(a[s],e);ne(u)&&u[5]>0&&t(u)}}(n)}}function yi(t,e){var n=Zt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Gr(r,n,n[8])}function mi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function bi(t){for(;t;){t[2]|=64;var e=Ir(t);if(Bt(t)&&!e)return t;t=e}return null}function _i(t,e,n){var r=e[10];r.begin&&r.begin();try{Wr(t,e,t.template,n)}catch(i){throw Ei(e,i),i}finally{r.end&&r.end()}}function wi(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=te(n),i=r[1];Kr(i,r,i.template,n)}}(t[8])}function Ci(t,e,n){Ce(0),e(t,n)}var ki=Promise.resolve(null);function Si(t){return t[7]||(t[7]=[])}function Ti(t){return t.cleanup||(t.cleanup=[])}function Ei(t,e){var n=t[9],r=n?n.get(wn,null):null;r&&r.handleError(e)}function Oi(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function xi(t,e){var n=e[3];return-1===t.index?Ft(n)?n:null:n}function Ii(t,e){var n=xi(t,e);return n?qi(e[11],n[7]):null}function Pi(t,e,n,r,i){if(null!=r){var o,a=!1;Ft(r)?o=r:Lt(r)&&(a=!0,r=r[0]);var s=Qt(r);0===t&&null!==n?null==i?Ui(e,n,s):Fi(e,n,s,i||null):1===t&&null!==n?Fi(e,n,s,i||null):2===t?function(t,e,n){var r=qi(t,e);r&&function(t,e,n,r){Wt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Qt(n)&&Pi(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Wi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Ai(t,e,n,r){var i=Ii(t.node,e);i&&Wi(t,e,e[11],n?1:2,i,r)}function Mi(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&oe(e[3],-1),n.splice(r,1)}function Ni(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&Mi(i,r),e>0&&(t[n-1][4]=r[4]);var o=vt(t,10+e);Ai(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Ri(t,e){if(!(256&e[2])){var n=e[11];Wt(n)&&n.destroyNode&&Wi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return ji(t[1],t);for(;e;){var n=null;if(Lt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&ji(e[1],e),e=Di(e,t);null===e&&(e=t),Lt(e)&&ji(e[1],e),n=e&&e[4]}e=n}}(e)}}function Di(t,e){var n;return Lt(t)&&(n=t[6])&&2===n.type?xi(n,t):t[3]===e?null:t[3]}function ji(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof qe)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Qt(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Wt(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Ft(e[3])){r!==e[3]&&Mi(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Li(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?Ii(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Xt(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==wt.ShadowDom&&a!==wt.Native)return null}return Xt(r,n)}function Fi(t,e,n,r){Wt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ui(t,e,n){Wt(t)?t.appendChild(e,n):e.appendChild(n)}function Vi(t,e,n,r){null!==r?Fi(t,e,n,r):Ui(t,e,n)}function qi(t,e){return Wt(t)?t.parentNode(e):e.parentNode}function zi(t,e){if(2===t.type){var n=xi(t,e);return null===n?null:Hi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Xt(t,e):null}function Bi(t,e,n,r){var i=Li(t,r,e);if(null!=i){var o=e[11],a=zi(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Vi(o,i,n[s],a);else Vi(o,i,n,a)}}function Hi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Xt(n,e);if(0===r)return Hi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Ft(o)?Hi(-1,o):Qt(o)}var a=e[16],s=a[6],u=Ir(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function Gi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&pr(Qt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Gi(t,e,n.child,r,i,o,!1),Pi(e,t,i,s,o)):1===u?Ki(t,e,r,n,i,o):Pi(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Wi(t,e,n,r,i,o){Gi(n,r,t.node.child,e,i,o,!1)}function Ki(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Pi(e,t,i,s[u],o);else Gi(t,e,s,a[3],i,o,!0)}function Qi(t,e,n){Wt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Yi(t,e,n){Wt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Xi,Ji,$i,Zi=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Qt(a)),Ft(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Ir(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ri(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,Si(n=this._lView).push(r),e.firstCreatePass&&Ti(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){bi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){_i(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ve(!0);try{_i(t,e,n)}finally{ve(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Wi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),to=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){wi(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ve(!0);try{wi(t)}finally{ve(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Zi);function eo(t,e,n){return Xi||(Xi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Xi(Xt(e,n))}function no(t,e,n,r){return Ji||(Ji=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Br(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Gr(e,n,t),new Zi(n)}}]),n}(t)),0===n.type?new Ji(r,n,eo(e,n,r)):null}function ro(t,e,n,r){var i;$i||($i=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"element",get:function(){return eo(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new yn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=un(this._hostTNode,this._hostView),e=Xe(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Ye(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return Ke(t)&&null!=n?new yn(n,e):new yn(null,this._hostView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(ht,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new $i(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],pt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),Ai(r,n,!0,Hi(s,this._lContainer)),t.attachToViewContainerRef(this),pt(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=Ni(t,e);n&&Ri(n[1],n)}(this._lContainer,e),vt(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Ni(this._lContainer,e);return n&&null!=vt(this._lContainer[8],e)?new Zi(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}}]),r}(t));var o=r[n.index];if(Ft(o))i=o;else{var a;if(4===n.type)a=Qt(o);else if(a=r[11].createComment(""),Bt(r)){var s=r[11],u=Xt(n,r);Fi(s,qi(s,u),a,function(t,e){return Wt(t)?t.nextSibling(e):e.nextSibling}(s,u))}else Bi(r[1],r,a,n);r[n.index]=i=vi(o,r,a,n),mi(r,i)}return new $i(i,n,r)}function io(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Vt(t)){var r=Zt(t.index,e);return new Zi(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Zi(e[16],e):null}(le(),ue(),t)}var oo=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ao()},t}(),ao=io,so=new $("Set Injector scope."),uo={},co={},lo=[],ho=void 0;function fo(){return void 0===ho&&(ho=new lt),ho}function po(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new vo(t,n,e||fo(),r)}var vo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&dt(n,(function(t){return i.processProvider(t,e,n)})),dt([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(Z,yo(void 0,this));var s=this.records.get(so);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:R(e))}return _createClass(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.Default;this.assertNotDestroyed();var r,i=it(this);try{if(!(n&C.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof $)&&E(t);o=a&&this.injectableDefInScope(a)?yo(go(t),uo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&C.Self?fo():this.parent).get(t,e=n&C.Optional&&e===tt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(R(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=R(e);if(Array.isArray(e))i=e.map(R).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):R(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(et,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{it(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(R(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=F(t)))return!1;var i=x(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=x(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{dt(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;dt(i,(function(t){return r.processProvider(t,n,i||lo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,yo(i.factory,uo));var h=i.providers;if(null!=h&&!s){var f=t;dt(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=bo(t=F(t))?t:F(t&&t.provide),i=function(t,e,n){return mo(t)?yo(void 0,t.useValue):yo(function(t,e,n){var r,i=void 0;if(bo(t)){var o=F(t);return Dt(o)||go(o)}if(mo(t))i=function(){return F(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(ct(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return st(F(t.useExisting))};else{var a=F(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(R(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return Dt(a)||go(a);i=function(){return _construct2(a,_toConsumableArray(ct(t.deps)))}}return i}(t,e,n),uo)}(t,e,n);if(bo(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&gr()}else{var a=this.records.get(r);a?void 0===a.multi&&gr():((a=yo(void 0,uo,!0)).factory=function(){return ct(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===co?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(R(t)):e.value===uo&&(e.value=co,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function go(t){var e=E(t),n=null!==e?e.factory:Dt(t);if(null!==n)return n;var r=x(t);if(null!==r)return r.factory;if(t instanceof $)throw new Error("Token ".concat(R(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=gt(e,"?");throw new Error("Can't resolve all parameters for ".concat(R(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[I]||t[M]||t[A]&&t[A]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function yo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function mo(t){return null!==t&&"object"==typeof t&&nt in t}function bo(t){return"function"==typeof t}var _o=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=po(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},wo=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?_o(t,e,""):_o(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=tt,t.NULL=new lt,t.\u0275prov=S({token:t,providedIn:"any",factory:function(){return st(Z)}}),t.__NG_ELEMENT_ID__=-1,t}(),Co=new $("AnalyzeForEntryComponents"),ko=new Map,So=new Set;function To(t){return"string"==typeof t?t:t.text()}function Eo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=D(i,s):2==o&&(r=D(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Oo=null;function xo(){if(!Oo){var t=H.Symbol;if(t&&t.iterator)Oo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Oo=r)}}return Oo}function Io(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var Po=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Ao(t){return!!Mo(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function Mo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function No(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ro(t,e,n,r){var i=ue();return No(i,ye(),e)&&(ce(),function(t,e,n,r,i,o){var a=Xt(t,e),s=e[11];if(null==r)Wt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Je(r):i(r,t.tagName||"",n);Wt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(Me(),i,t,e,n,r)),Ro}function Do(t,e,n,r,i,o,a,s){var u=ue(),c=ce(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Hr(e,n[6],t,0,a||null,re(c,s));ri(e,n,l,re(c,u)),De(e,l);var h=l.tViews=Zr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=ti(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];he(h,!1);var f=u[11].createComment("");Bi(c,u,f,h),pr(f,u),mi(u,u[l]=vi(f,u,f,h)),qt(h)&&Xr(c,u,h),null!=a&&Jr(u,h,s)}function jo(t){return $t(ae.lFrame.contextLView,t)}function Lo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default,n=ue();return null==n?st(t,e):ln(le(),n,F(t),e)}function Fo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Be(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(le(),t)}function Uo(){throw new Error("invalid")}function Vo(t,e,n){var r=ue();return No(r,ye(),e)&&ni(ce(),Me(),r,t,e,r[11],n,!1),Vo}function qo(t,e,n,r,i){var o=i?"class":"style";Oi(t,n,e.inputs[o],o,r)}function zo(t,e,n,r){var i=ue(),o=ce(),a=20+t,s=i[11],u=i[a]=zr(e,s,ae.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=re(s,o),c=Hr(e,n[6],t,3,i,u);return ri(e,n,c,re(s,a)),null!==c.attrs&&Eo(c,c.attrs,!1),null!==c.mergedAttrs&&Eo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];he(c,!0);var l=c.mergedAttrs;null!==l&&ze(s,u,l);var h=c.classes;null!==h&&Yi(s,u,h);var f=c.styles;null!==f&&Qi(s,u,f),Bi(o,i,u,c),0===ae.lFrame.elementDepthCount&&pr(u,i),ae.lFrame.elementDepthCount++,qt(c)&&(Xr(o,i,c),Yr(o,c,i)),null!==r&&Jr(i,c)}function Bo(){var t=le();fe()?de():he(t=t.parent,!1);var e=t;ae.lFrame.elementDepthCount--;var n=ce();n.firstCreatePass&&(De(n,t),Ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qo(n,e,ue(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qo(n,e,ue(),e.stylesWithoutHost,!1)}function Ho(t,e,n,r){zo(t,e,n,r),Bo()}function Go(t,e,n){var r=ue(),i=ce(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=re(o,r),s=Hr(e,n[6],t,4,"ng-container",a);return null!==a&&Eo(s,a,!0),ri(e,n,s,re(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,i,r,e,n):i.data[o];he(a,!0);var s=r[o]=r[11].createComment("");Bi(i,r,s,a),pr(s,r),qt(a)&&(Xr(i,r,a),Yr(i,a,r)),null!=n&&Jr(r,a)}function Wo(){var t=le(),e=ce();fe()?de():he(t=t.parent,!1),e.firstCreatePass&&(De(e,t),Ut(t)&&e.queries.elementEnd(t))}function Ko(t){return!!t&&"function"==typeof t.then}function Qo(t){return!!t&&"function"==typeof t.subscribe}function Yo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ue(),o=ce(),a=le();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=qt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Si(e),h=!0;if(3===r.type){var f=Xt(r,e),d=s?s(f):Ct,p=d.target||f,v=l.length,g=s?function(t){return s(Qt(t[r.index])).target}:r.index;if(Wt(n)){var y=null;if(!s&&u&&(y=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=Jo(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,g,v,v+1)}}else o=Jo(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,g,v,a)}var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var C=0;C<w;C+=2){var k=e[b[C]][b[C+1]].subscribe(o),S=l.length;l.push(o,k),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],a,t,e,n,r),Yo}function Xo(t,e,n){try{return!1!==e(n)}catch(r){return Ei(t,r),!1}}function Jo(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Zt(t.index,e):e;0==(32&e[2])&&bi(a);for(var s=Xo(e,n,o),u=i.__ngNextListenerFn__;u;)s=Xo(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function $o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(ae.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ae.lFrame.contextLView))[8]}(t)}function Zo(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Sr(t,o,!0):Tr(r,o))return i}else n=i}return n}function ta(t){var e=ue()[16][6];if(!e.projection)for(var n=e.projection=gt(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?Zo(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ea(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=ue(),i=ce(),o=Hr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),de(),function(t,e,n){Ki(e[11],0,e,n,Li(t,n,e),zi(n.parent||e[6],e))}(i,r,o)}var na=[];function ra(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?jr(o):Fr(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];ia(t[s],e)&&(u=!0,t[s+1]=r?Vr(c):Lr(c)),s=r?jr(c):Fr(c)}u&&(t[n+1]=r?Lr(o):Vr(o))}function ia(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bt(t,e)>=0}var oa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aa(t){return t.substring(oa.key,oa.keyEnd)}function sa(t){return t.substring(oa.value,oa.valueEnd)}function ua(t,e){var n=oa.textEnd;return n===e?-1:(e=oa.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,oa.key=e,n),ha(t,e,n))}function ca(t,e){var n=oa.textEnd,r=oa.key=ha(t,e,n);return n===r?-1:(r=oa.keyEnd=function(t,e,n){for(var r;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90);)e++;return e}(t,r,n),r=fa(t,r,n),r=oa.value=ha(t,r,n),r=oa.valueEnd=function(t,e,n){for(var r=-1,i=-1,o=-1,a=e,s=a;a<n;){var u=t.charCodeAt(a++);if(59===u)return s;34===u||39===u?s=a=da(t,u,a,n):e===a-4&&85===o&&82===i&&76===r&&40===u?s=a=da(t,41,a,n):u>32&&(s=a),o=i,i=r,r=-33&u}return s}(t,r,n),fa(t,r,n))}function la(t){oa.key=0,oa.keyEnd=0,oa.value=0,oa.valueEnd=0,oa.textEnd=t.length}function ha(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function fa(t,e,n,r){return(e=ha(t,e,n))<n&&e++,e}function da(t,e,n,r){for(var i=-1,o=n;o<r;){var a=t.charCodeAt(o++);if(a==e&&92!==i)return o;i=92==a&&92===i?0:a}throw new Error}function pa(t,e){return function(t,e,n,r){var i,o,a=ue(),s=ce(),u=me(2);(s.firstUpdatePass&&wa(s,t,u,!0),e!==xr&&No(a,u,e))&&(null==n&&(i=null===(o=ae.lFrame)?null:o.currentSanitizer)&&(n=i),Ta(s,s.data[Pe()+20],a,a[11],t,a[u+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=R(xn(t)))),t}(e,n),!0,u))}(t,e,null),pa}function va(t){ba(Sa,ga,t,!1)}function ga(t,e){for(var n=function(t){return la(t),ca(t,ha(t,0,oa.textEnd))}(e);n>=0;n=ca(e,n))Sa(t,aa(e),sa(e))}function ya(t){ba(yt,ma,t,!0)}function ma(t,e){for(var n=function(t){return la(t),ua(t,ha(t,0,oa.textEnd))}(e);n>=0;n=ua(e,n))yt(t,aa(e),!0)}function ba(t,e,n,r){var i=ce(),o=me(2);i.firstUpdatePass&&wa(i,null,o,r);var a=ue();if(n!==xr&&No(a,o,n)){var s=i.data[Pe()+20];if(xa(s,r)&&!_a(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=D(u,n||"")),qo(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===xr&&(i=na);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&Ta(t,e,n,r,p,v,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return na;var r=[],i=xn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function _a(t,e){return e>=t.expandoStartIndex}function wa(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Pe()+20],a=_a(t,n);xa(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ka(n=Ca(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Ca(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Fr(r))return t[jr(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[jr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=ka(s=Ca(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=ka(r,t[o].hostAttrs,n);return ka(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=jr(a),u=Fr(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||bt(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=jr(t[s+1]);t[r+1]=Dr(f,s),0!==f&&(t[f+1]=Ur(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Dr(s,0),0!==s&&(t[s+1]=Ur(t[s+1],r)),s=r;else t[r+1]=Dr(u,0),0===s?s=r:t[u+1]=Ur(t[u+1],r),u=r;l&&(t[r+1]=Lr(t[r+1])),ra(t,c,r,!0),ra(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&bt(o,e)>=0&&(n[r+1]=Vr(n[r+1]))}(e,c,t,r,o),a=Dr(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Ca(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=ka(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function ka(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yt(t,a,!!n||e[++o]))}return void 0===t?null:t}function Sa(t,e,n){var r,i,o;("background-image"===(r=e)||"backgroundImage"===r||"background"===r||"border-image"===r||"borderImage"===r||"border-image-source"===r||"borderImageSource"===r||"filter"===r||"list-style"===r||"listStyle"===r||"list-style-image"===r||"listStyleImage"===r||"clip-path"===r||"clipPath"===r)&&(i=n,n=(o=dr())?o.sanitize(ur.STYLE,i)||"":In(i,"Style")?xn(i):hr(Je(i))),yt(t,e,n)}function Ta(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];Oa(1==(1&c)?Ea(u,e,n,i,Fr(c),a):void 0)||(Oa(o)||2==(2&c)&&(o=Ea(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Wt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,a):n.style.removeProperty(r):o?t.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Yt(Pe(),n),i,o))}}function Ea(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===xr&&(f=h?na:void 0);var d=h?mt(f,r):l===r?f:void 0;if(c&&!Oa(d)&&(d=mt(u,r)),Oa(d)&&(s=d,a))return s;var p=t[i+1];i=a?jr(p):Fr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=mt(v,r))}return s}function Oa(t){return void 0!==t}function xa(t,e){return 0!=(t.flags&(e?16:32))}function Ia(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ue(),r=ce(),i=t+20,o=r.firstCreatePass?Hr(r,n[6],t,3,null,null):r.data[i],a=n[i]=function(t,e){return Wt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Bi(r,n,a,o),he(o,!1)}function Pa(t){return Aa("",t,""),Pa}function Aa(t,e,n){var r=ue(),i=function(t,e,n,r){return No(t,ye(),n)?e+Je(n)+r:xr}(r,t,e,n);return i!==xr&&function(t,e,n){var r=Yt(e,t),i=t[11];Wt(i)?i.setValue(r,n):r.textContent=n}(r,Pe(),i),Aa}function Ma(t,e,n){var r=ue();return No(r,ye(),e)&&ni(ce(),Me(),r,t,e,r[11],n,!0),Ma}function Na(t,e){var n=te(t)[1],r=n.data.length-1;De(n,{directiveStart:r,directiveEnd:r+1})}var Ra=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Da(t){t.type.prototype.ngOnChanges&&(t.setInput=ja,t.onChanges=function(){var t=La(this),e=t&&t.current;if(e){var n=t.previous;if(n===Ct)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function ja(t,e,n,r){var i=La(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ct,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ra(u&&u.currentValue,e,a===Ct),t[r]=e}function La(t){return t.__ngSimpleChanges__||null}Da.ngInherit=!0;var Fa=function t(){_classCallCheck(this,t)},Ua=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(R(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Va=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new Ua,t}(),qa=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return za(t)},t}(),za=function(t){return eo(t,le(),ue())},Ba=function t(){_classCallCheck(this,t)},Ha=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Ga=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Wa()},t}(),Wa=function(){var t=ue(),e=Zt(le().index,t);return function(t){var e=t[11];if(Wt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)},Ka=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return null}}),t}(),Qa=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Ya=new Qa("9.1.13"),Xa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Ao(t)}},{key:"create",value:function(t){return new $a(t)}}]),t}(),Ja=function(t,e){return e},$a=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ja}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<ns(n,r,i)?e:n,a=ns(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Ao(t))throw new Error("Error trying to diff '".concat(R(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Io(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Io(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[xo()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Io(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Io(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Io(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Io(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Za(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new es),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new es),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Za=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ts=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Io(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),es=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new ts,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function ns(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var rs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Mo(t)}},{key:"create",value:function(){return new is}}]),t}(),is=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Mo(t)))throw new Error("Error trying to diff '".concat(R(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new os(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Io(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}}]),t}(),os=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},as=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}}]),t}();return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return new t([new Xa])}}),t}(),ss=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}}]),t}();return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return new t([new rs])}}),t}(),us=[new rs],cs=new as([new Xa]),ls=new ss(us),hs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return fs(t,qa)},t}(),fs=function(t,e){return no(t,e,le(),ue())},ds=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ps(t,qa)},t}(),ps=function(t,e){return ro(t,e,le(),ue())},vs={},gs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=Rt(t);return new bs(e,this.ngModule)}}]),n}(Va);function ys(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var ms=new $("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ze}}),bs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Or).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return ys(this.componentDef.inputs)}},{key:"outputs",get:function(){return ys(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,vs,i);return o!==vs||r===vs?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Ba,Kt),u=a.get(Ka,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Wt(t))return t.selectRootElement(e,n===wt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):zr(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Ze,clean:ki,playerHandler:null,flags:0},v=Zr(0,-1,null,1,0,null,null,null,null,null),g=Br(null,v,p,f,null,null,s,c,u,a);Se(g,null);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Hr(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Eo(s,u,!0),null!==t&&(ze(i,t,u),null!==s.classes&&Yi(i,t,s.classes),null!==s.styles&&Qi(i,t,s.styles)));var c=r.createRenderer(t,e),l=Br(n,$r(e),null,e.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(cn(on(s,n),a,e.type),ui(a,s),li(s,n.length,1)),mi(n,l),n[20]=l}(h,this.componentDef,g,s,c);if(h)if(n)ze(c,h,["ng-version",Ya.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Cr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=m.attrs,_=m.classes;b&&ze(c,h,b),_&&_.length>0&&Yi(c,h,_.join(" "))}if(o=Jt(v,0),void 0!==e)for(var w=o.projection=[],C=0;C<this.ngContentSelectors.length;C++){var k=e[C];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=le();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),si(t,r,1),hi(t,e,n));var i=pn(e,t,e.length-1,r);pr(i,e);var o=Xt(r,e);return o&&pr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=le();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ae(s.index-20);var u=n[1];ii(u,e),oi(u,n,e.hostVars),ai(e,a)}return a}(y,this.componentDef,g,p,[Na]),Gr(v,g,null)}finally{Ie()}var S=new _s(this.componentType,i,eo(qa,o,g),g,o);return n&&!d||(v.node.child=o),S}}]),n}(Fa),_s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new to(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=ti(0,null,2,-1,null,null)),c[6]=l,s.componentType=t,s}return _createClass(n,[{key:"injector",get:function(){return new yn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),ws=void 0,Cs=["en",[["a","p"],["AM","PM"],ws],[["AM","PM"],ws,ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ws,"{1} 'at' {0}",ws],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],ks={};function Ss(t,e,n){"string"!=typeof e&&(n=e,e=t[Is.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ks[e]=t,n&&(ks[e][Is.ExtraData]=n)}function Ts(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=xs(e);if(n)return n;var r=e.split("-")[0];if(n=xs(r))return n;if("en"===r)return Cs;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Es(t){return Ts(t)[Is.CurrencyCode]||null}function Os(t){return Ts(t)[Is.PluralCase]}function xs(t){return t in ks||(ks[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),ks[t]}var Is=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function Ps(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var As=new Map,Ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new gs(_assertThisInitialized(i));var o=jt(t),a=t[Y]||null;return a&&Ps(a),i._bootstrapComponents=tn(o.bootstrap),i._r3Injector=po(t,r,[{provide:ht,useValue:_assertThisInitialized(i)},{provide:Va,useValue:i.componentFactoryResolver}],R(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.Default;return t===wo||t===ht||t===Z?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(ht),Ns=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==jt(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(R(e)," vs ").concat(R(e.name)))})(n,As.get(n),e),As.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new Ms(this.moduleType,t)}}]),n}(ft);function Rs(t,e,n,r){return Ds(ue(),ge(),t,e,n,r)}function Ds(t,e,n,r,i,o){var a=e+n;return No(t,a,i)?function(t,e,n){return t[e]=n}(t,a+1,o?r.call(o,i):r(i)):function(t,e){var n=t[e];return n===xr?void 0:n}(t,a+1)}function js(t,e){var n,r=ce(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Dt(n.type)),a=ot(Lo),s=nn(!1),u=o();return nn(s),ot(a),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,ue(),t,u),u}function Ls(t,e,n){var r=ue(),i=$t(r,t);return function(t,e){return Po.isWrapped(e)&&(e=Po.unwrap(e),t[ae.lFrame.bindingIndex]=xr),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?Ds(r,ge(),e,i.transform,n,i):i.transform(n))}var Fs=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf2(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf2(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),n}(r.a);function Us(){return this._results[xo()]()}var Vs=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new Fs,this.length=0;var e=xo(),n=t.prototype;n[e]||(n[e]=Us)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),qs=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),zs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==eu(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Bs=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},Hs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Gs=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Ws(e,n[r]));else{var i=this.metadata.predicate;i===hs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,dn(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===qa||r===ds||r===hs&&0===e.type)this.addMatch(e.index,-2);else{var i=dn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Ws(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ks(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?eo(qa,t,e):0===t.type?no(hs,qa,t,e):null}(e,t):-2===n?function(t,e,n){return n===qa?eo(qa,e,t):n===hs?no(hs,qa,e,t):n===ds?ro(ds,qa,e,t):void 0}(t,e,r):pn(t,t[1],n,e)}function Qs(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Ks(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Ys(t){var e=ue(),n=ce(),r=we();Ce(r+1);var i=eu(n,r);if(t.dirty&&ee(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Qs(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var g=p[v];t(g[1],g,l,i)}}}return i}(n,e,r,[]):Qs(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Xs(t,e,n){!function(t,e,n,r,i,o){t.firstCreatePass&&tu(t,new Bs(n,r,!1,i),-1),Zs(t,e)}(ce(),ue(),t,e,n)}function Js(t,e,n,r){!function(t,e,n,r,i,o,a,s){t.firstCreatePass&&(tu(t,new Bs(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s)),Zs(t,e)}(ce(),ue(),e,n,r,0,le(),t)}function $s(){return t=ue(),e=we(),t[19].queries[e].queryList;var t,e}function Zs(t,e){var n=new Vs;!function(t,e,n,r){var i=Si(e);i.push(n),t.firstCreatePass&&Ti(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new zs),e[19].queries.push(new qs(n))}function tu(t,e,n){null===t.queries&&(t.queries=new Hs),t.queries.track(new Gs(e,n))}function eu(t,e){return t.queries.getByIndex(e)}function nu(t,e){return no(hs,qa,t,e)}function ru(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.Default,e=io(!0);if(null!=e||t&C.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var iu=new $("Application Initializer"),ou=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ko(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(st(iu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),au=new $("AppId"),su={provide:au,useFactory:function(){return"".concat(uu()).concat(uu()).concat(uu())},deps:[]};function uu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var cu=new $("Platform Initializer"),lu=new $("Platform ID"),hu=new $("appBootstrapListener"),fu=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),du=new $("LocaleId"),pu=new $("DefaultCurrencyCode"),vu=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},gu=function(t){return new Ns(t)},yu=gu,mu=function(t){return Promise.resolve(gu(t))},bu=function(t){var e=gu(t),n=tn(jt(t).declarations).reduce((function(t,e){var n=Rt(e);return n&&t.push(new bs(n)),t}),[]);return new vu(e,n)},_u=bu,wu=function(t){return Promise.resolve(bu(t))},Cu=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=yu,this.compileModuleAsync=mu,this.compileModuleAndAllComponentsSync=_u,this.compileModuleAndAllComponentsAsync=wu}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),ku=new $("compilerOptions"),Su=Promise.resolve(0);function Tu(t){"undefined"==typeof Zone?Su.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Eu=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fs(!1),this.onMicrotaskEmpty=new Fs(!1),this.onStable=new Fs(!1),this.onError=new Fs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,(function(){t.lastRequestAnimationFrameId=-1,Pu(t),Iu(t)})),Pu(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return Au(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Mu(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return Au(n),t.invoke(r,i,o,a,s)}finally{Mu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Pu(n),Iu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,xu,Ou,Ou);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Ou(){}var xu={};function Iu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Pu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Au(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mu(t){t._nesting--,Iu(t)}var Nu=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fs,this.onMicrotaskEmpty=new Fs,this.onStable=new Fs,this.onError=new Fs}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Ru=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Eu.assertNotInAngularZone(),Tu((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Tu((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(st(Eu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),Du=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Fu.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Fu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function ju(t){Fu=t}var Lu,Fu=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Uu=function(t,e,n){var r=t.get(ku,[]).concat(e),i=new Ns(n);if(0===ko.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,_toConsumableArray(t))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var t=H.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=wo.create({providers:s}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(To))}return e}return ko.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){So.delete(t)}(n)}));e.push(u)})),ko=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},Vu=new $("AllowMultipleToken"),qu=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function zu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new $(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Bu();if(!o||o.injector.get(Vu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:so,useValue:"platform"});!function(t){if(Lu&&!Lu.destroyed&&!Lu.injector.get(Vu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Lu=t.get(Hu);var e=t.get(cu,null);e&&e.forEach((function(t){return t()}))}(wo.create({providers:a,name:r}))}return function(t){var e=Bu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Bu(){return Lu&&!Lu.destroyed?Lu:null}var Hu=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Nu:("zone.js"===n?void 0:n)||new Eu({enableLongStackTrace:Fn(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Eu,useValue:o}];return o.run((function(){var e=wo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(wn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Qu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(ou)).runInitializers(),a.donePromise.then((function(){return Ps(n.injector.get(du,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Ko(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Gu({},n);return Uu(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Ku);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(R(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(st(wo))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function Gu(t,e){return Array.isArray(e)?e.reduce(Gu,t):Object.assign(Object.assign({},t),e)}var Wu,Ku=((Wu=function(){function t(e,n,r,i,s,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Fn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),f=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){Eu.assertNotInAngularZone(),Tu((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){Eu.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe((function(t){return u()((e=v,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Fa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ht),o=n.create(wo.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Ru,null);return a&&o.injector.get(Du).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Fn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Qu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hu,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Qu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Wu)(st(Eu),st(fu),st(wo),st(wn),st(Va),st(ou))},Wu.\u0275prov=S({token:Wu,factory:Wu.\u0275fac}),Wu);function Qu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Yu=function t(){_classCallCheck(this,t)},Xu=function t(){_classCallCheck(this,t)},Ju={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},$u=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Ju}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return Zu(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return Zu(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(st(Cu),st(Xu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function Zu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var tc=function(t){return null},ec=zu(null,"core",[{provide:lu,useValue:"unknown"},{provide:Hu,deps:[wo]},{provide:Du,deps:[]},{provide:fu,deps:[]}]),nc=[{provide:Ku,useClass:Ku,deps:[Eu,fu,wo,wn,Va,ou]},{provide:ms,deps:[Eu],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:ou,useClass:ou,deps:[[new b,iu]]},{provide:Cu,useClass:Cu,deps:[]},su,{provide:as,useFactory:function(){return cs},deps:[]},{provide:ss,useFactory:function(){return ls},deps:[]},{provide:du,useFactory:function(t){return Ps(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new m(du),new b,new w]]},{provide:pu,useValue:"USD"}],rc=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=It({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(st(Ku))},providers:nc}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("HDdC"),u=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return t=this.error,new s.a((function(e){return e.error(t)}));case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(u.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),f=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return k})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return i})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return x})),n.d(e,"k",(function(){return s})),n.d(e,"l",(function(){return l})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return p})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return u})),n.d(e,"r",(function(){return c})),n.d(e,"s",(function(){return f})),n.d(e,"t",(function(){return v})),n.d(e,"u",(function(){return y}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}function g(){return"indexedDB"in self&&null!=indexedDB}function y(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function m(){return!(!navigator||!navigator.cookieEnabled)}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),_=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?w(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new b(i,s,r);return u},t}();function w(t,e){return t.replace(C,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var C=/\{\$([^}]+)}/g;function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function O(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function x(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf2(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf2(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf2(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){e=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof u?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof u?e.errors:e)}),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return y})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return C})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return g})),n.d(e,"k",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=e.run((function(){return new h(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(a.a)(t.outsideAngular),Object(s.b)(t.insideAngular))}}var v=["ngOnDestroy"],g=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var a=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},y=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},m=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=function t(){_classCallCheck(this,t)},w=new u.N("6.1.4");function C(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var k=function(){S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.T)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function T(e,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(t,e){var n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&S("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var E={provide:_,useFactory:C,deps:[m,u.z,[new u.A,b]]},O=function(){var t=function(){function t(e){_classCallCheck(this,t),c.a.registerVersion("angularfire",w.full,e.toString()),c.a.registerVersion("angular",u.M.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}]),t}();return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[E]}),t}()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(t){return t in a&&(delete a[t],!0)}var u=function(t){var e=i++;return a[e]=!0,o.then((function(){return s(e)&&t()})),e},c=function(t){s(t)},l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf2(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf2(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),h=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),f=n("DH7j"),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=a,i=o,(Object(f.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=h),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new v(t,e))}}var v=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new d(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,s){var u;return _classCallCheck(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.h)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.f)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.i)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o(o({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.i)(e,t)},createSubscribe:a.g,ErrorFactory:a.b,deepExtend:a.i}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.l)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.r)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var m,b=p;(m=b).INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),m.registerVersion("@firebase/app","0.6.20",void 0),m.registerVersion("fire-js",""),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={apiKey:"AIzaSyA9E-cTrRAzeIkZFo-0-6pBX-RPorz-t3Y",authDomain:"petai-validation.firebaseapp.com",projectId:"petai-validation",storageBucket:"petai-validation.appspot.com",messagingSenderId:"557454141908",appId:"1:557454141908:web:26048322f6fc97c1ba0e41",measurementId:"G-8PBN88JCYF"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275prov=Object(r.Eb)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.Pb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(c)).\u0275fac=function(t){return new(t||h)(r.Pb(u))},h.\u0275prov=Object(r.Eb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Pb)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function y(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}var b,_=((b=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||b)},b.\u0275prov=Object(r.Eb)({factory:w,token:b,providedIn:"root"}),b);function w(t){var e=Object(r.Pb)(u).location;return new E(Object(r.Pb)(c),e&&e.origin||"")}var C,k,S,T=new r.q("appBaseHref"),E=((S=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return g(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(t){return new(t||S)(r.Pb(c),r.Pb(T,8))},S.\u0275prov=r.Eb({token:S,factory:S.\u0275fac}),S),O=((k=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=g(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(t){return new(t||k)(r.Pb(c),r.Pb(T,8))},k.\u0275prov=r.Eb({token:k,factory:k.\u0275fac}),k),x=((C=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=y(P(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+m(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,P(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||C)(r.Pb(_),r.Pb(c))},C.normalizeQueryParams=m,C.joinWithSlash=g,C.stripTrailingSlash=y,C.\u0275prov=Object(r.Eb)({factory:I,token:C,providedIn:"root"}),C);function I(){return new x(Object(r.Pb)(_),Object(r.Pb)(c))}function P(t){return t.replace(/\/index.html$/,"")}var A,M,N,R=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),D=r.lb,j=function t(){_classCallCheck(this,t)},L=((A=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(D(e||this.locale)(t)){case R.Zero:return"zero";case R.One:return"one";case R.Two:return"two";case R.Few:return"few";case R.Many:return"many";default:return"other"}}}]),n}(j)).\u0275fac=function(t){return new(t||A)(r.Pb(r.u))},A.\u0275prov=r.Eb({token:A,factory:A.\u0275fac}),A),F=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),U=((M=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){Object(r.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new F(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new V(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new V(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||M)(r.Ib(r.O),r.Ib(r.K),r.Ib(r.s))},M.\u0275dir=r.Db({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),M),V=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},q=((N=function t(){_classCallCheck(this,t)}).\u0275mod=r.Gb({type:N}),N.\u0275inj=r.Fb({factory:function(t){return new(t||N)},providers:[{provide:j,useClass:L}]}),N);function z(t){return"browser"===t}function B(t){return"server"===t}var H,G,W,K,Q,Y=((H=function t(){_classCallCheck(this,t)}).\u0275prov=Object(r.Eb)({token:H,providedIn:"root",factory:function(){return new X(Object(r.Pb)(u),window,Object(r.Pb)(r.m))}}),H),X=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(L_){this.errorHandler.handleError(L_)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}(),J=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=$||($=document.querySelector("base"))?$.getAttribute("href"):null;return null==n?null:(e=n,G||(G=document.createElement("a")),G.setAttribute("href",e),"/"===G.pathname.charAt(0)?G.pathname:"/"+G.pathname)}},{key:"resetBaseElement",value:function(){$=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,o||(o=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),$=null,Z=new r.q("TRANSITION_ID"),tt=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[Z,u,r.r],multi:!0}],et=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.nb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.nb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push((function(t){var e=r.nb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.V)(new t)}}]),t}(),nt=new r.q("EventManagerPlugins"),rt=((W=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||W)(r.Pb(nt),r.Pb(r.z))},W.\u0275prov=r.Eb({token:W,factory:W.\u0275fac}),W),it=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),ot=((Q=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Q)},Q.\u0275prov=r.Eb({token:Q,factory:Q.\u0275fac}),Q),at=((K=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return a().remove(t)}))}}]),n}(ot)).\u0275fac=function(t){return new(t||K)(r.Pb(u))},K.\u0275prov=r.Eb({token:K,factory:K.\u0275fac}),K),st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ut=/%COMP%/g;function ct(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?ct(t,i,n):(i=i.replace(ut,t),n.push(i))}return n}function lt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var ht,ft,dt,pt,vt=((ht=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new gt(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new yt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.P.Native:case r.P.ShadowDom:return new mt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=ct(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ht)(r.Pb(rt),r.Pb(at),r.Pb(r.c))},ht.\u0275prov=r.Eb({token:ht,factory:ht.\u0275fac}),ht),gt=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(st[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=st[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=st[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,lt(n)):this.eventManager.addEventListener(t,e,lt(n))}}]),t}(),yt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s,u=ct(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(ut,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(ut,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf2(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf2(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf2(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(gt),mt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.P.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=ct(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf2(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf2(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf2(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf2(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(gt),bt=((ft=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(it)).\u0275fac=function(t){return new(t||ft)(r.Pb(u))},ft.\u0275prov=r.Eb({token:ft,factory:ft.\u0275fac}),ft),_t=["alt","control","meta","shift"],wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},St=((dt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(_t.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ct.hasOwnProperty(e)&&(e=Ct[e]))}return wt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),_t.forEach((function(r){r!=n&&(0,kt[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(it)).\u0275fac=function(t){return new(t||dt)(r.Pb(u))},dt.\u0275prov=r.Eb({token:dt,factory:dt.\u0275fac}),dt),Tt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){J.makeCurrent(),et.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.tb)(document),document},deps:[]}],Et=Object(r.R)(r.U,"browser",Tt),Ot=[[],{provide:r.X,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:nt,useClass:bt,multi:!0,deps:[u,r.z,r.B]},{provide:nt,useClass:St,multi:!0,deps:[u]},[],{provide:vt,useClass:vt,deps:[rt,at,r.c]},{provide:r.E,useExisting:vt},{provide:ot,useExisting:at},{provide:at,useClass:at,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:rt,useClass:rt,deps:[nt,r.z]},[]],xt=((pt=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Z,useExisting:r.c},tt]}}}]),t}()).\u0275mod=r.Gb({type:pt}),pt.\u0275inj=r.Fb({factory:function(t){return new(t||pt)(r.Pb(pt,12))},providers:Ot,imports:[q,r.f]}),pt);function It(){return new At(Object(r.Pb)(u))}var Pt,At=((Pt=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(t){this._doc.title=t||""}}]),t}()).\u0275fac=function(t){return new(t||Pt)(r.Pb(u))},Pt.\u0275prov=Object(r.Eb)({factory:It,token:Pt,providedIn:"root"}),Pt);function Mt(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function Nt(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(e).forEach((function(n){void 0===t[n]?t[n]=e[n]:Mt(e[n])&&Mt(t[n])&&Object.keys(e[n]).length>0&&Nt(t[n],e[n])}))}"undefined"!=typeof window&&window;var Rt={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Dt(){var t="undefined"!=typeof document?document:{};return Nt(t,Rt),t}var jt={document:Rt,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function Lt(){var t="undefined"!=typeof window?window:{};return Nt(t,jt),t}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(L_){return!1}}function qt(t,e,n){return(qt=Vt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Ut(i,n.prototype),i}).apply(null,arguments)}function zt(t){var e="function"==typeof Map?new Map:void 0;return(zt=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return qt(t,arguments,Ft(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ut(n,t)})(t)}var Bt=function(t){var e,n;function r(e){var n,r,i;return r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call.apply(t,[this].concat(e))||this),i=r.__proto__,Object.defineProperty(r,"__proto__",{get:function(){return i},set:function(t){i.__proto__=t}}),n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(zt(Array));function Ht(t){void 0===t&&(t=[]);var e=[];return t.forEach((function(t){Array.isArray(t)?e.push.apply(e,Ht(t)):e.push(t)})),e}function Gt(t,e){return Array.prototype.filter.call(t,e)}function Wt(t,e){var n=Lt(),r=Dt(),i=[];if(!e&&t instanceof Bt)return t;if(!t)return new Bt(i);if("string"==typeof t){var o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var a="div";0===o.indexOf("<li")&&(a="ul"),0===o.indexOf("<tr")&&(a="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(a="tr"),0===o.indexOf("<tbody")&&(a="table"),0===o.indexOf("<option")&&(a="select");var s=r.createElement(a);s.innerHTML=o;for(var u=0;u<s.childNodes.length;u+=1)i.push(s.childNodes[u])}else i=function(t,e){if("string"!=typeof t)return[t];for(var n=[],r=e.querySelectorAll(t),i=0;i<r.length;i+=1)n.push(r[i]);return n}(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof Bt)return t;i=t}return new Bt(function(t){for(var e=[],n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(i))}Wt.fn=Bt.prototype;var Kt="resize scroll".split(" ");function Qt(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(void 0===n[0]){for(var i=0;i<this.length;i+=1)Kt.indexOf(t)<0&&(t in this[i]?this[i][t]():Wt(this[i]).trigger(t));return this}return this.on.apply(this,[t].concat(n))}}Qt("click"),Qt("blur"),Qt("focus"),Qt("focusin"),Qt("focusout"),Qt("keyup"),Qt("keydown"),Qt("keypress"),Qt("submit"),Qt("change"),Qt("mousedown"),Qt("mousemove"),Qt("mouseup"),Qt("mouseenter"),Qt("mouseleave"),Qt("mouseout"),Qt("mouseover"),Qt("touchstart"),Qt("touchend"),Qt("touchmove"),Qt("resize"),Qt("scroll");var Yt={addClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Ht(e.map((function(t){return t.split(" ")})));return this.forEach((function(t){var e;(e=t.classList).add.apply(e,r)})),this},removeClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Ht(e.map((function(t){return t.split(" ")})));return this.forEach((function(t){var e;(e=t.classList).remove.apply(e,r)})),this},hasClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Ht(e.map((function(t){return t.split(" ")})));return Gt(this,(function(t){return r.filter((function(e){return t.classList.contains(e)})).length>0})).length>0},toggleClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Ht(e.map((function(t){return t.split(" ")})));this.forEach((function(t){r.forEach((function(e){t.classList.toggle(e)}))}))},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this},removeAttr:function(t){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},transform:function(t){for(var e=0;e<this.length;e+=1)this[e].style.transform=t;return this},transition:function(t){for(var e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof t?t+"ms":t;return this},on:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3];function s(t){var e=t.target;if(e){var n=t.target.dom7EventData||[];if(n.indexOf(t)<0&&n.unshift(t),Wt(e).is(i))o.apply(e,n);else for(var r=Wt(e).parents(),a=0;a<r.length;a+=1)Wt(r[a]).is(i)&&o.apply(r[a],n)}}function u(t){var e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),o.apply(this,e)}"function"==typeof e[1]&&(r=e[0],o=e[1],a=e[2],i=void 0),a||(a=!1);for(var c,l=r.split(" "),h=0;h<this.length;h+=1){var f=this[h];if(i)for(c=0;c<l.length;c+=1){var d=l[c];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[d]||(f.dom7LiveListeners[d]=[]),f.dom7LiveListeners[d].push({listener:o,proxyListener:s}),f.addEventListener(d,s,a)}else for(c=0;c<l.length;c+=1){var p=l[c];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[p]||(f.dom7Listeners[p]=[]),f.dom7Listeners[p].push({listener:o,proxyListener:u}),f.addEventListener(p,u,a)}}return this},off:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3];"function"==typeof e[1]&&(r=e[0],o=e[1],a=e[2],i=void 0),a||(a=!1);for(var s=r.split(" "),u=0;u<s.length;u+=1)for(var c=s[u],l=0;l<this.length;l+=1){var h=this[l],f=void 0;if(!i&&h.dom7Listeners?f=h.dom7Listeners[c]:i&&h.dom7LiveListeners&&(f=h.dom7LiveListeners[c]),f&&f.length)for(var d=f.length-1;d>=0;d-=1){var p=f[d];o&&p.listener===o||o&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===o?(h.removeEventListener(c,p.proxyListener,a),f.splice(d,1)):o||(h.removeEventListener(c,p.proxyListener,a),f.splice(d,1))}}return this},trigger:function(){for(var t=Lt(),e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=n[0].split(" "),o=n[1],a=0;a<i.length;a+=1)for(var s=i[a],u=0;u<this.length;u+=1){var c=this[u];if(t.CustomEvent){var l=new t.CustomEvent(s,{detail:o,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(t,e){return e>0})),c.dispatchEvent(l),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(t){var e=this;return t&&e.on("transitionend",(function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))})),this},outerWidth:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var t=Lt();return this[0]?t.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var t=Lt(),e=Dt(),n=this[0],r=n.getBoundingClientRect(),i=e.body;return{top:r.top+(n===t?t.scrollY:n.scrollTop)-(n.clientTop||i.clientTop||0),left:r.left+(n===t?t.scrollX:n.scrollLeft)-(n.clientLeft||i.clientLeft||0)}}return null},css:function(t,e){var n,r=Lt();if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n+=1)for(var i in t)this[n].style[i]=t[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n+=1)this[n].style[t]=e;return this}return this},each:function(t){return t?(this.forEach((function(e,n){t.apply(e,[e,n])})),this):this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:null;for(var e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){var e,n,r=Lt(),i=Dt(),o=this[0];if(!o||void 0===t)return!1;if("string"==typeof t){if(o.matches)return o.matches(t);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(o.msMatchesSelector)return o.msMatchesSelector(t);for(e=Wt(t),n=0;n<e.length;n+=1)if(e[n]===o)return!0;return!1}if(t===i)return o===i;if(t===r)return o===r;if(t.nodeType||t instanceof Bt){for(e=t.nodeType?[t]:t,n=0;n<e.length;n+=1)if(e[n]===o)return!0;return!1}return!1},index:function(){var t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;var e=this.length;if(t>e-1)return Wt([]);if(t<0){var n=e+t;return Wt(n<0?[]:[this[n]])}return Wt([this[t]])},append:function(){for(var t,e=Dt(),n=0;n<arguments.length;n+=1){t=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"==typeof t){var i=e.createElement("div");for(i.innerHTML=t;i.firstChild;)this[r].appendChild(i.firstChild)}else if(t instanceof Bt)for(var o=0;o<t.length;o+=1)this[r].appendChild(t[o]);else this[r].appendChild(t)}return this},prepend:function(t){var e,n,r=Dt();for(e=0;e<this.length;e+=1)if("string"==typeof t){var i=r.createElement("div");for(i.innerHTML=t,n=i.childNodes.length-1;n>=0;n-=1)this[e].insertBefore(i.childNodes[n],this[e].childNodes[0])}else if(t instanceof Bt)for(n=0;n<t.length;n+=1)this[e].insertBefore(t[n],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&Wt(this[0].nextElementSibling).is(t)?Wt([this[0].nextElementSibling]):Wt([]):Wt(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):Wt([])},nextAll:function(t){var e=[],n=this[0];if(!n)return Wt([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;t?Wt(r).is(t)&&e.push(r):e.push(r),n=r}return Wt(e)},prev:function(t){if(this.length>0){var e=this[0];return t?e.previousElementSibling&&Wt(e.previousElementSibling).is(t)?Wt([e.previousElementSibling]):Wt([]):Wt(e.previousElementSibling?[e.previousElementSibling]:[])}return Wt([])},prevAll:function(t){var e=[],n=this[0];if(!n)return Wt([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;t?Wt(r).is(t)&&e.push(r):e.push(r),n=r}return Wt(e)},parent:function(t){for(var e=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?Wt(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return Wt(e)},parents:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)t?Wt(r).is(t)&&e.push(r):e.push(r),r=r.parentNode;return Wt(e)},closest:function(t){var e=this;return void 0===t?Wt([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(t),i=0;i<r.length;i+=1)e.push(r[i]);return Wt(e)},children:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)t&&!Wt(r[i]).is(t)||e.push(r[i]);return Wt(e)},filter:function(t){return Wt(Gt(this,t))},remove:function(){for(var t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}};Object.keys(Yt).forEach((function(t){Object.defineProperty(Wt.fn,t,{value:Yt[t],writable:!0})}));var Xt,Jt,$t,Zt=Wt;function te(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function ee(){return Date.now()}function ne(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function re(){for(var t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(null!=r)for(var i=Object.keys(Object(r)).filter((function(t){return e.indexOf(t)<0})),o=0,a=i.length;o<a;o+=1){var s=i[o],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(ne(t[s])&&ne(r[s])?r[s].__swiper__?t[s]=r[s]:re(t[s],r[s]):!ne(t[s])&&ne(r[s])?(t[s]={},r[s].__swiper__?t[s]=r[s]:re(t[s],r[s])):t[s]=r[s])}}return t}function ie(t,e){Object.keys(e).forEach((function(n){ne(e[n])&&Object.keys(e[n]).forEach((function(r){"function"==typeof e[n][r]&&(e[n][r]=e[n][r].bind(t))})),t[n]=e[n]}))}function oe(){return Xt||(Xt=function(){var t=Lt(),e=Dt();return{touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),pointerEvents:!!t.PointerEvent&&"maxTouchPoints"in t.navigator&&t.navigator.maxTouchPoints>=0,observer:"MutationObserver"in t||"WebkitMutationObserver"in t,passiveListener:function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});t.addEventListener("testPassiveListener",null,n)}catch(L_){}return e}(),gestures:"ongesturestart"in t}}()),Xt}function ae(t){return void 0===t&&(t={}),Jt||(Jt=function(t){var e=(void 0===t?{}:t).userAgent,n=oe(),r=Lt(),i=r.navigator.platform,o=e||r.navigator.userAgent,a={ios:!1,android:!1},s=r.screen.width,u=r.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/),l=o.match(/(iPad).*OS\s([\d_]+)/),h=o.match(/(iPod)(.*OS\s([\d_]+))?/),f=!l&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===i,p="MacIntel"===i;return!l&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(s+"x"+u)>=0&&((l=o.match(/(Version)\/([\d.]+)/))||(l=[0,1,"13_0_0"]),p=!1),c&&!d&&(a.os="android",a.android=!0),(l||f||h)&&(a.os="ios",a.ios=!0),a}(t)),Jt}function se(){return $t||($t=function(){var t,e=Lt();return{isEdge:!!e.navigator.userAgent.match(/Edge/g),isSafari:(t=e.navigator.userAgent.toLowerCase(),t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),$t}var ue={name:"resize",create:function(){var t=this;re(t,{resize:{observer:null,createObserver:function(){t&&!t.destroyed&&t.initialized&&(t.resize.observer=new ResizeObserver((function(e){var n=t.width,r=t.height,i=n,o=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,a=e.target;a&&a!==t.el||(i=r?r.width:(n[0]||n).inlineSize,o=r?r.height:(n[0]||n).blockSize)})),i===n&&o===r||t.resize.resizeHandler()})),t.resize.observer.observe(t.el))},removeObserver:function(){t.resize.observer&&t.resize.observer.unobserve&&t.el&&(t.resize.observer.unobserve(t.el),t.resize.observer=null)},resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(t){var e=Lt();t.params.resizeObserver&&void 0!==Lt().ResizeObserver?t.resize.createObserver():(e.addEventListener("resize",t.resize.resizeHandler),e.addEventListener("orientationchange",t.resize.orientationChangeHandler))},destroy:function(t){var e=Lt();t.resize.removeObserver(),e.removeEventListener("resize",t.resize.resizeHandler),e.removeEventListener("orientationchange",t.resize.orientationChangeHandler)}}};function ce(){return(ce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var le={attach:function(t,e){void 0===e&&(e={});var n=Lt(),r=this,i=new(n.MutationObserver||n.WebkitMutationObserver)((function(t){if(1!==t.length){var e=function(){r.emit("observerUpdate",t[0])};n.requestAnimationFrame?n.requestAnimationFrame(e):n.setTimeout(e,0)}else r.emit("observerUpdate",t[0])}));i.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),r.observer.observers.push(i)},init:function(){if(this.support.observer&&this.params.observer){if(this.params.observeParents)for(var t=this.$el.parents(),e=0;e<t.length;e+=1)this.observer.attach(t[e]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(t){t.disconnect()})),this.observer.observers=[]}},he={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){ie(this,{observer:ce({},le,{observers:[]})})},on:{init:function(t){t.observer.init()},destroy:function(t){t.observer.destroy()}}};function fe(t){var e=Dt(),n=Lt(),r=this.touchEventsData,i=this.params,o=this.touches;if(!this.animating||!i.preventInteractionOnTransition){var a=t;a.originalEvent&&(a=a.originalEvent);var s=Zt(a.target);if(("wrapper"!==i.touchEventsTarget||s.closest(this.wrapperEl).length)&&(r.isTouchEvent="touchstart"===a.type,(r.isTouchEvent||!("which"in a)||3!==a.which)&&!(!r.isTouchEvent&&"button"in a&&a.button>0||r.isTouched&&r.isMoved)))if(!!i.noSwipingClass&&""!==i.noSwipingClass&&a.target&&a.target.shadowRoot&&t.path&&t.path[0]&&(s=Zt(t.path[0])),i.noSwiping&&s.closest(i.noSwipingSelector?i.noSwipingSelector:"."+i.noSwipingClass)[0])this.allowClick=!0;else if(!i.swipeHandler||s.closest(i.swipeHandler)[0]){o.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,o.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;var u=o.currentX,c=o.currentY,l=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,h=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(l&&(u<=h||u>=n.innerWidth-h)){if("prevent"!==l)return;t.preventDefault()}if(re(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=u,o.startY=c,r.touchStartTime=ee(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,i.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==a.type){var f=!0;s.is(r.formElements)&&(f=!1),e.activeElement&&Zt(e.activeElement).is(r.formElements)&&e.activeElement!==s[0]&&e.activeElement.blur(),!i.touchStartForcePreventDefault&&!(f&&this.allowTouchMove&&i.touchStartPreventDefault)||s[0].isContentEditable||a.preventDefault()}this.emit("touchStart",a)}}}function de(t){var e=Dt(),n=this.touchEventsData,r=this.params,i=this.touches,o=this.rtlTranslate,a=t;if(a.originalEvent&&(a=a.originalEvent),n.isTouched){if(!n.isTouchEvent||"touchmove"===a.type){var s="touchmove"===a.type&&a.targetTouches&&(a.targetTouches[0]||a.changedTouches[0]),u="touchmove"===a.type?s.pageX:a.pageX,c="touchmove"===a.type?s.pageY:a.pageY;if(a.preventedByNestedSwiper)return i.startX=u,void(i.startY=c);if(!this.allowTouchMove)return this.allowClick=!1,void(n.isTouched&&(re(i,{startX:u,startY:c,currentX:u,currentY:c}),n.touchStartTime=ee()));if(n.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(this.isVertical()){if(c<i.startY&&this.translate<=this.maxTranslate()||c>i.startY&&this.translate>=this.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(u<i.startX&&this.translate<=this.maxTranslate()||u>i.startX&&this.translate>=this.minTranslate())return;if(n.isTouchEvent&&e.activeElement&&a.target===e.activeElement&&Zt(a.target).is(n.formElements))return n.isMoved=!0,void(this.allowClick=!1);if(n.allowTouchCallbacks&&this.emit("touchMove",a),!(a.targetTouches&&a.targetTouches.length>1)){i.currentX=u,i.currentY=c;var l,h=i.currentX-i.startX,f=i.currentY-i.startY;if(!(this.params.threshold&&Math.sqrt(Math.pow(h,2)+Math.pow(f,2))<this.params.threshold))if(void 0===n.isScrolling&&(this.isHorizontal()&&i.currentY===i.startY||this.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:h*h+f*f>=25&&(l=180*Math.atan2(Math.abs(f),Math.abs(h))/Math.PI,n.isScrolling=this.isHorizontal()?l>r.touchAngle:90-l>r.touchAngle)),n.isScrolling&&this.emit("touchMoveOpposite",a),void 0===n.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(n.startMoving=!0)),n.isScrolling)n.isTouched=!1;else if(n.startMoving){this.allowClick=!1,!r.cssMode&&a.cancelable&&a.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&a.stopPropagation(),n.isMoved||(r.loop&&this.loopFix(),n.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!r.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",a)),this.emit("sliderMove",a),n.isMoved=!0;var d=this.isHorizontal()?h:f;i.diff=d,d*=r.touchRatio,o&&(d=-d),this.swipeDirection=d>0?"prev":"next",n.currentTranslate=d+n.startTranslate;var p=!0,v=r.resistanceRatio;if(r.touchReleaseOnEdges&&(v=0),d>0&&n.currentTranslate>this.minTranslate()?(p=!1,r.resistance&&(n.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+n.startTranslate+d,v))):d<0&&n.currentTranslate<this.maxTranslate()&&(p=!1,r.resistance&&(n.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-n.startTranslate-d,v))),p&&(a.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),this.allowSlidePrev||this.allowSlideNext||(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(d)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,void(i.diff=this.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}r.followFinger&&!r.cssMode&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),r.freeMode&&(0===n.velocities.length&&n.velocities.push({position:i[this.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:i[this.isHorizontal()?"currentX":"currentY"],time:ee()})),this.updateProgress(n.currentTranslate),this.setTranslate(n.currentTranslate))}}}}else n.startMoving&&n.isScrolling&&this.emit("touchMoveOpposite",a)}function pe(t){var e=this,n=e.touchEventsData,r=e.params,i=e.touches,o=e.rtlTranslate,a=e.$wrapperEl,s=e.slidesGrid,u=e.snapGrid,c=t;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var l,h=ee(),f=h-n.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(c),e.emit("tap click",c),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",c)),n.lastClickTime=ee(),te((function(){e.destroyed||(e.allowClick=!0)})),!n.isTouched||!n.isMoved||!e.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,l=r.followFinger?o?e.translate:-e.translate:-n.currentTranslate,!r.cssMode)if(r.freeMode){if(l<-e.minTranslate())return void e.slideTo(e.activeIndex);if(l>-e.maxTranslate())return void e.slideTo(e.slides.length<u.length?u.length-1:e.slides.length-1);if(r.freeModeMomentum){if(n.velocities.length>1){var d=n.velocities.pop(),p=n.velocities.pop(),v=d.time-p.time;e.velocity=(d.position-p.position)/v,e.velocity/=2,Math.abs(e.velocity)<r.freeModeMinimumVelocity&&(e.velocity=0),(v>150||ee()-d.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var g=1e3*r.freeModeMomentumRatio,y=e.translate+e.velocity*g;o&&(y=-y);var m,b,_=!1,w=20*Math.abs(e.velocity)*r.freeModeMomentumBounceRatio;if(y<e.maxTranslate())r.freeModeMomentumBounce?(y+e.maxTranslate()<-w&&(y=e.maxTranslate()-w),m=e.maxTranslate(),_=!0,n.allowMomentumBounce=!0):y=e.maxTranslate(),r.loop&&r.centeredSlides&&(b=!0);else if(y>e.minTranslate())r.freeModeMomentumBounce?(y-e.minTranslate()>w&&(y=e.minTranslate()+w),m=e.minTranslate(),_=!0,n.allowMomentumBounce=!0):y=e.minTranslate(),r.loop&&r.centeredSlides&&(b=!0);else if(r.freeModeSticky){for(var C,k=0;k<u.length;k+=1)if(u[k]>-y){C=k;break}y=-(y=Math.abs(u[C]-y)<Math.abs(u[C-1]-y)||"next"===e.swipeDirection?u[C]:u[C-1])}if(b&&e.once("transitionEnd",(function(){e.loopFix()})),0!==e.velocity){if(g=o?Math.abs((-y-e.translate)/e.velocity):Math.abs((y-e.translate)/e.velocity),r.freeModeSticky){var S=Math.abs((o?-y:y)-e.translate),T=e.slidesSizesGrid[e.activeIndex];g=S<T?r.speed:S<2*T?1.5*r.speed:2.5*r.speed}}else if(r.freeModeSticky)return void e.slideToClosest();r.freeModeMomentumBounce&&_?(e.updateProgress(m),e.setTransition(g),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating=!0,a.transitionEnd((function(){e&&!e.destroyed&&n.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(r.speed),setTimeout((function(){e.setTranslate(m),a.transitionEnd((function(){e&&!e.destroyed&&e.transitionEnd()}))}),0))}))):e.velocity?(e.updateProgress(y),e.setTransition(g),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,a.transitionEnd((function(){e&&!e.destroyed&&e.transitionEnd()})))):(e.emit("_freeModeNoMomentumRelease"),e.updateProgress(y)),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(r.freeModeSticky)return void e.slideToClosest();r.freeMode&&e.emit("_freeModeNoMomentumRelease")}(!r.freeModeMomentum||f>=r.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}else{for(var E=0,O=e.slidesSizesGrid[0],x=0;x<s.length;x+=x<r.slidesPerGroupSkip?1:r.slidesPerGroup){var I=x<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==s[x+I]?l>=s[x]&&l<s[x+I]&&(E=x,O=s[x+I]-s[x]):l>=s[x]&&(E=x,O=s[s.length-1]-s[s.length-2])}var P=(l-s[E])/O,A=E<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(f>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(P>=r.longSwipesRatio?E+A:E),"prev"===e.swipeDirection&&e.slideTo(P>1-r.longSwipesRatio?E+A:E)}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||c.target!==e.navigation.nextEl&&c.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(E+A),"prev"===e.swipeDirection&&e.slideTo(E)):e.slideTo(c.target===e.navigation.nextEl?E+A:E)}}}function ve(){var t=this.params,e=this.el;if(!e||0!==e.offsetWidth){t.breakpoints&&this.setBreakpoint();var n=this.allowSlideNext,r=this.allowSlidePrev,i=this.snapGrid;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),this.slideTo(("auto"===t.slidesPerView||t.slidesPerView>1)&&this.isEnd&&!this.isBeginning&&!this.params.centeredSlides?this.slides.length-1:this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=r,this.allowSlideNext=n,this.params.watchOverflow&&i!==this.snapGrid&&this.checkOverflow()}}function ge(t){this.allowClick||(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function ye(){var t=this.wrapperEl,e=this.rtlTranslate;this.previousTranslate=this.translate,this.translate=this.isHorizontal()?e?t.scrollWidth-t.offsetWidth-t.scrollLeft:-t.scrollLeft:-t.scrollTop,-0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();var n=this.maxTranslate()-this.minTranslate();(0===n?0:(this.translate-this.minTranslate())/n)!==this.progress&&this.updateProgress(e?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}var me=!1;function be(){}var _e={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};var we={modular:{useParams:function(t){var e=this;e.modules&&Object.keys(e.modules).forEach((function(n){var r=e.modules[n];r.params&&re(t,r.params)}))},useModules:function(t){void 0===t&&(t={});var e=this;e.modules&&Object.keys(e.modules).forEach((function(n){var r=e.modules[n],i=t[n]||{};r.on&&e.on&&Object.keys(r.on).forEach((function(t){e.on(t,r.on[t])})),r.create&&r.create.bind(e)(i)}))}},eventsEmitter:{on:function(t,e,n){var r=this;if("function"!=typeof e)return r;var i=n?"unshift":"push";return t.split(" ").forEach((function(t){r.eventsListeners[t]||(r.eventsListeners[t]=[]),r.eventsListeners[t][i](e)})),r},once:function(t,e,n){var r=this;if("function"!=typeof e)return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny:function(t,e){if("function"!=typeof t)return this;var n=e?"unshift":"push";return this.eventsAnyListeners.indexOf(t)<0&&this.eventsAnyListeners[n](t),this},offAny:function(t){if(!this.eventsAnyListeners)return this;var e=this.eventsAnyListeners.indexOf(t);return e>=0&&this.eventsAnyListeners.splice(e,1),this},off:function(t,e){var n=this;return n.eventsListeners?(t.split(" ").forEach((function(t){void 0===e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].forEach((function(r,i){(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[t].splice(i,1)}))})),n):n},emit:function(){var t,e,n,r=this;if(!r.eventsListeners)return r;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];"string"==typeof o[0]||Array.isArray(o[0])?(t=o[0],e=o.slice(1,o.length),n=r):(t=o[0].events,e=o[0].data,n=o[0].context||r),e.unshift(n);var s=Array.isArray(t)?t:t.split(" ");return s.forEach((function(t){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[t].concat(e))})),r.eventsListeners&&r.eventsListeners[t]&&r.eventsListeners[t].forEach((function(t){t.apply(n,e)}))})),r}},update:{updateSize:function(){var t,e,n=this.$el;e=null!=this.params.height?this.params.height:n[0].clientHeight,0===(t=null!=this.params.width?this.params.width:n[0].clientWidth)&&this.isHorizontal()||0===e&&this.isVertical()||(t=t-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),e=e-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),re(this,{width:t,height:e,size:this.isHorizontal()?t:e}))},updateSlides:function(){var t=this,e=function(e){return t.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]},n=function(t,n){return parseFloat(t.getPropertyValue(e(n))||0)},r=t.params,i=t.$wrapperEl,o=t.size,a=t.rtlTranslate,s=t.wrongRTL,u=t.virtual&&r.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,l=i.children("."+t.params.slideClass),h=u?t.virtual.slides.length:l.length,f=[],d=[],p=[],v=r.slidesOffsetBefore;"function"==typeof v&&(v=r.slidesOffsetBefore.call(t));var g=r.slidesOffsetAfter;"function"==typeof g&&(g=r.slidesOffsetAfter.call(t));var y=t.snapGrid.length,m=t.slidesGrid.length,b=r.spaceBetween,_=-v,w=0,C=0;if(void 0!==o){var k,S;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*o),t.virtualSize=-b,l.css(a?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""}),r.slidesPerColumn>1&&(k=Math.floor(h/r.slidesPerColumn)===h/t.params.slidesPerColumn?h:Math.ceil(h/r.slidesPerColumn)*r.slidesPerColumn,"auto"!==r.slidesPerView&&"row"===r.slidesPerColumnFill&&(k=Math.max(k,r.slidesPerView*r.slidesPerColumn)));for(var T,E,O,x=r.slidesPerColumn,I=k/x,P=Math.floor(h/r.slidesPerColumn),A=0;A<h;A+=1){S=0;var M=l.eq(A);if(r.slidesPerColumn>1){var N=void 0,R=void 0,D=void 0;if("row"===r.slidesPerColumnFill&&r.slidesPerGroup>1){var j=Math.floor(A/(r.slidesPerGroup*r.slidesPerColumn)),L=A-r.slidesPerColumn*r.slidesPerGroup*j,F=0===j?r.slidesPerGroup:Math.min(Math.ceil((h-j*x*r.slidesPerGroup)/x),r.slidesPerGroup);D=Math.floor(L/F),M.css({"-webkit-box-ordinal-group":N=(R=L-D*F+j*r.slidesPerGroup)+D*k/x,"-moz-box-ordinal-group":N,"-ms-flex-order":N,"-webkit-order":N,order:N})}else"column"===r.slidesPerColumnFill?(D=A-(R=Math.floor(A/x))*x,(R>P||R===P&&D===x-1)&&(D+=1)>=x&&(D=0,R+=1)):R=A-(D=Math.floor(A/I))*I;M.css(e("margin-top"),0!==D&&r.spaceBetween&&r.spaceBetween+"px")}if("none"!==M.css("display")){if("auto"===r.slidesPerView){var U=getComputedStyle(M[0]),V=M[0].style.transform,q=M[0].style.webkitTransform;if(V&&(M[0].style.transform="none"),q&&(M[0].style.webkitTransform="none"),r.roundLengths)S=t.isHorizontal()?M.outerWidth(!0):M.outerHeight(!0);else{var z=n(U,"width"),B=n(U,"padding-left"),H=n(U,"padding-right"),G=n(U,"margin-left"),W=n(U,"margin-right"),K=U.getPropertyValue("box-sizing");if(K&&"border-box"===K)S=z+G+W;else{var Q=M[0];S=z+B+H+G+W+(Q.offsetWidth-Q.clientWidth)}}V&&(M[0].style.transform=V),q&&(M[0].style.webkitTransform=q),r.roundLengths&&(S=Math.floor(S))}else S=(o-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),l[A]&&(l[A].style[e("width")]=S+"px");l[A]&&(l[A].swiperSlideSize=S),p.push(S),r.centeredSlides?(_=_+S/2+w/2+b,0===w&&0!==A&&(_=_-o/2-b),0===A&&(_=_-o/2-b),Math.abs(_)<.001&&(_=0),r.roundLengths&&(_=Math.floor(_)),C%r.slidesPerGroup==0&&f.push(_),d.push(_)):(r.roundLengths&&(_=Math.floor(_)),(C-Math.min(t.params.slidesPerGroupSkip,C))%t.params.slidesPerGroup==0&&f.push(_),d.push(_),_=_+S+b),t.virtualSize+=S+b,w=S,C+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+g,a&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:t.virtualSize+r.spaceBetween+"px"}),r.setWrapperSize&&i.css(((E={})[e("width")]=t.virtualSize+r.spaceBetween+"px",E)),r.slidesPerColumn>1&&(t.virtualSize=(S+r.spaceBetween)*k,t.virtualSize=Math.ceil(t.virtualSize/r.slidesPerColumn)-r.spaceBetween,i.css(((O={})[e("width")]=t.virtualSize+r.spaceBetween+"px",O)),r.centeredSlides)){T=[];for(var Y=0;Y<f.length;Y+=1){var X=f[Y];r.roundLengths&&(X=Math.floor(X)),f[Y]<t.virtualSize+f[0]&&T.push(X)}f=T}if(!r.centeredSlides){T=[];for(var J=0;J<f.length;J+=1){var $=f[J];r.roundLengths&&($=Math.floor($)),f[J]<=t.virtualSize-o&&T.push($)}f=T,Math.floor(t.virtualSize-o)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-o)}if(0===f.length&&(f=[0]),0!==r.spaceBetween){var Z,tt=t.isHorizontal()&&a?"marginLeft":e("marginRight");l.filter((function(t,e){return!r.cssMode||e!==l.length-1})).css(((Z={})[tt]=b+"px",Z))}if(r.centeredSlides&&r.centeredSlidesBounds){var et=0;p.forEach((function(t){et+=t+(r.spaceBetween?r.spaceBetween:0)}));var nt=(et-=r.spaceBetween)-o;f=f.map((function(t){return t<0?-v:t>nt?nt+g:t}))}if(r.centerInsufficientSlides){var rt=0;if(p.forEach((function(t){rt+=t+(r.spaceBetween?r.spaceBetween:0)})),(rt-=r.spaceBetween)<o){var it=(o-rt)/2;f.forEach((function(t,e){f[e]=t-it})),d.forEach((function(t,e){d[e]=t+it}))}}re(t,{slides:l,snapGrid:f,slidesGrid:d,slidesSizesGrid:p}),h!==c&&t.emit("slidesLengthChange"),f.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),d.length!==m&&t.emit("slidesGridLengthChange"),(r.watchSlidesProgress||r.watchSlidesVisibility)&&t.updateSlidesOffset()}},updateAutoHeight:function(t){var e,n=[],r=0;if("number"==typeof t?this.setTransition(t):!0===t&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)if(this.params.centeredSlides)this.visibleSlides.each((function(t){n.push(t)}));else for(e=0;e<Math.ceil(this.params.slidesPerView);e+=1){var i=this.activeIndex+e;if(i>this.slides.length)break;n.push(this.slides.eq(i)[0])}else n.push(this.slides.eq(this.activeIndex)[0]);for(e=0;e<n.length;e+=1)if(void 0!==n[e]){var o=n[e].offsetHeight;r=o>r?o:r}r&&this.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function(){for(var t=this.slides,e=0;e<t.length;e+=1)t[e].swiperSlideOffset=this.isHorizontal()?t[e].offsetLeft:t[e].offsetTop},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);var e=this.params,n=this.slides,r=this.rtlTranslate;if(0!==n.length){void 0===n[0].swiperSlideOffset&&this.updateSlidesOffset();var i=-t;r&&(i=t),n.removeClass(e.slideVisibleClass),this.visibleSlidesIndexes=[],this.visibleSlides=[];for(var o=0;o<n.length;o+=1){var a=n[o],s=(i+(e.centeredSlides?this.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+e.spaceBetween);if(e.watchSlidesVisibility||e.centeredSlides&&e.autoHeight){var u=-(i-a.swiperSlideOffset),c=u+this.slidesSizesGrid[o];(u>=0&&u<this.size-1||c>1&&c<=this.size||u<=0&&c>=this.size)&&(this.visibleSlides.push(a),this.visibleSlidesIndexes.push(o),n.eq(o).addClass(e.slideVisibleClass))}a.progress=r?-s:s}this.visibleSlides=Zt(this.visibleSlides)}},updateProgress:function(t){void 0===t&&(t=this&&this.translate&&this.translate*(this.rtlTranslate?-1:1)||0);var e=this.params,n=this.maxTranslate()-this.minTranslate(),r=this.progress,i=this.isBeginning,o=this.isEnd,a=i,s=o;0===n?(r=0,i=!0,o=!0):(i=(r=(t-this.minTranslate())/n)<=0,o=r>=1),re(this,{progress:r,isBeginning:i,isEnd:o}),(e.watchSlidesProgress||e.watchSlidesVisibility||e.centeredSlides&&e.autoHeight)&&this.updateSlidesProgress(t),i&&!a&&this.emit("reachBeginning toEdge"),o&&!s&&this.emit("reachEnd toEdge"),(a&&!i||s&&!o)&&this.emit("fromEdge"),this.emit("progress",r)},updateSlidesClasses:function(){var t,e=this.slides,n=this.params,r=this.$wrapperEl,i=this.activeIndex,o=this.realIndex,a=this.virtual&&n.virtual.enabled;e.removeClass(n.slideActiveClass+" "+n.slideNextClass+" "+n.slidePrevClass+" "+n.slideDuplicateActiveClass+" "+n.slideDuplicateNextClass+" "+n.slideDuplicatePrevClass),(t=a?this.$wrapperEl.find("."+n.slideClass+'[data-swiper-slide-index="'+i+'"]'):e.eq(i)).addClass(n.slideActiveClass),n.loop&&(t.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass));var s=t.nextAll("."+n.slideClass).eq(0).addClass(n.slideNextClass);n.loop&&0===s.length&&(s=e.eq(0)).addClass(n.slideNextClass);var u=t.prevAll("."+n.slideClass).eq(0).addClass(n.slidePrevClass);n.loop&&0===u.length&&(u=e.eq(-1)).addClass(n.slidePrevClass),n.loop&&(s.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass)),this.emitSlidesClasses()},updateActiveIndex:function(t){var e,n=this.rtlTranslate?this.translate:-this.translate,r=this.slidesGrid,i=this.snapGrid,o=this.params,a=this.activeIndex,s=this.realIndex,u=this.snapIndex,c=t;if(void 0===c){for(var l=0;l<r.length;l+=1)void 0!==r[l+1]?n>=r[l]&&n<r[l+1]-(r[l+1]-r[l])/2?c=l:n>=r[l]&&n<r[l+1]&&(c=l+1):n>=r[l]&&(c=l);o.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}if(i.indexOf(n)>=0)e=i.indexOf(n);else{var h=Math.min(o.slidesPerGroupSkip,c);e=h+Math.floor((c-h)/o.slidesPerGroup)}if(e>=i.length&&(e=i.length-1),c!==a){var f=parseInt(this.slides.eq(c).attr("data-swiper-slide-index")||c,10);re(this,{snapIndex:e,realIndex:f,previousIndex:a,activeIndex:c}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),s!==f&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")}else e!==u&&(this.snapIndex=e,this.emit("snapIndexChange"))},updateClickedSlide:function(t){var e,n=this.params,r=Zt(t.target).closest("."+n.slideClass)[0],i=!1;if(r)for(var o=0;o<this.slides.length;o+=1)if(this.slides[o]===r){i=!0,e=o;break}if(!r||!i)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=r,this.clickedIndex=this.virtual&&this.params.virtual.enabled?parseInt(Zt(r).attr("data-swiper-slide-index"),10):e,n.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");var e=this.params,n=this.rtlTranslate,r=this.translate;if(e.virtualTranslate)return n?-r:r;if(e.cssMode)return r;var i=function(t,e){void 0===e&&(e="x");var n,r,i,o=Lt(),a=function(t){var e,n=Lt();return n.getComputedStyle&&(e=n.getComputedStyle(t,null)),!e&&t.currentStyle&&(e=t.currentStyle),e||(e=t.style),e}(t);return o.WebKitCSSMatrix?((r=a.transform||a.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(t){return t.replace(",",".")})).join(", ")),i=new o.WebKitCSSMatrix("none"===r?"":r)):n=(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(r=o.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(r=o.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}(this.$wrapperEl[0],t);return n&&(i=-i),i||0},setTranslate:function(t,e){var n=this.rtlTranslate,r=this.params,i=this.$wrapperEl,o=this.wrapperEl,a=this.progress,s=0,u=0;this.isHorizontal()?s=n?-t:t:u=t,r.roundLengths&&(s=Math.floor(s),u=Math.floor(u)),r.cssMode?o[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-s:-u:r.virtualTranslate||i.transform("translate3d("+s+"px, "+u+"px, 0px)"),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?s:u;var c=this.maxTranslate()-this.minTranslate();(0===c?0:(t-this.minTranslate())/c)!==a&&this.updateProgress(t),this.emit("setTranslate",this.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t,e,n,r,i){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var o=this,a=o.params,s=o.wrapperEl;if(o.animating&&a.preventInteractionOnTransition)return!1;var u,c=o.minTranslate(),l=o.maxTranslate();if(o.updateProgress(u=r&&t>c?c:r&&t<l?l:t),a.cssMode){var h,f=o.isHorizontal();return 0===e?s[f?"scrollLeft":"scrollTop"]=-u:s.scrollTo?s.scrollTo(((h={})[f?"left":"top"]=-u,h.behavior="smooth",h)):s[f?"scrollLeft":"scrollTop"]=-u,!0}return 0===e?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(t,e){this.params.cssMode||this.$wrapperEl.transition(t),this.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);var n=this.activeIndex,r=this.params,i=this.previousIndex;if(!r.cssMode){r.autoHeight&&this.updateAutoHeight();var o=e;if(o||(o=n>i?"next":n<i?"prev":"reset"),this.emit("transitionStart"),t&&n!==i){if("reset"===o)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),this.emit("next"===o?"slideNextTransitionStart":"slidePrevTransitionStart")}}},transitionEnd:function(t,e){void 0===t&&(t=!0);var n=this.activeIndex,r=this.previousIndex,i=this.params;if(this.animating=!1,!i.cssMode){this.setTransition(0);var o=e;if(o||(o=n>r?"next":n<r?"prev":"reset"),this.emit("transitionEnd"),t&&n!==r){if("reset"===o)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),this.emit("next"===o?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}}},slide:{slideTo:function(t,e,n,r){if(void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),"number"!=typeof t&&"string"!=typeof t)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof t+"] given.");if("string"==typeof t){var i=parseInt(t,10);if(!isFinite(i))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+t+"] given.");t=i}var o=this,a=t;a<0&&(a=0);var s=o.params,u=o.snapGrid,c=o.slidesGrid,l=o.previousIndex,h=o.activeIndex,f=o.rtlTranslate,d=o.wrapperEl;if(o.animating&&s.preventInteractionOnTransition)return!1;var p=Math.min(o.params.slidesPerGroupSkip,a),v=p+Math.floor((a-p)/o.params.slidesPerGroup);v>=u.length&&(v=u.length-1),(h||s.initialSlide||0)===(l||0)&&n&&o.emit("beforeSlideChangeStart");var g,y=-u[v];if(o.updateProgress(y),s.normalizeSlideIndex)for(var m=0;m<c.length;m+=1){var b=-Math.floor(100*y),_=Math.floor(100*c[m]),w=Math.floor(100*c[m+1]);void 0!==c[m+1]?b>=_&&b<w-(w-_)/2?a=m:b>=_&&b<w&&(a=m+1):b>=_&&(a=m)}if(o.initialized&&a!==h){if(!o.allowSlideNext&&y<o.translate&&y<o.minTranslate())return!1;if(!o.allowSlidePrev&&y>o.translate&&y>o.maxTranslate()&&(h||0)!==a)return!1}if(g=a>h?"next":a<h?"prev":"reset",f&&-y===o.translate||!f&&y===o.translate)return o.updateActiveIndex(a),s.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==s.effect&&o.setTranslate(y),"reset"!==g&&(o.transitionStart(n,g),o.transitionEnd(n,g)),!1;if(s.cssMode){var C,k=o.isHorizontal(),S=-y;return f&&(S=d.scrollWidth-d.offsetWidth-S),0===e?d[k?"scrollLeft":"scrollTop"]=S:d.scrollTo?d.scrollTo(((C={})[k?"left":"top"]=S,C.behavior="smooth",C)):d[k?"scrollLeft":"scrollTop"]=S,!0}return 0===e?(o.setTransition(0),o.setTranslate(y),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,g),o.transitionEnd(n,g)):(o.setTransition(e),o.setTranslate(y),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,g),o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,g))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0);var i=t;return this.params.loop&&(i+=this.loopedSlides),this.slideTo(i,e,n,r)},slideNext:function(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var r=this.params,i=this.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(this.animating&&r.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}return this.slideTo(this.activeIndex+i,t,e,n)},slidePrev:function(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var r=this.params,i=this.snapGrid,o=this.slidesGrid,a=this.rtlTranslate;if(r.loop){if(this.animating&&r.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}function s(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}var u,c=s(a?this.translate:-this.translate),l=i.map((function(t){return s(t)})),h=(l.indexOf(c),i[l.indexOf(c)-1]);return void 0===h&&r.cssMode&&i.forEach((function(t){!h&&c>=t&&(h=t)})),void 0!==h&&(u=o.indexOf(h))<0&&(u=this.activeIndex-1),this.slideTo(u,t,e,n)},slideReset:function(t,e,n){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function(t,e,n,r){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===r&&(r=.5);var i=this.activeIndex,o=Math.min(this.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/this.params.slidesPerGroup),s=this.rtlTranslate?this.translate:-this.translate;if(s>=this.snapGrid[a]){var u=this.snapGrid[a];s-u>(this.snapGrid[a+1]-u)*r&&(i+=this.params.slidesPerGroup)}else{var c=this.snapGrid[a-1];s-c<=(this.snapGrid[a]-c)*r&&(i-=this.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,this.slidesGrid.length-1),this.slideTo(i,t,e,n)},slideToClickedSlide:function(){var t,e=this,n=e.params,r=e.$wrapperEl,i="auto"===n.slidesPerView?e.slidesPerViewDynamic():n.slidesPerView,o=e.clickedIndex;if(n.loop){if(e.animating)return;t=parseInt(Zt(e.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<e.loopedSlides-i/2||o>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),o=r.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),te((function(){e.slideTo(o)}))):e.slideTo(o):o>e.slides.length-i?(e.loopFix(),o=r.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),te((function(){e.slideTo(o)}))):e.slideTo(o)}else e.slideTo(o)}},loop:{loopCreate:function(){var t=this,e=Dt(),n=t.params,r=t.$wrapperEl;r.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var i=r.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-i.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var a=0;a<o;a+=1){var s=Zt(e.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);r.append(s)}i=r.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&(t.loopedSlides=i.length);var u=[],c=[];i.each((function(e,n){var r=Zt(e);n<t.loopedSlides&&c.push(e),n<i.length&&n>=i.length-t.loopedSlides&&u.push(e),r.attr("data-swiper-slide-index",n)}));for(var l=0;l<c.length;l+=1)r.append(Zt(c[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var h=u.length-1;h>=0;h-=1)r.prepend(Zt(u[h].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");var t,e=this.activeIndex,n=this.slides,r=this.loopedSlides,i=this.allowSlidePrev,o=this.allowSlideNext,a=this.snapGrid,s=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var u=-a[e]-this.getTranslate();e<r?(t=n.length-3*r+e,this.slideTo(t+=r,0,!1,!0)&&0!==u&&this.setTranslate((s?-this.translate:this.translate)-u)):e>=n.length-r&&(t=-n.length+e+r,this.slideTo(t+=r,0,!1,!0)&&0!==u&&this.setTranslate((s?-this.translate:this.translate)-u)),this.allowSlidePrev=i,this.allowSlideNext=o,this.emit("loopFix")},loopDestroy:function(){var t=this.params,e=this.slides;this.$wrapperEl.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),e.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(t){if(!(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var e=this.el;e.style.cursor="move",e.style.cursor=t?"-webkit-grabbing":"-webkit-grab",e.style.cursor=t?"-moz-grabbin":"-moz-grab",e.style.cursor=t?"grabbing":"grab"}},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}},manipulation:{appendSlide:function(t){var e=this.$wrapperEl,n=this.params;if(n.loop&&this.loopDestroy(),"object"==typeof t&&"length"in t)for(var r=0;r<t.length;r+=1)t[r]&&e.append(t[r]);else e.append(t);n.loop&&this.loopCreate(),n.observer&&this.support.observer||this.update()},prependSlide:function(t){var e=this.params,n=this.$wrapperEl,r=this.activeIndex;e.loop&&this.loopDestroy();var i=r+1;if("object"==typeof t&&"length"in t){for(var o=0;o<t.length;o+=1)t[o]&&n.prepend(t[o]);i=r+t.length}else n.prepend(t);e.loop&&this.loopCreate(),e.observer&&this.support.observer||this.update(),this.slideTo(i,0,!1)},addSlide:function(t,e){var n=this.$wrapperEl,r=this.params,i=this.activeIndex;r.loop&&(i-=this.loopedSlides,this.loopDestroy(),this.slides=n.children("."+r.slideClass));var o=this.slides.length;if(t<=0)this.prependSlide(e);else if(t>=o)this.appendSlide(e);else{for(var a=i>t?i+1:i,s=[],u=o-1;u>=t;u-=1){var c=this.slides.eq(u);c.remove(),s.unshift(c)}if("object"==typeof e&&"length"in e){for(var l=0;l<e.length;l+=1)e[l]&&n.append(e[l]);a=i>t?i+e.length:i}else n.append(e);for(var h=0;h<s.length;h+=1)n.append(s[h]);r.loop&&this.loopCreate(),r.observer&&this.support.observer||this.update(),this.slideTo(r.loop?a+this.loopedSlides:a,0,!1)}},removeSlide:function(t){var e=this.params,n=this.$wrapperEl,r=this.activeIndex;e.loop&&(r-=this.loopedSlides,this.loopDestroy(),this.slides=n.children("."+e.slideClass));var i,o=r;if("object"==typeof t&&"length"in t){for(var a=0;a<t.length;a+=1)this.slides[i=t[a]]&&this.slides.eq(i).remove(),i<o&&(o-=1);o=Math.max(o,0)}else this.slides[i=t]&&this.slides.eq(i).remove(),i<o&&(o-=1),o=Math.max(o,0);e.loop&&this.loopCreate(),e.observer&&this.support.observer||this.update(),this.slideTo(e.loop?o+this.loopedSlides:o,0,!1)},removeAllSlides:function(){for(var t=[],e=0;e<this.slides.length;e+=1)t.push(e);this.removeSlide(t)}},events:{attachEvents:function(){var t=Dt(),e=this.params,n=this.touchEvents,r=this.el,i=this.wrapperEl,o=this.device,a=this.support;this.onTouchStart=fe.bind(this),this.onTouchMove=de.bind(this),this.onTouchEnd=pe.bind(this),e.cssMode&&(this.onScroll=ye.bind(this)),this.onClick=ge.bind(this);var s=!!e.nested;if(!a.touch&&a.pointerEvents)r.addEventListener(n.start,this.onTouchStart,!1),t.addEventListener(n.move,this.onTouchMove,s),t.addEventListener(n.end,this.onTouchEnd,!1);else{if(a.touch){var u=!("touchstart"!==n.start||!a.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(n.start,this.onTouchStart,u),r.addEventListener(n.move,this.onTouchMove,a.passiveListener?{passive:!1,capture:s}:s),r.addEventListener(n.end,this.onTouchEnd,u),n.cancel&&r.addEventListener(n.cancel,this.onTouchEnd,u),me||(t.addEventListener("touchstart",be),me=!0)}(e.simulateTouch&&!o.ios&&!o.android||e.simulateTouch&&!a.touch&&o.ios)&&(r.addEventListener("mousedown",this.onTouchStart,!1),t.addEventListener("mousemove",this.onTouchMove,s),t.addEventListener("mouseup",this.onTouchEnd,!1))}(e.preventClicks||e.preventClicksPropagation)&&r.addEventListener("click",this.onClick,!0),e.cssMode&&i.addEventListener("scroll",this.onScroll),this.on(e.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",ve,!0)},detachEvents:function(){var t=Dt(),e=this.params,n=this.touchEvents,r=this.el,i=this.wrapperEl,o=this.device,a=this.support,s=!!e.nested;if(!a.touch&&a.pointerEvents)r.removeEventListener(n.start,this.onTouchStart,!1),t.removeEventListener(n.move,this.onTouchMove,s),t.removeEventListener(n.end,this.onTouchEnd,!1);else{if(a.touch){var u=!("onTouchStart"!==n.start||!a.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(n.start,this.onTouchStart,u),r.removeEventListener(n.move,this.onTouchMove,s),r.removeEventListener(n.end,this.onTouchEnd,u),n.cancel&&r.removeEventListener(n.cancel,this.onTouchEnd,u)}(e.simulateTouch&&!o.ios&&!o.android||e.simulateTouch&&!a.touch&&o.ios)&&(r.removeEventListener("mousedown",this.onTouchStart,!1),t.removeEventListener("mousemove",this.onTouchMove,s),t.removeEventListener("mouseup",this.onTouchEnd,!1))}(e.preventClicks||e.preventClicksPropagation)&&r.removeEventListener("click",this.onClick,!0),e.cssMode&&i.removeEventListener("scroll",this.onScroll),this.off(o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",ve)}},breakpoints:{setBreakpoint:function(){var t=this.activeIndex,e=this.initialized,n=this.loopedSlides,r=void 0===n?0:n,i=this.params,o=this.$el,a=i.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var s=this.getBreakpoint(a,this.params.breakpointsBase,this.el);if(s&&this.currentBreakpoint!==s){var u=s in a?a[s]:void 0;u&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(t){var e=u[t];void 0!==e&&(u[t]="slidesPerView"!==t||"AUTO"!==e&&"auto"!==e?"slidesPerView"===t?parseFloat(e):parseInt(e,10):"auto")}));var c=u||this.originalParams,l=i.slidesPerColumn>1,h=c.slidesPerColumn>1;l&&!h?(o.removeClass(i.containerModifierClass+"multirow "+i.containerModifierClass+"multirow-column"),this.emitContainerClasses()):!l&&h&&(o.addClass(i.containerModifierClass+"multirow"),"column"===c.slidesPerColumnFill&&o.addClass(i.containerModifierClass+"multirow-column"),this.emitContainerClasses());var f=c.direction&&c.direction!==i.direction,d=i.loop&&(c.slidesPerView!==i.slidesPerView||f);f&&e&&this.changeDirection(),re(this.params,c),re(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=s,this.emit("_beforeBreakpoint",c),d&&e&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(t-r+this.loopedSlides,0,!1)),this.emit("breakpoint",c)}}},getBreakpoint:function(t,e,n){if(void 0===e&&(e="window"),t&&("container"!==e||n)){var r=!1,i=Lt(),o="window"===e?i.innerWidth:n.clientWidth,a="window"===e?i.innerHeight:n.clientHeight,s=Object.keys(t).map((function(t){if("string"==typeof t&&0===t.indexOf("@")){var e=parseFloat(t.substr(1));return{value:a*e,point:t}}return{value:t,point:t}}));s.sort((function(t,e){return parseInt(t.value,10)-parseInt(e.value,10)}));for(var u=0;u<s.length;u+=1){var c=s[u];c.value<=o&&(r=c.point)}return r||"max"}}},checkOverflow:{checkOverflow:function(){var t=this.params,e=this.isLocked,n=this.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;this.isLocked=t.slidesOffsetBefore&&t.slidesOffsetAfter&&n?n<=this.size:1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,e!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),e&&e!==this.isLocked&&(this.isEnd=!1,this.navigation&&this.navigation.update())}},classes:{addClasses:function(){var t,e,n=this.classNames,r=this.params,i=this.$el,o=this.device,a=this.support,s=(t=r.containerModifierClass,e=[],["initialized",r.direction,{"pointer-events":a.pointerEvents&&!a.touch},{"free-mode":r.freeMode},{autoheight:r.autoHeight},{rtl:this.rtl},{multirow:r.slidesPerColumn>1},{"multirow-column":r.slidesPerColumn>1&&"column"===r.slidesPerColumnFill},{android:o.android},{ios:o.ios},{"css-mode":r.cssMode}].forEach((function(n){"object"==typeof n?Object.keys(n).forEach((function(r){n[r]&&e.push(t+r)})):"string"==typeof n&&e.push(t+n)})),e);n.push.apply(n,s),i.addClass([].concat(n).join(" ")),this.emitContainerClasses()},removeClasses:function(){this.$el.removeClass(this.classNames.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(t,e,n,r,i,o){var a,s=Lt();function u(){o&&o()}Zt(t).parent("picture")[0]||t.complete&&i?u():e?((a=new s.Image).onload=u,a.onerror=u,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):u()},preloadImages:function(){var t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(var n=0;n<t.imagesToLoad.length;n+=1){var r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}}},Ce={},ke=function(){function t(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(e=i[0],n=i[1]),n||(n={}),n=re({},n),e&&!n.el&&(n.el=e),n.el&&Zt(n.el).length>1){var a=[];return Zt(n.el).each((function(e){var r=re({},n,{el:e});a.push(new t(r))})),a}var s=this;s.__swiper__=!0,s.support=oe(),s.device=ae({userAgent:n.userAgent}),s.browser=se(),s.eventsListeners={},s.eventsAnyListeners=[],void 0===s.modules&&(s.modules={}),Object.keys(s.modules).forEach((function(t){var e=s.modules[t];if(e.params){var r=Object.keys(e.params)[0],i=e.params[r];if("object"!=typeof i||null===i)return;if(!(r in n)||!("enabled"in i))return;!0===n[r]&&(n[r]={enabled:!0}),"object"!=typeof n[r]||"enabled"in n[r]||(n[r].enabled=!0),n[r]||(n[r]={enabled:!1})}}));var u,c,l=re({},_e);return s.useParams(l),s.params=re({},l,Ce,n),s.originalParams=re({},s.params),s.passedParams=re({},n),s.params&&s.params.on&&Object.keys(s.params.on).forEach((function(t){s.on(t,s.params.on[t])})),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=Zt,re(s,{el:e,classNames:[],slides:Zt(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===s.params.direction},isVertical:function(){return"vertical"===s.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:(u=["touchstart","touchmove","touchend","touchcancel"],c=["mousedown","mousemove","mouseup"],s.support.pointerEvents&&(c=["pointerdown","pointermove","pointerup"]),s.touchEventsTouch={start:u[0],move:u[1],end:u[2],cancel:u[3]},s.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:ee(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.useModules(),s.emit("_swiper"),s.params.init&&s.init(),s}var e,n=t.prototype;return n.setProgress=function(t,e){t=Math.min(Math.max(t,0),1);var n=this.minTranslate(),r=this.maxTranslate();this.translateTo((r-n)*t+n,void 0===e?0:e),this.updateActiveIndex(),this.updateSlidesClasses()},n.emitContainerClasses=function(){var t=this;if(t.params._emitClasses&&t.el){var e=t.el.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-container")||0===e.indexOf(t.params.containerModifierClass)}));t.emit("_containerClasses",e.join(" "))}},n.getSlideClasses=function(t){var e=this;return t.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass)})).join(" ")},n.emitSlidesClasses=function(){var t=this;if(t.params._emitClasses&&t.el){var e=[];t.slides.each((function(n){var r=t.getSlideClasses(n);e.push({slideEl:n,classNames:r}),t.emit("_slideClass",n,r)})),t.emit("_slideClasses",e)}},n.slidesPerViewDynamic=function(){var t=this.slides,e=this.slidesGrid,n=this.size,r=this.activeIndex,i=1;if(this.params.centeredSlides){for(var o,a=t[r].swiperSlideSize,s=r+1;s<t.length;s+=1)t[s]&&!o&&(i+=1,(a+=t[s].swiperSlideSize)>n&&(o=!0));for(var u=r-1;u>=0;u-=1)t[u]&&!o&&(i+=1,(a+=t[u].swiperSlideSize)>n&&(o=!0))}else for(var c=r+1;c<t.length;c+=1)e[c]-e[r]<n&&(i+=1);return i},n.update=function(){var t=this;if(t&&!t.destroyed){var e=t.snapGrid,n=t.params;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(r(),t.params.autoHeight&&t.updateAutoHeight()):t.slideTo(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0)||r(),n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}function r(){var e=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(e),t.updateActiveIndex(),t.updateSlidesClasses()}},n.changeDirection=function(t,e){void 0===e&&(e=!0);var n=this.params.direction;return t||(t="horizontal"===n?"vertical":"horizontal"),t===n||"horizontal"!==t&&"vertical"!==t||(this.$el.removeClass(""+this.params.containerModifierClass+n).addClass(""+this.params.containerModifierClass+t),this.emitContainerClasses(),this.params.direction=t,this.slides.each((function(e){"vertical"===t?e.style.width="":e.style.height=""})),this.emit("changeDirection"),e&&this.update()),this},n.mount=function(t){if(this.mounted)return!0;var e,n=Zt(t||this.params.el);return!!(t=n[0])&&(t.swiper=this,t&&t.shadowRoot&&t.shadowRoot.querySelector?(e=Zt(t.shadowRoot.querySelector("."+this.params.wrapperClass))).children=function(t){return n.children(t)}:e=n.children("."+this.params.wrapperClass),re(this,{$el:n,el:t,$wrapperEl:e,wrapperEl:e[0],mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===this.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===e.css("display")}),!0)},n.init=function(t){return this.initialized||!1===this.mount(t)||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.slideTo(this.params.loop?this.params.initialSlide+this.loopedSlides:this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"),this.emit("afterInit")),this},n.destroy=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var n,r=this,i=r.params,o=r.$el,a=r.$wrapperEl,s=r.slides;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),e&&(r.removeClasses(),o.removeAttr("style"),a.removeAttr("style"),s&&s.length&&s.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach((function(t){r.off(t)})),!1!==t&&(r.$el[0].swiper=null,n=r,Object.keys(n).forEach((function(t){try{n[t]=null}catch(L_){}try{delete n[t]}catch(L_){}}))),r.destroyed=!0),null},t.extendDefaults=function(t){re(Ce,t)},t.installModule=function(e){t.prototype.modules||(t.prototype.modules={});var n=e.name||Object.keys(t.prototype.modules).length+"_"+ee();t.prototype.modules[n]=e},t.use=function(e){return Array.isArray(e)?(e.forEach((function(e){return t.installModule(e)})),t):(t.installModule(e),t)},(e=[{key:"extendedDefaults",get:function(){return Ce}},{key:"defaults",get:function(){return _e}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t,e),t}();Object.keys(we).forEach((function(t){Object.keys(we[t]).forEach((function(e){ke.prototype[e]=we[t][e]}))})),ke.use([ue,he]);var Se,Te=ke,Ee=n("XNiG"),Oe=n("LRne"),xe=((Se=function t(){_classCallCheck(this,t)}).\u0275mod=r.Gb({type:Se}),Se.\u0275inj=r.Fb({factory:function(t){return new(t||Se)},imports:[[q]]}),Se),Ie=n("Cfvw"),Pe=n("9ppp"),Ae=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf2(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pe.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf2(n.prototype),"next",this).call(this,this._value=t)}}]),n}(Ee.a),Me=n("HDdC"),Ne=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Re=n("z+Ro"),De=n("DH7j"),je=n("l7GE"),Le=n("ZUHj"),Fe=n("yCtX"),Ue={},Ve=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new qe(t,this.resultSelector))}}]),t}(),qe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(Ue),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(Le.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===Ue?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(je.a),ze=n("EY2u");function Be(t){return new Me.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ie.a)(n):Object(ze.b)()).subscribe(e)}))}var He=n("lJxs"),Ge=n("bHdf");function We(){return Object(Ge.a)(1)}var Ke=n("7o/Q");function Qe(t,e){return function(n){return n.lift(new Ye(t,e))}}var Ye=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xe(t,this.predicate,this.thisArg))}}]),t}(),Xe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Ke.a),Je=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function $e(t){return function(e){return 0===t?Object(ze.b)():e.lift(new Ze(t))}}var Ze=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Je}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new tn(t,this.total))}}]),t}(),tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(Ke.a);function en(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;return function(e){return e.lift(new nn(t))}}var nn=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new rn(t,this.errorFactory))}}]),t}(),rn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(L_){t=L_}this.destination.error(t)}}]),n}(Ke.a);function on(){return new Ne}function an(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new sn(t))}}var sn=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new un(t,this.defaultValue))}}]),t}(),un=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Ke.a),cn=n("SpAZ");function ln(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Qe((function(e,n){return t(e,n,r)})):cn.a,$e(1),n?an(e):en((function(){return new Ne})))}}var hn=n("51Dv");function fn(t){return function(e){var n=new dn(t),r=e.lift(n);return n.caught=r}}var dn=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new pn(t,this.selector,this.caught))}}]),t}(),pn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf2(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new hn.a(this,void 0,void 0);this.add(r);var i=Object(Le.a)(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(je.a);function vn(t){return function(e){return 0===t?Object(ze.b)():e.lift(new gn(t))}}var gn=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Je}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new yn(t,this.total))}}]),t}(),yn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Ke.a);function mn(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Qe((function(e,n){return t(e,n,r)})):cn.a,vn(1),n?an(e):en((function(){return new Ne})))}}var bn=n("5+tZ"),_n=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new wn(t,this.predicate,this.thisArg,this.source))}}]),t}(),wn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(Ke.a);function Cn(t,e){return"function"==typeof e?function(n){return n.pipe(Cn((function(n,r){return Object(Ie.a)(t(n,r)).pipe(Object(He.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new kn(t))}}var kn=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Sn(t,this.project))}}]),t}(),Sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new hn.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Le.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf2(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf2(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(je.a);function Tn(){return We()(Object(Oe.a).apply(void 0,arguments))}function En(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Re.a)(r)?(e.pop(),function(t){return Tn(e,t,r)}):function(t){return Tn(e,t)}}function On(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new xn(t,e,n))}}var xn=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new In(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),In=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(Ke.a);function Pn(t,e){return Object(bn.a)(t,e,1)}var An,Mn=n("mCNh"),Nn=n("vkgz"),Rn=n("quSY"),Dn=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new jn(t,this.callback))}}]),t}(),jn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new Rn.a(r)),i}return n}(Ke.a),Ln=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},Fn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ln),Un=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Ln),Vn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ln),qn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Ln),zn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ln),Bn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ln),Hn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Ln),Gn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ln),Wn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ln),Kn=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Qn=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Yn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Xn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Jn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),$n=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Zn=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),tr=((An=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||An)},An.\u0275cmp=r.Cb({type:An,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[co]},encapsulation:2}),An),er=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function nr(t){return new er(t)}function rr(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ir(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var or=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function ar(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];sr(r,ur(e,r))}}function sr(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&ar(t.children,e)}function ur(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function cr(t){var e=t.children&&t.children.map(cr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=tr),n}function lr(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!hr(t[n=r[o]],e[n]))return!1;return!0}function hr(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function fr(t){return Array.prototype.concat.apply([],t)}function dr(t){return t.length>0?t[t.length-1]:null}function pr(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function vr(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(Ie.a)(Promise.resolve(t)):Object(Oe.a)(t)}function gr(t,e,n){return n?function(t,e){return lr(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!_r(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return hr(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!_r(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!_r(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!_r(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var yr=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Sr.serialize(this)}}]),t}(),mr=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,pr(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Tr(this)}}]),t}(),br=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=nr(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Ar(this)}}]),t}();function _r(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function wr(t,e){var n=[];return pr(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),pr(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Cr=function t(){_classCallCheck(this,t)},kr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new jr(t);return new yr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return Tr(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return pr(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=wr(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(Tr(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Or(t),"=").concat(Or(e))})).join("&"):"".concat(Or(t),"=").concat(Or(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Sr=new kr;function Tr(t){return t.segments.map((function(t){return Ar(t)})).join("/")}function Er(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Or(t){return Er(t).replace(/%3B/gi,";")}function xr(t){return Er(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ir(t){return decodeURIComponent(t)}function Pr(t){return Ir(t.replace(/\+/g,"%20"))}function Ar(t){return"".concat(xr(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(xr(t),"=").concat(xr(e[t]))})).join("")));var e}var Mr=/^[^\/()?;=#]+/;function Nr(t){var e=t.match(Mr);return e?e[0]:""}var Rr=/^[^=?&#]+/,Dr=/^[^?&#]+/,jr=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mr([],{}):new mr([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new mr(t,e)),n}},{key:"parseSegment",value:function(){var t=Nr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new br(Ir(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Nr(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Nr(this.remaining);r&&(n=r,this.capture(n))}t[Ir(e)]=Ir(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Rr);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Dr);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Pr(e),o=Pr(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Nr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new mr([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Lr=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Fr(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Fr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Ur(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Ur(t,this._root).map((function(t){return t.value}))}}]),t}();function Fr(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Fr(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Ur(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Ur(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Vr=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function qr(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var zr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,Qr(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Lr);function Br(t,e){var n=function(t,e){var n=new Wr([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Kr("",new Vr(n,[]))}(t,e),r=new Ae([new br("",{})]),i=new Ae({}),o=new Ae({}),a=new Ae({}),s=new Ae(""),u=new Hr(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new zr(new Vr(u,[]),n)}var Hr=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(He.a)((function(t){return nr(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(He.a)((function(t){return nr(t)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function Gr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Wr=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=nr(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),Kr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,Qr(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return Yr(this._root)}}]),n}(Lr);function Qr(t,e){e.value._routerState=t,e.children.forEach((function(e){return Qr(t,e)}))}function Yr(t){var e=t.children.length>0?" { ".concat(t.children.map(Yr).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Xr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,lr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),lr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!lr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),lr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jr(t,e){return lr(t.params,e.params)&&function(t,e){return _r(t,e)&&t.every((function(t,n){return lr(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Jr(t.parent,e.parent))}function $r(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zr(t,e,n,r,i){var o={};return r&&pr(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new yr(n.root===t?e:function t(e,n,r){var i={};return pr(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new mr(e.segments,i)}(n.root,t,e),o,i)}var ti=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$r(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==dr(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),ei=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function ni(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function ri(t,e,n){if(t||(t=new mr([],{})),0===t.segments.length&&t.hasChildren())return ii(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=ni(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!ui(s,u,a))return o;r+=2}else{if(!ui(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new mr(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new mr(t.segments.slice(r.pathIndex),t.children),ii(o,0,i)}return r.match&&0===i.length?new mr(t.segments,{}):r.match&&!t.hasChildren()?oi(t,e,n):r.match?ii(t,0,i):oi(t,e,n)}function ii(t,e,n){if(0===n.length)return new mr(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return pr(r,(function(n,r){null!==n&&(i[r]=ri(t.children[r],e,n))})),pr(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new mr(t.segments,i)}function oi(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=ai(n[i].outlets);return new mr(r,o)}if(0===i&&$r(n[0]))r.push(new br(t.segments[e].path,n[0])),i++;else{var a=ni(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&$r(s)?(r.push(new br(a,si(s))),i+=2):(r.push(new br(a,{})),i++)}}return new mr(r,{})}function ai(t){var e={};return pr(t,(function(t,n){null!==t&&(e[n]=oi(new mr([],{}),0,t))})),e}function si(t){var e={};return pr(t,(function(t,n){return e[n]=""+t})),e}function ui(t,e,n){return t==n.path&&lr(e,n.parameters)}var ci=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=qr(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),pr(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=qr(t),o=t.value.component?r.children:e;pr(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=qr(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new $n(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Xn(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(Xr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),li(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function li(t){Xr(t.value),t.children.forEach(li)}function hi(t){return"function"==typeof t}function fi(t){return t instanceof yr}var di=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},pi=function t(e){_classCallCheck(this,t),this.urlTree=e};function vi(t){return new Me.a((function(e){return e.error(new di(t))}))}function gi(t){return new Me.a((function(e){return e.error(new pi(t))}))}function yi(t){return new Me.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var mi=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(r.x)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(He.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(fn((function(e){if(e instanceof pi)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof di)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(He.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(fn((function(t){if(t instanceof di)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new mr([],{primary:t}):t;return new yr(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(He.a)((function(t){return new mr([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(Oe.a)({});var o=[],a=[],s={};return pr(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(He.a)((function(t){return s[i]=t})));"primary"===i?o.push(l):a.push(l)})),Oe.a.apply(null,o.concat(a)).pipe(We(),ln(),Object(He.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Oe.a).apply(void 0,_toConsumableArray(n)).pipe(Object(He.a)((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(fn((function(t){if(t instanceof di)return Object(Oe.a)(null);throw t})))})),We(),mn((function(t){return!!t})),fn((function(t,n){if(t instanceof Ne||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(Oe.a)(new mr([],{}));throw new di(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Ci(r)!==o?vi(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):vi(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?gi(o):this.lineralizeSegments(n,o).pipe(Object(bn.a)((function(n){var o=new mr(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=bi(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return vi(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?gi(f):this.lineralizeSegments(r,f).pipe(Object(bn.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(He.a)((function(t){return n._loadedConfig=t,new mr(r,{})}))):Object(Oe.a)(new mr(r,{}));var o=bi(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return vi(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(bn.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return wi(t,e,n)&&"primary"!==Ci(n)}))}(t,n,r)?{segmentGroup:_i(new mr(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Ci(o)&&(n[Ci(o)]=new mr([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new mr(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return wi(t,e,n)}))}(t,n,r)?{segmentGroup:_i(new mr(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;wi(t,e,s)&&!r[Ci(s)]&&(o[Ci(s)]=new mr([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(He.a)((function(t){return new mr(s,t)}))):0===r.length&&0===u.length?Object(Oe.a)(new mr(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(He.a)((function(t){return new mr(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Oe.a)(new or(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Oe.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(Ie.a)(i).pipe(Object(He.a)((function(r){var i,o=t.get(r);if(function(t){return t&&hi(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!hi(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return vr(i)}))).pipe(We(),(r=function(t){return!0===t},function(t){return t.lift(new _n(r,void 0,t))})):Object(Oe.a)(!0)}(t.injector,e,n).pipe(Object(bn.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(He.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new Me.a((function(e){return e.error(rr("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(Oe.a)(new or([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Oe.a)(n);if(r.numberOfChildren>1||!r.children.primary)return yi(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new yr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return pr(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return pr(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new mr(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function bi(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||ir)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function _i(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new mr(t.segments.concat(e.segments),e.children)}return t}function wi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ci(t){return t.outlet||"primary"}var ki=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Si=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Ti(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ei(t,e,n){var r=qr(t),i=t.value;pr(r,(function(t,r){Ei(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Si(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Oi=Symbol("INITIAL_VALUE");function xi(){return Cn((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(Re.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(De.a)(e[0])&&(e=e[0]),Object(Fe.a)(e,i).lift(new Ve(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(vn(1),En(Oi))})))).pipe(On((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Oi)return t;if(r===Oi&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||fi(r))return r}return t}),t)}),Oi),Qe((function(t){return t!==Oi})),Object(He.a)((function(t){return fi(t)?t:!0===t})),vn(1))}))}function Ii(t,e){return null!==t&&e&&e(new Jn(t)),Object(Oe.a)(!0)}function Pi(t,e){return null!==t&&e&&e(new Yn(t)),Object(Oe.a)(!0)}function Ai(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Oe.a)(!0);var i=r.map((function(r){return Be((function(){var i,o=Ti(r,e,n);if(function(t){return t&&hi(t.canActivate)}(o))i=vr(o.canActivate(e,t));else{if(!hi(o))throw new Error("Invalid CanActivate guard");i=vr(o(e,t))}return i.pipe(mn())}))}));return Object(Oe.a)(i).pipe(xi())}function Mi(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Be((function(){var i=e.guards.map((function(i){var o,a=Ti(i,e.node,n);if(function(t){return t&&hi(t.canActivateChild)}(a))o=vr(a.canActivateChild(r,t));else{if(!hi(a))throw new Error("Invalid CanActivateChild guard");o=vr(a(r,t))}return o.pipe(mn())}));return Object(Oe.a)(i).pipe(xi())}))}));return Object(Oe.a)(i).pipe(xi())}var Ni=function t(){_classCallCheck(this,t)},Ri=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=Li(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Wr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vr(n,e),i=new Kr(this.url,r);return this.inheritParamsAndData(i._root),Object(Oe.a)(i)}catch(L_){return new Me.a((function(e){return e.error(L_)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Gr(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=wr(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(L_){if(!(L_ instanceof Ni))throw L_}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ni}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Ni;if((t.outlet||"primary")!==r)throw new Ni;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?dr(n).parameters:{};i=new Wr(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vi(t),r,t.component,t,Di(e),ji(e)+n.length,qi(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ni;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||ir)(n,t,e);if(!r)throw new Ni;var i={};pr(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Wr(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vi(t),r,t.component,t,Di(e),ji(e)+o.length,qi(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Li(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Vr(i,d)]}if(0===c.length&&0===f.length)return[new Vr(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Vr(i,p)]}}]),t}();function Di(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function ji(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Li(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Fi(t,e,n)&&"primary"!==Ui(n)}))}(t,n,r)){var o=new mr(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Ui(s)){var u=new mr([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Ui(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new mr(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Fi(t,e,n)}))}(t,n,r)){var a=new mr(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Fi(t,n,c)&&!i[Ui(c)]){var l=new mr([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ui(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new mr(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Fi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ui(t){return t.outlet||"primary"}function Vi(t){return t.data||{}}function qi(t){return t.resolve||{}}function zi(t,e,n,r){var i=Ti(t,e,r);return vr(i.resolve?i.resolve(e,n):i(e,n))}function Bi(t){return function(e){return e.pipe(Cn((function(e){var n=t(e);return n?Object(Ie.a)(n).pipe(Object(He.a)((function(){return e}))):Object(Ie.a)([e])})))}}var Hi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Gi=new r.q("ROUTES"),Wi=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(He.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new or(fr(i.injector.get(Gi)).map(cr),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Ie.a)(this.loader.load(t)):vr(t()).pipe(Object(bn.a)((function(t){return t instanceof r.v?Object(Oe.a)(t):Object(Ie.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),Ki=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Qi(t){throw t}function Yi(t,e,n){return e.parse("/")}function Xi(t,e){return Object(Oe.a)(null)}var Ji,$i,Zi,to=((Zi=function(){function t(e,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ee.a,this.errorHandler=Qi,this.malformedUriErrorHandler=Yi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xi,afterPreactivation:Xi},this.urlHandlingStrategy=new Ki,this.routeReuseStrategy=new Hi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.W);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new yr(new mr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wi(s,u,(function(t){return l.triggerEvent(new Kn(t))}),(function(t){return l.triggerEvent(new Qn(t))})),this.routerState=Br(this.currentUrlTree,this.rootComponentType),this.transitions=new Ae({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Qe((function(t){return 0!==t.id})),Object(He.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Cn((function(t){var r,i,o,a,s=!1,u=!1;return Object(Oe.a)(t).pipe(Object(Nn.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Cn((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Oe.a)(t).pipe(Cn((function(t){var r=e.transitions.getValue();return n.next(new Fn(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?ze.a:[t]})),Cn((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Cn((function(t){return function(t,e,n,r,i){return new mi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(He.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(Nn.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(bn.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Ri(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(He.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Nn.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(Nn.a)((function(t){var r=new zn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Fn(u,e.serializeUrl(c),l,h);n.next(d);var p=Br(c,e.rootComponentType).snapshot;return Object(Oe.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ze.a})),Bi((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Nn.a)((function(t){var n=new Bn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(He.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=qr(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_r(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_r(t.url,e.url)||!lr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jr(t,e)||!lr(t.queryParams,e.queryParams);case"paramsChange":default:return!Jr(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ki(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Si(u&&u.outlet&&u.outlet.component||null,s))}else s&&Ei(n,u,o),o.canActivateChecks.push(new ki(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),pr(a,(function(t,e){return Ei(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(bn.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Oe.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ie.a)(t).pipe(Object(bn.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Oe.a)(!0);var a=o.map((function(o){var a,s=Ti(o,e,i);if(function(t){return t&&hi(t.canDeactivate)}(s))a=vr(s.canDeactivate(t,e,n,r));else{if(!hi(s))throw new Error("Invalid CanDeactivate guard");a=vr(s(t,e,n,r))}return a.pipe(mn())}));return Object(Oe.a)(a).pipe(xi())}(t.component,t.route,n,e,r)})),mn((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(Object(bn.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ie.a)(e).pipe(Pn((function(e){return Object(Ie.a)([Pi(e.route.parent,r),Ii(e.route,r),Mi(t,e.path,n),Ai(t,e.route,n)]).pipe(We(),mn((function(t){return!0!==t}),!0))})),mn((function(t){return!0!==t}),!0))}(r,a,t,e):Object(Oe.a)(n)})),Object(He.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(Nn.a)((function(t){if(fi(t.guardsResult)){var n=rr('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(Nn.a)((function(t){var n=new Hn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Qe((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Vn(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Bi((function(t){if(t.guards.canActivateChecks.length)return Object(Oe.a)(t).pipe(Object(Nn.a)((function(t){var n=new Gn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(bn.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(Ie.a)(i).pipe(Pn((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Oe.a)({});if(1===i.length){var o=i[0];return zi(t[o],e,n,r).pipe(Object(He.a)((function(t){return _defineProperty({},o,t)})))}var a={};return Object(Ie.a)(i).pipe(Object(bn.a)((function(i){return zi(t[i],e,n,r).pipe(Object(He.a)((function(t){return a[i]=t,t})))}))).pipe(ln(),Object(He.a)((function(){return a})))}(t._resolve,t,e,r).pipe(Object(He.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Gr(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(Mn.a)(On(t,e),$e(1),an(e))(n)}:function(e){return Object(Mn.a)(On((function(e,n,r){return t(e,n,r+1)})),$e(1))(e)}}((function(t,e){return t})),Object(He.a)((function(e){return t}))):Object(Oe.a)(t)})))}),Object(Nn.a)((function(t){var n=new Wn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),Bi((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(He.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new Vr(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new Hr(new Ae((u=n.value).url),new Ae(u.params),new Ae(u.queryParams),new Ae(u.fragment),new Ae(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new Vr(c,l)}(t,e._root,n?n._root:void 0);return new zr(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(Nn.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(He.a)((function(t){return new ci(o,t.targetRouterState,t.currentRouterState,a).activate(i),t}))),Object(Nn.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new Vn(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Dn(r))}),fn((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=fi(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Vn(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new qn(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(df){t.reject(df)}}var s;return ze.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){ar(t),this.config=t.map(cr),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.T)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Zr(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ti(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return pr(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new ti(n,e,r)}(n);if(o.toRoot())return Zr(e.root,new mr([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new ei(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ei(n.snapshot._urlSegment,!0,0);var r=$r(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ei(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?ii(a.segmentGroup,a.index,o.commands):ri(a.segmentGroup,a.index,o.commands);return Zr(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.T)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=fi(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(L_){e=this.malformedUriErrorHandler(L_,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(fi(t))return gr(this.currentUrlTree,t,e);var n=this.parseUrl(t);return gr(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Un(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){r.Sb()},Zi.\u0275dir=r.Db({type:Zi}),Zi),eo=(($i=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(r.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"onClick",value:function(){var t={skipLocationChange:ro(this.skipLocationChange),replaceUrl:ro(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ro(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ro(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||$i)(r.Ib(to),r.Ib(Hr),r.Qb("tabindex"),r.Ib(r.D),r.Ib(r.l))},$i.\u0275dir=r.Db({type:$i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Tb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),$i),no=((Ji=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof Un&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(r.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:ro(this.skipLocationChange),replaceUrl:ro(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ro(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ro(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||Ji)(r.Ib(to),r.Ib(Hr),r.Ib(_))},Ji.\u0275dir=r.Db({type:Ji,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Tb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Ob("href",e.href,r.gc),r.yb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),Ji);function ro(t){return""===t||!!t}var io,oo,ao,so=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new uo,this.attachRef=null},uo=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new so,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),co=((io=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new lo(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||io)(r.Ib(uo),r.Ib(r.O),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},io.\u0275dir=r.Db({type:io,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),io),lo=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===Hr?this.route:t===uo?this.childContexts:this.parent.get(t,e)}}]),t}(),ho=function t(){_classCallCheck(this,t)},fo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(Oe.a)(null)}}]),t}(),po=((ao=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Wi(n,r,(function(t){return e.triggerEvent(new Kn(t))}),(function(t){return e.triggerEvent(new Qn(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Qe((function(t){return t instanceof Un})),Pn((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(Ie.a)(r).pipe(Object(Ge.a)(),Object(He.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(bn.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||ao)(r.Pb(to),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(ho))},ao.\u0275prov=r.Eb({token:ao,factory:ao.\u0275fac}),ao),vo=((oo=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Fn?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Un&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Zn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Zn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){r.Sb()},oo.\u0275dir=r.Db({type:oo}),oo),go=new r.q("ROUTER_CONFIGURATION"),yo=new r.q("ROUTER_FORROOT_GUARD"),mo=[x,{provide:Cr,useClass:kr},{provide:to,useFactory:function(t,e,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new to(null,t,e,n,r,i,o,fr(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Cr,uo,x,r.r,r.w,r.i,Gi,go,[function(){return function t(){_classCallCheck(this,t)}}(),new r.A],[function(){return function t(){_classCallCheck(this,t)}}(),new r.A]]},uo,{provide:Hr,useFactory:function(t){return t.routerState.root},deps:[to]},{provide:r.w,useClass:r.J},po,fo,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(fn((function(){return Object(Oe.a)(null)})))}}]),t}(),{provide:go,useValue:{enableTracing:!1}}];function bo(){return new r.y("Router",to)}var _o,wo=((_o=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[mo,To(e),{provide:yo,useFactory:So,deps:[[to,new r.A,new r.I]]},{provide:go,useValue:n||{}},{provide:_,useFactory:ko,deps:[c,[new r.p(T),new r.A],go]},{provide:vo,useFactory:Co,deps:[to,Y,go]},{provide:ho,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:fo},{provide:r.y,multi:!0,useFactory:bo},[Oo,{provide:r.d,multi:!0,useFactory:xo,deps:[Oo]},{provide:Mo,useFactory:Io,deps:[Oo]},{provide:r.b,multi:!0,useExisting:Mo}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[To(e)]}}}]),t}()).\u0275mod=r.Gb({type:_o}),_o.\u0275inj=r.Fb({factory:function(t){return new(t||_o)(r.Pb(yo,8),r.Pb(to,8))}}),_o);function Co(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new vo(t,e,n)}function ko(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new O(t,e):new E(t,e)}function So(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function To(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Gi,multi:!0,useValue:t}]}var Eo,Oo=((Eo=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Ee.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(to),i=t.injector.get(go);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Oe.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(go),n=this.injector.get(po),i=this.injector.get(vo),o=this.injector.get(to),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Eo)(r.Pb(r.r))},Eo.\u0275prov=r.Eb({token:Eo,factory:Eo.\u0275fac}),Eo);function xo(t){return t.appInitializer.bind(t)}function Io(t){return t.bootstrapListener.bind(t)}var Po,Ao,Mo=new r.q("Router Initializer"),No=((Ao=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ao)},Ao.\u0275cmp=r.Cb({type:Ao,selectors:[["app-document-creation-failure"]],decls:6,vars:0,consts:[["routerLink","/styles-selection",1,"primary-btn"]],template:function(t,e){1&t&&(r.Nb(0,"h1"),r.lc(1,"Oooops!"),r.Mb(),r.Nb(2,"p"),r.lc(3,"Something went wrong. Please Try again."),r.Mb(),r.Nb(4,"button",0),r.lc(5,"Try Again"),r.Mb())},directives:[eo],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100%;background-color:#2b2d42;padding:2rem 1.5rem;box-sizing:border-box}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.3rem;color:#fff;font-family:ps-reg;font-weight:400;margin-bottom:1.5rem}[_nghost-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:m-reg;font-size:1.2rem;margin-bottom:.5rem}[_nghost-%COMP%]   button.primary-btn[_ngcontent-%COMP%]{width:100%;padding:1.2rem 0;font-size:1.5rem;margin-bottom:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%]   button.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}"]}),Ao),Ro=((Po=function(){function t(e){_classCallCheck(this,t),this.activatedRoute=e,this.userEmail=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.userEmail=this.activatedRoute.snapshot.queryParamMap.get("userEmail")}}]),t}()).\u0275fac=function(t){return new(t||Po)(r.Ib(Hr))},Po.\u0275cmp=r.Cb({type:Po,selectors:[["app-document-creation-success"]],decls:9,vars:1,consts:[["routerLink","/styles-selection",1,"primary-btn"]],template:function(t,e){1&t&&(r.Nb(0,"h1"),r.lc(1,"Thank You!"),r.Mb(),r.Nb(2,"p"),r.lc(3," We will send you pictures of your custom mug to "),r.Nb(4,"span"),r.lc(5),r.Mb(),r.lc(6," within a few hours.\n"),r.Mb(),r.Nb(7,"button",0),r.lc(8," Create More Custom Mugs\n"),r.Mb()),2&t&&(r.xb(5),r.mc(e.userEmail||"your provided email address"))},directives:[eo],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100%;background-color:#2b2d42;padding:2rem 1.5rem;box-sizing:border-box}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.3rem;color:#fff;font-family:ps-reg;font-weight:400;margin-bottom:1.5rem}[_nghost-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:m-reg;font-size:1.2rem;margin-bottom:.5rem}[_nghost-%COMP%] > p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:m-bold;color:inherit}[_nghost-%COMP%]   button.primary-btn[_ngcontent-%COMP%]{width:100%;padding:1.2rem 0;font-size:1.5rem;margin-bottom:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%]   button.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}"]}),Po);function Do(){return(Do=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var jo={init:function(){var t=this.params.thumbs;if(this.thumbs.initialized)return!1;this.thumbs.initialized=!0;var e=this.constructor;return t.swiper instanceof e?(this.thumbs.swiper=t.swiper,re(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),re(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):ne(t.swiper)&&(this.thumbs.swiper=new e(re({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0),this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass),this.thumbs.swiper.on("tap",this.thumbs.onThumbClick),!0},onThumbClick:function(){var t=this.thumbs.swiper;if(t){var e=t.clickedIndex,n=t.clickedSlide;if(!(n&&Zt(n).hasClass(this.params.thumbs.slideThumbActiveClass)||null==e)){var r;if(r=t.params.loop?parseInt(Zt(t.clickedSlide).attr("data-swiper-slide-index"),10):e,this.params.loop){var i=this.activeIndex;this.slides.eq(i).hasClass(this.params.slideDuplicateClass)&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,i=this.activeIndex);var o=this.slides.eq(i).prevAll('[data-swiper-slide-index="'+r+'"]').eq(0).index(),a=this.slides.eq(i).nextAll('[data-swiper-slide-index="'+r+'"]').eq(0).index();r=void 0===o?a:void 0===a?o:a-i<i-o?a:o}this.slideTo(r)}}},update:function(t){var e=this.thumbs.swiper;if(e){var n="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():e.params.slidesPerView,r=this.params.thumbs.autoScrollOffset,i=r&&!e.params.loop;if(this.realIndex!==e.realIndex||i){var o,a,s=e.activeIndex;if(e.params.loop){e.slides.eq(s).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,s=e.activeIndex);var u=e.slides.eq(s).prevAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index(),c=e.slides.eq(s).nextAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index();o=void 0===u?c:void 0===c?u:c-s==s-u?s:c-s<s-u?c:u,a=this.activeIndex>this.previousIndex?"next":"prev"}else a=(o=this.realIndex)>this.previousIndex?"next":"prev";i&&(o+="next"===a?r:-1*r),e.visibleSlidesIndexes&&e.visibleSlidesIndexes.indexOf(o)<0&&(e.params.centeredSlides?o=o>s?o-Math.floor(n/2)+1:o+Math.floor(n/2)-1:o>s&&(o=o-n+1),e.slideTo(o,t?0:void 0))}var l=1,h=this.params.thumbs.slideThumbActiveClass;if(this.params.slidesPerView>1&&!this.params.centeredSlides&&(l=this.params.slidesPerView),this.params.thumbs.multipleActiveThumbs||(l=1),l=Math.floor(l),e.slides.removeClass(h),e.params.loop||e.params.virtual&&e.params.virtual.enabled)for(var f=0;f<l;f+=1)e.$wrapperEl.children('[data-swiper-slide-index="'+(this.realIndex+f)+'"]').addClass(h);else for(var d=0;d<l;d+=1)e.slides.eq(this.realIndex+d).addClass(h)}}},Lo={name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){ie(this,{thumbs:Do({swiper:null,initialized:!1},jo)})},on:{beforeInit:function(t){var e=t.params.thumbs;e&&e.swiper&&(t.thumbs.init(),t.thumbs.update(!0))},slideChange:function(t){t.thumbs.swiper&&t.thumbs.update()},update:function(t){t.thumbs.swiper&&t.thumbs.update()},resize:function(t){t.thumbs.swiper&&t.thumbs.update()},observerUpdate:function(t){t.thumbs.swiper&&t.thumbs.update()},setTransition:function(t,e){var n=t.thumbs.swiper;n&&n.setTransition(e)},beforeDestroy:function(t){var e=t.thumbs.swiper;e&&t.thumbs.swiperCreated&&e&&e.destroy()}}};function Fo(){return(Fo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Uo={LinearSpline:function(t,e){var n,r,i,o,a;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(a=function(t,e){for(r=-1,n=t.length;n-r>1;)t[i=n+r>>1]<=e?r=i:n=i;return n}(this.x,t),(t-this.x[o=a-1])*(this.y[a]-this.y[o])/(this.x[a]-this.x[o])+this.y[o]):0},this},getInterpolateFunction:function(t){this.controller.spline||(this.controller.spline=this.params.loop?new Uo.LinearSpline(this.slidesGrid,t.slidesGrid):new Uo.LinearSpline(this.snapGrid,t.snapGrid))},setTranslate:function(t,e){var n,r,i=this,o=i.controller.control,a=i.constructor;function s(t){var e=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(t),r=-i.controller.spline.interpolate(-e)),r&&"container"!==i.params.controller.by||(n=(t.maxTranslate()-t.minTranslate())/(i.maxTranslate()-i.minTranslate()),r=(e-i.minTranslate())*n+t.minTranslate()),i.params.controller.inverse&&(r=t.maxTranslate()-r),t.updateProgress(r),t.setTranslate(r,i),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(o))for(var u=0;u<o.length;u+=1)o[u]!==e&&o[u]instanceof a&&s(o[u]);else o instanceof a&&e!==o&&s(o)},setTransition:function(t,e){var n,r=this,i=r.constructor,o=r.controller.control;function a(e){e.setTransition(t,r),0!==t&&(e.transitionStart(),e.params.autoHeight&&te((function(){e.updateAutoHeight()})),e.$wrapperEl.transitionEnd((function(){o&&(e.params.loop&&"slide"===r.params.controller.by&&e.loopFix(),e.transitionEnd())})))}if(Array.isArray(o))for(n=0;n<o.length;n+=1)o[n]!==e&&o[n]instanceof i&&a(o[n]);else o instanceof i&&e!==o&&a(o)}},Vo={name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){ie(this,{controller:Fo({control:this.params.controller.control},Uo)})},on:{update:function(t){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)},resize:function(t){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)},observerUpdate:function(t){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)},setTranslate:function(t,e,n){t.controller.control&&t.controller.setTranslate(e,n)},setTransition:function(t,e,n){t.controller.control&&t.controller.setTransition(e,n)}}};function qo(){return(qo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var zo={run:function(){var t=this,e=t.slides.eq(t.activeIndex),n=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(n=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(t.autoplay.timeout),t.autoplay.timeout=te((function(){var e;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),e=t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(e=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(e=t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),e=t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(e=t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(e=t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")),(t.params.cssMode&&t.autoplay.running||!1===e)&&t.autoplay.run()}),n)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(t){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,0!==t&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))},onVisibilityChange:function(){var t=Dt();"hidden"===t.visibilityState&&this.autoplay.running&&this.autoplay.pause(),"visible"===t.visibilityState&&this.autoplay.paused&&(this.autoplay.run(),this.autoplay.paused=!1)},onTransitionEnd:function(t){this&&!this.destroyed&&this.$wrapperEl&&t.target===this.$wrapperEl[0]&&(this.$wrapperEl[0].removeEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].removeEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd),this.autoplay.paused=!1,this.autoplay.running?this.autoplay.run():this.autoplay.stop())}},Bo={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){ie(this,{autoplay:qo({},zo,{running:!1,paused:!1})})},on:{init:function(t){t.params.autoplay.enabled&&(t.autoplay.start(),Dt().addEventListener("visibilitychange",t.autoplay.onVisibilityChange))},beforeTransitionStart:function(t,e,n){t.autoplay.running&&(n||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(e):t.autoplay.stop())},sliderFirstMove:function(t){t.autoplay.running&&(t.params.autoplay.disableOnInteraction?t.autoplay.stop():t.autoplay.pause())},touchEnd:function(t){t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&t.autoplay.run()},destroy:function(t){t.autoplay.running&&t.autoplay.stop(),Dt().removeEventListener("visibilitychange",t.autoplay.onVisibilityChange)}}};function Ho(){return(Ho=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Go={setTranslate:function(){var t,e=this.$el,n=this.$wrapperEl,r=this.slides,i=this.width,o=this.height,a=this.rtlTranslate,s=this.size,u=this.browser,c=this.params.cubeEffect,l=this.isHorizontal(),h=this.virtual&&this.params.virtual.enabled,f=0;c.shadow&&(l?(0===(t=n.find(".swiper-cube-shadow")).length&&(t=Zt('<div class="swiper-cube-shadow"></div>'),n.append(t)),t.css({height:i+"px"})):0===(t=e.find(".swiper-cube-shadow")).length&&(t=Zt('<div class="swiper-cube-shadow"></div>'),e.append(t)));for(var d=0;d<r.length;d+=1){var p=r.eq(d),v=d;h&&(v=parseInt(p.attr("data-swiper-slide-index"),10));var g=90*v,y=Math.floor(g/360);a&&(g=-g,y=Math.floor(-g/360));var m=Math.max(Math.min(p[0].progress,1),-1),b=0,_=0,w=0;if(v%4==0?(b=4*-y*s,w=0):(v-1)%4==0?(b=0,w=4*-y*s):(v-2)%4==0?(b=s+4*y*s,w=s):(v-3)%4==0&&(b=-s,w=3*s+4*s*y),a&&(b=-b),l||(_=b,b=0),m<=1&&m>-1&&(f=90*v+90*m,a&&(f=90*-v-90*m)),p.transform("rotateX("+(l?0:-g)+"deg) rotateY("+(l?g:0)+"deg) translate3d("+b+"px, "+_+"px, "+w+"px)"),c.slideShadows){var C=p.find(l?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),k=p.find(l?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===C.length&&(C=Zt('<div class="swiper-slide-shadow-'+(l?"left":"top")+'"></div>'),p.append(C)),0===k.length&&(k=Zt('<div class="swiper-slide-shadow-'+(l?"right":"bottom")+'"></div>'),p.append(k)),C.length&&(C[0].style.opacity=Math.max(-m,0)),k.length&&(k[0].style.opacity=Math.max(m,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -"+s/2+"px","-moz-transform-origin":"50% 50% -"+s/2+"px","-ms-transform-origin":"50% 50% -"+s/2+"px","transform-origin":"50% 50% -"+s/2+"px"}),c.shadow)if(l)t.transform("translate3d(0px, "+(i/2+c.shadowOffset)+"px, "+-i/2+"px) rotateX(90deg) rotateZ(0deg) scale("+c.shadowScale+")");else{var S=Math.abs(f)-90*Math.floor(Math.abs(f)/90),T=1.5-(Math.sin(2*S*Math.PI/360)/2+Math.cos(2*S*Math.PI/360)/2),E=c.shadowScale/T;t.transform("scale3d("+c.shadowScale+", 1, "+E+") translate3d(0px, "+(o/2+c.shadowOffset)+"px, "+-o/2/E+"px) rotateX(-90deg)")}n.transform("translate3d(0px,0,"+(u.isSafari||u.isWebView?-s/2:0)+"px) rotateX("+(this.isHorizontal()?0:f)+"deg) rotateY("+(this.isHorizontal()?-f:0)+"deg)")},setTransition:function(t){var e=this.$el;this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),this.params.cubeEffect.shadow&&!this.isHorizontal()&&e.find(".swiper-cube-shadow").transition(t)}};Te.use([Lo,Vo,Bo,{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){ie(this,{cubeEffect:Ho({},Go)})},on:{beforeInit:function(t){if("cube"===t.params.effect){t.classNames.push(t.params.containerModifierClass+"cube"),t.classNames.push(t.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};re(t.params,e),re(t.originalParams,e)}},setTranslate:function(t){"cube"===t.params.effect&&t.cubeEffect.setTranslate()},setTransition:function(t,e){"cube"===t.params.effect&&t.cubeEffect.setTransition(e)}}}]);var Wo,Ko,Qo,Yo,Xo=((Qo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){this.initHeroSwiper()}},{key:"initHeroSwiper",value:function(){new Te(".swiper-hero",{slidesPerView:1,autoplay:{delay:4e3}})}}]),t}()).\u0275fac=function(t){return new(t||Qo)},Qo.\u0275cmp=r.Cb({type:Qo,selectors:[["app-hero"]],decls:15,vars:0,consts:[[1,"container"],[1,"hero-box"],[1,"background"],["src","/assets/images/transparent_mug_mockup.png","alt","",1,"shadowed-img"],[1,"button-wrapper"],["routerLink","/styles-selection",1,"primary-btn"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"h1"),r.lc(4," artistic, "),r.Jb(5,"br"),r.Nb(6,"span"),r.Jb(7,"div"),r.lc(8," custom,"),r.Mb(),r.Jb(9,"br"),r.lc(10," & unique. "),r.Mb(),r.Jb(11,"img",3),r.Mb(),r.Mb(),r.Nb(12,"div",4),r.Nb(13,"button",5),r.lc(14," Choose Art-Style "),r.Mb(),r.Mb(),r.Mb())},directives:[eo],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;box-sizing:border-box;padding-bottom:0;padding-top:0;justify-content:space-evenly;max-width:700px;margin-left:auto;margin-right:auto}.header[_ngcontent-%COMP%]{font-family:m-bold;font-size:3rem;text-align:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-box[_ngcontent-%COMP%]{width:100%}.hero-box[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{overflow:hidden;border-radius:64px;height:100%;width:100%;bottom:0;box-shadow:0 5px 20px rgba(75,76,115,.4117647058823529);background:#3d4062;background:linear-gradient(149deg,#3d4062,#161835 100%,#141633 0,#141633 0)}.hero-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-family:m-bold;padding-left:3rem;padding-top:3rem;font-size:3rem}.hero-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#ef233c;color:#fff;font-family:m-bold;box-sizing:border-box;position:relative;padding-right:1.2rem;border-radius:0 20px 20px 0}.hero-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;left:-3rem;background-color:#ef233c;width:3rem;height:100%}.hero-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transform:translateY(4%)}.swiper-hero[_ngcontent-%COMP%]{width:100%;box-shadow:0 5px 20px rgba(75,76,115,.4117647058823529);border-radius:64px;padding:40px;box-sizing:border-box}.swiper-hero[_ngcontent-%COMP%]   .swiper-slide.blue-background[_ngcontent-%COMP%]{background:#3d4062;background:linear-gradient(149deg,#3d4062,#161835 100%,#141633 0,#141633 0);position:relative;overflow:unset}.swiper-hero[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   img#person-mockup[_ngcontent-%COMP%]{height:calc(100% + 50px);transform:translateY(-50px)}.swiper-hero[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   img#cat-mockup[_ngcontent-%COMP%]{height:100%}.primary-btn[_ngcontent-%COMP%]{font-size:2rem;padding-top:1.2rem;padding-bottom:1.2rem}"]}),Qo),Jo=((Ko=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ko)},Ko.\u0275cmp=r.Cb({type:Ko,selectors:[["app-how-it-works"]],decls:26,vars:0,consts:[[1,"step"],["src","/assets/icons/dog_photo.svg","alt",""],["src","/assets/icons/thumbs_up.svg","alt",""],["src","/assets/icons/bag.svg","alt",""]],template:function(t,e){1&t&&(r.Nb(0,"h2"),r.lc(1,"How it works"),r.Mb(),r.Nb(2,"div",0),r.Jb(3,"img",1),r.Nb(4,"h3"),r.lc(5,"Upload Photo"),r.Mb(),r.Nb(6,"p"),r.lc(7," A well lit pet photo will work best"),r.Jb(8,"br"),r.lc(9," Blurry photos don't work well "),r.Mb(),r.Mb(),r.Nb(10,"div",0),r.Jb(11,"img",2),r.Nb(12,"h3"),r.lc(13,"Approve Art"),r.Mb(),r.Nb(14,"p"),r.lc(15," In about one day"),r.Jb(16,"br"),r.lc(17," you can approve your art "),r.Mb(),r.Mb(),r.Nb(18,"div",0),r.Jb(19,"img",3),r.Nb(20,"h3"),r.lc(21,"Order If You Like It"),r.Mb(),r.Nb(22,"p"),r.lc(23," Once you approved the art,"),r.Jb(24,"br"),r.lc(25," order your product "),r.Mb(),r.Mb())},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}h2[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem;text-align:center;font-family:m-bold;color:#2b2d42;font-size:2.5rem}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:6rem}.step[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.step[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40%;margin-bottom:1.5rem}.step[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:m-bold;font-size:1.5rem;margin-bottom:.5rem}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}"]}),Ko),$o=((Wo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Wo)},Wo.\u0275cmp=r.Cb({type:Wo,selectors:[["app-home"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Jb(0,"app-hero"),r.Jb(1,"app-how-it-works"))},directives:[Xo,Jo],styles:[""]}),Wo),Zo=[{id:"546d376f89e9f39e",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/newspaper.jpg",name:"Newspaper"},{id:"bd08a8f3025c3b93",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/sprinkle.jpg",name:"Sprinkle"},{id:"56d9a4de476a54bd",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/modern_strokes.jpg",name:"Modern Strokes"},{id:"669611e3d06fc96e",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/abstract.jpg",name:"Abstract"},{id:"6b2a7f5cbc459bad",publicUrl:"https://storage.googleapis.com/petai-validation.appspot.com/v2/style-images/blue_monsoon.jpg",name:"Blue Monsoon"}],ta=((Yo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"clearState",value:function(){this.state=void 0}}]),t}()).\u0275fac=function(t){return new(t||Yo)},Yo.\u0275prov=r.Eb({token:Yo,factory:Yo.\u0275fac,providedIn:"root"}),Yo);Te.use([Lo,Vo]);var ea,na=((ea=function(){function t(){_classCallCheck(this,t),this.isDescriptionActive=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.initDescriptionSwiper()}},{key:"initDescriptionSwiper",value:function(){this.descriptionSwiper=new Te(".swiper-product-info",{slidesPerView:1,allowTouchMove:!1})}},{key:"toggleTo",value:function(t){this.isDescriptionActive=0==t,this.descriptionSwiper.slideTo(t)}}]),t}()).\u0275fac=function(t){return new(t||ea)},ea.\u0275cmp=r.Cb({type:ea,selectors:[["app-description-swiper"]],decls:36,vars:4,consts:[[1,"toggle"],[3,"click"],[1,"swiper-container","swiper-product-info"],[1,"swiper-wrapper"],[1,"container","swiper-slide","description"],[2,"margin-bottom","2rem"],[1,"container","swiper-slide","shipping"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"h4",1),r.Tb("click",(function(){return e.toggleTo(0)})),r.lc(2," Description "),r.Mb(),r.Nb(3,"h4",1),r.Tb("click",(function(){return e.toggleTo(1)})),r.lc(4,"Shipping"),r.Mb(),r.Mb(),r.Nb(5,"div",2),r.Nb(6,"div",3),r.Nb(7,"div",4),r.Nb(8,"h2"),r.lc(9,"Do you like our work on your photo?"),r.Mb(),r.Nb(10,"p"),r.lc(11," \ud83d\udc3e Is your pet one of a kind? If so, they deserve a one of a kind piece of art. "),r.Mb(),r.Nb(12,"p"),r.lc(13," \ud83c\udf81 It is the pawfect gift or memorial for your little buddy! It's creative & unique! "),r.Mb(),r.Nb(14,"p"),r.lc(15," \ud83e\udd16 Your Image is created by our AI-Artists and who can say they have their pet painted by artificial intelligence? What a great conversation starter! "),r.Mb(),r.Nb(16,"p",5),r.lc(17," \ud83c\udfa8 Our artists can create a high resolution version of your artwork and if you want - we can even print it for you! "),r.Mb(),r.Nb(18,"h2"),r.lc(19,"Digital File (Premium Version)"),r.Mb(),r.Nb(20,"p"),r.lc(21," \ud83e\udd16 To get the most out of your picture our ai will put hours into the perfection of your artwork! "),r.Mb(),r.Nb(22,"p",5),r.lc(23," \u2728 When it is finished you will get a 2160px digital image sent to your e-mail. You could use it as a desktop or phone background or print and frame it! "),r.Mb(),r.Nb(24,"h2"),r.lc(25,"High Quality Artwork"),r.Mb(),r.Nb(26,"p"),r.lc(27," \ud83d\udda8\ufe0f Let us professionally print and ship you the artwork from one of our partners "),r.Mb(),r.Nb(28,"p"),r.lc(29,"\ud83d\udcd0 The artwork will be 30x45cm in size"),r.Mb(),r.Nb(30,"p"),r.lc(31," \ud83d\uddbc\ufe0f Museum-quality poster made on long-lasting semi-glossy (silk) paper "),r.Mb(),r.Nb(32,"p"),r.lc(33," \u2714\ufe0f The digital premium version is inclusive and will be send to your e-mail "),r.Mb(),r.Mb(),r.Nb(34,"div",6),r.lc(35," sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. "),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.xb(1),r.Ab("active",e.isDescriptionActive),r.xb(2),r.Ab("active",!e.isDescriptionActive))},styles:["[_nghost-%COMP%]{background-color:#fff}.toggle[_ngcontent-%COMP%]{padding-top:6rem;display:flex;justify-content:space-around;padding-bottom:2rem}.toggle[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:m-bold;font-size:1.6rem;padding-bottom:.5rem;color:#2b2d42}.toggle[_ngcontent-%COMP%]   h4.active[_ngcontent-%COMP%]{border-bottom:2px solid #ef233c}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{box-sizing:border-box;padding-top:1.5rem}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2b2d42;margin-bottom:1rem}.swiper-product-info[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2b2d42;font-size:1.3rem;margin-bottom:1rem}"]}),ea);Te.use([Lo,Vo,Bo]);var ra,ia=((ra=function(){function t(e,n,r){_classCallCheck(this,t),this.routerStateService=e,this.router=n,this.activatedRoute=r}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.activatedRoute.snapshot.queryParamMap.get("styleImageId");if(t){var e=Zo.find((function(e){return e.id===t}));e?(this.selectedStyleImage=e,this.initPreviewSwiper()):this.router.navigateByUrl("/styles-selection")}else this.router.navigateByUrl("/styles-selection")}},{key:"initPreviewSwiper",value:function(){new Te(".swiper-preview",{slidesPerView:1,autoplay:{delay:4e3}})}},{key:"onSubmitForm",value:function(t){t.preventDefault(),this.routerStateService.state={petName:this.petName,petBirthMonth:this.petBirthMonth,selectedFile:this.selectedFile},this.router.navigate(["summary"],{queryParamsHandling:"preserve"})}}]),t}()).\u0275fac=function(t){return new(t||ra)(r.Ib(ta),r.Ib(to),r.Ib(Hr))},ra.\u0275cmp=r.Cb({type:ra,selectors:[["app-product-detail"]],decls:44,vars:4,consts:[[1,"back-arrow-container"],["routerLink","/styles-selection"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 12l9-8v6h15v4h-15v6z"],[1,"swiper-container","swiper-preview"],[1,"swiper-wrapper"],[1,"swiper-slide"],[1,"square-ratio"],["src","/assets/images/pacho_sprinkle_preview_transparent.png","alt","",1,"transparent-background"],["src","/assets/images/lola_mockup.png","alt","",1,"shadowed-img"],[1,"header","container"],[1,"title-price"],[1,"product-title"],[1,"price"],[1,"style-price"],[1,"art-style"],["ngNativeValidate","",1,"personalisation-form","container",3,"submit"],[1,"form-group"],["for","pet-name"],["type","text","id","pet-name",3,"keyup"],["for","pet-birth-month"],["type","text","id","pet-birth-month",3,"keyup"],["for","pet-picture"],[1,"custom-file-input"],["type","file","id","pet-picture","accept","image/*","required","",3,"change"],["type","submit",1,"primary-btn"],[1,"description"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"a",1),r.Wb(),r.Nb(2,"svg",2),r.Jb(3,"path",3),r.Mb(),r.Mb(),r.Mb(),r.Vb(),r.Nb(4,"div",4),r.Nb(5,"div",5),r.Nb(6,"div",6),r.Nb(7,"div",7),r.Jb(8,"img",8),r.Mb(),r.Mb(),r.Nb(9,"div",6),r.Nb(10,"div",7),r.Jb(11,"img",9),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(12,"div",10),r.Nb(13,"div",11),r.Nb(14,"h2",12),r.lc(15,"Custom Mug"),r.Mb(),r.Nb(16,"p",13),r.lc(17,"29.99\u20ac"),r.Mb(),r.Mb(),r.Nb(18,"div",14),r.Nb(19,"h3",15),r.lc(20),r.Mb(),r.Mb(),r.Mb(),r.Nb(21,"form",16),r.Tb("submit",(function(t){return e.onSubmitForm(t)})),r.Nb(22,"h2"),r.lc(23,"Personalisation"),r.Mb(),r.Nb(24,"div",17),r.Nb(25,"label",18),r.lc(26,"Pet name (optional)"),r.Mb(),r.Nb(27,"input",19),r.Tb("keyup",(function(t){return e.petName=t.target.value})),r.Mb(),r.Mb(),r.Nb(28,"div",17),r.Nb(29,"label",20),r.lc(30,"Pet birthmonth (optional)"),r.Mb(),r.Nb(31,"input",21),r.Tb("keyup",(function(t){return e.petBirthMonth=t.target.value})),r.Mb(),r.Mb(),r.Nb(32,"div",17),r.Nb(33,"label",22),r.lc(34,"Pet picture"),r.Mb(),r.Nb(35,"div",23),r.Nb(36,"p"),r.lc(37),r.Mb(),r.Nb(38,"button"),r.lc(39,"Upload Pet Photo"),r.Mb(),r.Mb(),r.Nb(40,"input",24),r.Tb("change",(function(t){return e.selectedFile=t.target.files[0]})),r.Mb(),r.Mb(),r.Nb(41,"button",25),r.lc(42," Create My Art "),r.Mb(),r.Mb(),r.Jb(43,"app-description-swiper",26)),2&t&&(r.xb(20),r.nc("",null==e.selectedStyleImage?null:e.selectedStyleImage.name," Style"),r.xb(17),r.mc(null==e.selectedFile?null:e.selectedFile.name),r.xb(4),r.Ab("disabled",!e.selectedFile))},directives:[no,na],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}div.back-arrow-container[_ngcontent-%COMP%]{position:absolute;top:2rem;left:2rem;z-index:2}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;padding:.5rem}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;filter:drop-shadow(0 0 5px #1a1a1a)}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#fff}.swiper-preview[_ngcontent-%COMP%]{width:100%;box-shadow:0 5px 20px rgba(75,76,115,.4117647058823529);background:#3d4062;background:linear-gradient(149deg,#3d4062,#161835 100%,#141633 0,#141633 0)}.swiper-preview[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{box-sizing:border-box}.swiper-preview[_ngcontent-%COMP%]   .square-ratio[_ngcontent-%COMP%]{padding-top:calc(100% + 40px)}.swiper-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;-o-object-fit:cover;object-fit:cover;margin:auto}.swiper-preview[_ngcontent-%COMP%]   img.transparent-background[_ngcontent-%COMP%]{width:80%;-o-object-fit:contain;object-fit:contain}.header[_ngcontent-%COMP%]{position:relative;z-index:10;border-radius:40px 40px 0 0;background-color:#fff;transform:translateY(-40px);padding-bottom:0}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:.5rem}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]   h2.product-title[_ngcontent-%COMP%]{font-family:pf-reg;font-weight:400;font-size:2.4rem}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:1.8rem;letter-spacing:1.9px;font-family:m-light}.header[_ngcontent-%COMP%]   .title-price[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.header[_ngcontent-%COMP%]   h3.art-style[_ngcontent-%COMP%]{font-family:m-bold;font-size:1.6rem}form.personalisation-form[_ngcontent-%COMP%]{border-radius:0;background-color:#2b2d42;padding-bottom:1rem;position:relative}form.personalisation-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:pf-reg;color:#fff;font-weight:400;margin-bottom:2rem;font-size:1.7rem}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1.6rem;position:relative}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-size:1rem;margin-bottom:.8rem}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%], form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:42px;border:none;outline:none;border-radius:10px;padding-left:1.5rem;padding-right:1.5rem;color:#fff;background-color:#585b7e}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[type=file][_ngcontent-%COMP%], form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;padding-right:0}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}form.personalisation-form[_ngcontent-%COMP%]   div.form-group[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#2b2d42;outline:none;color:#fff;border:1px solid #fff;height:100%;width:calc(50% + .725rem);border-radius:10px}.primary-btn[_ngcontent-%COMP%]{width:100%;padding-top:1.2rem;padding-bottom:1.2rem;font-size:1.5rem;margin-left:auto;margin-right:auto;margin-bottom:3rem;transition:opacity .25s ease-in-out}.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}.transition-radius[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:40px;border-radius:40px 40px 0 0;background-color:#585b7e;width:100%}"]}),ra),oa=function(t){return{styleImageId:t}};function aa(t,e){if(1&t&&(r.Nb(0,"div",7),r.Nb(1,"div",8),r.Jb(2,"img",9),r.Mb(),r.Nb(3,"h3",10),r.lc(4),r.Mb(),r.Mb()),2&t){var n=e.$implicit;r.xb(1),r.cc("queryParams",r.dc(3,oa,n.id)),r.xb(1),r.cc("src",n.publicUrl,r.gc),r.xb(2),r.mc(n.name)}}var sa,ua,ca=((sa=function(){function t(){_classCallCheck(this,t),this.styleImages=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.styleImages=Zo}}]),t}()).\u0275fac=function(t){return new(t||sa)},sa.\u0275cmp=r.Cb({type:sa,selectors:[["app-style-selection"]],decls:10,vars:1,consts:[[1,"back-arrow-container"],["routerLink","/"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 12l9-8v6h15v4h-15v6z"],[1,"container"],[1,"grid"],["class","style",4,"ngFor","ngForOf"],[1,"style"],["routerLink","/product-detail",1,"square-ratio",3,"queryParams"],["alt","",3,"src"],[1,"style-title"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"a",1),r.Wb(),r.Nb(2,"svg",2),r.Jb(3,"path",3),r.Mb(),r.Mb(),r.Mb(),r.Vb(),r.Nb(4,"header"),r.Nb(5,"h1"),r.lc(6,"Select A Style"),r.Mb(),r.Mb(),r.Nb(7,"div",4),r.Nb(8,"div",5),r.jc(9,aa,5,5,"div",6),r.Mb(),r.Mb()),2&t&&(r.xb(9),r.cc("ngForOf",e.styleImages))},directives:[no,U,eo],styles:["div.back-arrow-container[_ngcontent-%COMP%]{position:fixed;top:2rem;left:2rem;z-index:2}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;padding:.5rem}div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block}header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1;width:100%;display:flex;justify-content:center;background-color:#fff}header[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-family:m-bold;font-size:2rem;line-height:2rem;padding:calc(1.5rem + 12px)}div.container[_ngcontent-%COMP%]{padding-top:calc(5rem + 24px)}.header[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center;justify-content:center;position:relative;padding-top:1rem;padding-bottom:1rem;margin-bottom:2rem;position:sticky;top:0}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.grid[_ngcontent-%COMP%]   div.style[_ngcontent-%COMP%]{position:relative}.grid[_ngcontent-%COMP%]   div.style[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:40px;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:bottom;object-position:bottom}.grid[_ngcontent-%COMP%]   div.style[_ngcontent-%COMP%]   h3.style-title[_ngcontent-%COMP%]{height:auto;color:#2b2d42;text-align:center;bottom:0;padding-top:1rem;padding-bottom:.5rem;width:100%;border-radius:30px;font-family:m-bold;font-weight:400}"]}),sa);function la(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(L_){o(L_)}}function s(t){try{u(r.throw(t))}catch(L_){o(L_)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}var ha=new Uint8Array(16);function fa(){if(!ua&&!(ua="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ua(ha)}for(var da=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pa=function(t){return"string"==typeof t&&da.test(t)},va=[],ga=0;ga<256;++ga)va.push((ga+256).toString(16).substr(1));var ya=function(t,e,n){var r=(t=t||{}).random||(t.rng||fa)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(va[t[e+0]]+va[t[e+1]]+va[t[e+2]]+va[t[e+3]]+"-"+va[t[e+4]]+va[t[e+5]]+"-"+va[t[e+6]]+va[t[e+7]]+"-"+va[t[e+8]]+va[t[e+9]]+"-"+va[t[e+10]]+va[t[e+11]]+va[t[e+12]]+va[t[e+13]]+va[t[e+14]]+va[t[e+15]]).toLowerCase();if(!pa(n))throw TypeError("Stringified UUID is invalid");return n}(r)},ma=n("Jgta"),ba=n("D0XW");function _a(){return function(t){return t.lift(new wa)}}var wa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ca(t))}}]),t}(),Ca=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Ke.a);function ka(t,e){return function(n){return n.lift(new Sa(t,e))}}var Sa=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ta(t,this.compare,this.keySelector))}}]),t}(),Ta=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Ke.a),Ea=n("pxpQ"),Oa=n("spgP"),xa=n("zIRd"),Ia=n("qOnz"),Pa=n("q/0M"),Aa=function(t,e){return(Aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ma(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Na,Ra="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Da=Da||{},ja=Ra||self;function La(){}function Fa(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ua(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Va="closure_uid_"+(1e9*Math.random()>>>0),qa=0;function za(t,e,n){return t.call.apply(t.bind,arguments)}function Ba(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ha(t,e,n){return(Ha=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Ba).apply(null,arguments)}function Ga(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Wa(){return Date.now()}function Ka(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Qa(){this.j=this.j,this.i=this.i}Qa.prototype.j=!1,Qa.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Va)&&t[Va]||(t[Va]=++qa)}(this)},Qa.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ya=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xa=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ja(t){return Array.prototype.concat.apply([],arguments)}function $a(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Za(t){return/^[\s\xa0]*$/.test(t)}var ts,es=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ns(t,e){return-1!=t.indexOf(e)}function rs(t,e){return t<e?-1:t>e?1:0}t:{var is=ja.navigator;if(is){var os=is.userAgent;if(os){ts=os;break t}}ts=""}function as(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ss(t){var e={};for(var n in t)e[n]=t[n];return e}var us="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<us.length;o++)n=us[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ls(t){return ls[" "](t),t}ls[" "]=La;var hs,fs,ds=ns(ts,"Opera"),ps=ns(ts,"Trident")||ns(ts,"MSIE"),vs=ns(ts,"Edge"),gs=vs||ps,ys=ns(ts,"Gecko")&&!(ns(ts.toLowerCase(),"webkit")&&!ns(ts,"Edge"))&&!(ns(ts,"Trident")||ns(ts,"MSIE"))&&!ns(ts,"Edge"),ms=ns(ts.toLowerCase(),"webkit")&&!ns(ts,"Edge");function bs(){var t=ja.document;return t?t.documentMode:void 0}t:{var _s="",ws=(fs=ts,ys?/rv:([^\);]+)(\)|;)/.exec(fs):vs?/Edge\/([\d\.]+)/.exec(fs):ps?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(fs):ms?/WebKit\/(\S+)/.exec(fs):ds?/(?:Version)[ \/]?(\S+)/.exec(fs):void 0);if(ws&&(_s=ws?ws[1]:""),ps){var Cs=bs();if(null!=Cs&&Cs>parseFloat(_s)){hs=String(Cs);break t}}hs=_s}var ks={};function Ss(t){return function(t,e){var n=ks;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=es(String(hs)).split("."),r=es(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=rs(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||rs(0==a[2].length,0==s[2].length)||rs(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var Ts=ja.document&&ps&&(bs()||parseInt(hs,10))||void 0,Es=!ps||9<=Number(Ts),Os=ps&&!Ss("9"),xs=function(){if(!ja.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ja.addEventListener("test",La,e),ja.removeEventListener("test",La,e)}catch(n){}return t}();function Is(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ps(t,e){if(Is.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ys){t:{try{ls(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:As[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Is.prototype.b=function(){this.defaultPrevented=!0},Ka(Ps,Is);var As={2:"touch",3:"pen",4:"mouse"};Ps.prototype.b=function(){Ps.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Os)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ms="closure_listenable_"+(1e6*Math.random()|0),Ns=0;function Rs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ns,this.Y=this.Z=!1}function Ds(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function js(t){this.src=t,this.a={},this.b=0}function Ls(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ya(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ds(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Fs(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}js.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Fs(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Rs(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Us="closure_lm_"+(1e6*Math.random()|0),Vs={};function qs(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Ys(r),e&&e[Ms]?e.wa(n,r,Ua(i)?!!i.capture:!!i,o):zs(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)qs(t,e[o],n,r,i);return null}return n=Ys(n),t&&t[Ms]?t.va(e,n,Ua(r)?!!r.capture:!!r,i):zs(t,e,n,!1,r,i)}function zs(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Ua(i)?!!i.capture:!!i;if(a&&!Es)return null;var s=Ks(t);if(s||(t[Us]=s=new js(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Ws,e=Es?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)xs||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Hs(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Bs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ms])Ls(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Hs(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ks(e))?(Ls(n,t),0==n.b&&(n.src=null,e[Us]=null)):Ds(t)}}}function Hs(t){return t in Vs?Vs[t]:Vs[t]="on"+t}function Gs(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Bs(t),n.call(r,e)}function Ws(t,e){if(t.Y)return!0;if(!Es){if(!e)t:{e=["window","event"];for(var n=ja,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Gs(t,e=new Ps(e,this))}return Gs(t,new Ps(e,this))}function Ks(t){return(t=t[Us])instanceof js?t:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ys(t){return"function"==typeof t?t:(t[Qs]||(t[Qs]=function(e){return t.handleEvent(e)}),t[Qs])}function Xs(){Qa.call(this),this.c=new js(this),this.J=this,this.C=null}function Js(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Is(e,t);else if(e instanceof Is)e.target=e.target||t;else{var i=e;cs(e=new Is(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=$s(a,r,!0,e)&&i}if(i=$s(a=e.a=t,r,!0,e)&&i,i=$s(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=$s(a=e.a=n[o],r,!1,e)&&i}function $s(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Ls(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ka(Xs,Qa),Xs.prototype[Ms]=!0,(Na=Xs.prototype).addEventListener=function(t,e,n,r){qs(this,t,e,n,r)},Na.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=Ua(i)?!!i.capture:!!i,r=Ys(r),e&&e[Ms]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Fs(a=e.a[n],r,i,o))&&(Ds(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=Ks(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Fs(n,r,i,o)),(r=-1<e?n[e]:null)&&Bs(r))}(this,t,e,n,r)},Na.G=function(){if(Xs.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ds(n[r]);delete e.a[t],e.b--}}this.C=null},Na.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Na.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Zs=ja.JSON.stringify;function tu(){this.b=this.a=null}var eu,nu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new iu}),(function(t){t.reset()}));function ru(){var t=uu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function iu(){this.next=this.b=this.a=null}function ou(t){ja.setTimeout((function(){throw t}),0)}function au(t,e){eu||function(){var t=ja.Promise.resolve(void 0);eu=function(){t.then(cu)}}(),su||(eu(),su=!0),uu.add(t,e)}tu.prototype.add=function(t,e){var n=nu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},iu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},iu.prototype.reset=function(){this.next=this.b=this.a=null};var su=!1,uu=new tu;function cu(){for(var t;t=ru();){try{t.a.call(t.b)}catch(n){ou(n)}var e=nu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}su=!1}function lu(t,e){Xs.call(this),this.b=t||1,this.a=e||ja,this.f=Ha(this.Za,this),this.g=Wa()}function hu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function fu(t,e,n){if("function"==typeof t)n&&(t=Ha(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ha(t.handleEvent,t)}return 2147483647<Number(e)?-1:ja.setTimeout(t,e||0)}function du(t){t.a=fu((function(){t.a=null,t.c&&(t.c=!1,du(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ka(lu,Xs),(Na=lu.prototype).aa=!1,Na.M=null,Na.Za=function(){if(this.aa){var t=Wa()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Js(this,"tick"),this.aa&&(hu(this),this.start()))}},Na.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Wa())},Na.G=function(){lu.X.G.call(this),hu(this),delete this.a};var pu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Aa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:du(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ja.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Qa);function vu(t){Qa.call(this),this.b=t,this.a={}}Ka(vu,Qa);var gu=[];function yu(t,e,n,r){Array.isArray(n)||(n&&(gu[0]=n.toString()),n=gu);for(var i=0;i<n.length;i++){var o=qs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function mu(t){as(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Bs(t)}),t),t.a={}}function bu(){this.a=!0}function _u(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Zs(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}vu.prototype.G=function(){vu.X.G.call(this),mu(this)},vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bu.prototype.info=function(){};var wu={},Cu=null;function ku(){return Cu=Cu||new Xs}function Su(t){Is.call(this,wu.Fa,t)}function Tu(t){var e=ku();Js(e,new Su(e,t))}function Eu(t,e){Is.call(this,wu.STAT_EVENT,t),this.stat=e}function Ou(t){var e=ku();Js(e,new Eu(e,t))}function xu(t){Is.call(this,wu.Ga,t)}function Iu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ja.setTimeout((function(){t()}),e)}wu.Fa="serverreachability",Ka(Su,Is),wu.STAT_EVENT="statevent",Ka(Eu,Is),wu.Ga="timingevent",Ka(xu,Is);var Pu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Au={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Mu(){}function Nu(){}Mu.prototype.a=null;var Ru,Du={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ju(){Is.call(this,"d")}function Lu(){Is.call(this,"c")}function Fu(){}function Uu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new vu(this),this.P=Vu,this.R=new lu(t=gs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ka(ju,Is),Ka(Lu,Is),Ka(Fu,Mu),Ru=new Fu;var Vu=45e3,qu={},zu={};function Bu(t,e,n){t.H=1,t.i=hc(oc(e)),t.j=n,t.I=!0,Hu(t,null)}function Hu(t,e){t.u=Wa(),Ku(t),t.l=oc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Sc(n.b,"t",r),t.D=0,t.a=ml(t.g,t.g.C?e:null),0<t.O&&(t.F=new pu(Ha(t.Ca,t,t.a),t.O)),yu(t.J,t.a,"readystatechange",t.Xa),e=t.B?ss(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Tu(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Gu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Wu(t,n);if(i==zu){4==e&&(t.h=4,Ou(14),r=!1),_u(t.c,t.f,null,"[Incomplete Response]");break}if(i==qu){t.h=4,Ou(15),_u(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}_u(t.c,t.f,i,null),$u(t,i)}4==e&&0==n.length&&(t.h=1,Ou(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ll(e),e.F=!0,Ou(11))):(_u(t.c,t.f,n,"[Invalid Chunked Response]"),Ju(t),Xu(t))}function Wu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?zu:(n=Number(e.substring(n,r)),isNaN(n)?qu:(r+=1)+n>e.length?zu:(e=e.substr(r,n),t.D=r+n,e))}function Ku(t){t.T=Wa()+t.P,Qu(t,t.P)}function Qu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Iu(Ha(t.Va,t),e)}function Yu(t){t.o&&(ja.clearTimeout(t.o),t.o=null)}function Xu(t){0==t.g.v||t.A||dl(t.g,t)}function Ju(t){Yu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,hu(t.R),mu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function $u(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ac(n.b,t)))if(n.I=t.N,!t.C&&Ac(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(n_){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;fl(n),el(n)}cl(n),Ou(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Iu(Ha(n.Sa,n),6e3));if(1>=Pc(n.b)&&n.ea){try{n.ea()}catch(n_){}n.ea=void 0}}else vl(n,11)}else if((t.C||n.a==t)&&fl(n),!Za(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ns(l,"spdy")||ns(l,"quic")||ns(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Mc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,lc(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Wa()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=yl(u,u.C?u.ga:null,u.fa),d.C){Nc(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Yu(p),Ku(p)),u.a=d}else ul(u);0<n.g.length&&il(n)}else"stop"!=i[0]&&"close"!=i[0]||vl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?vl(n,7):tl(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Tu(4)}catch(n_){}}function Zu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fa(t)||"string"==typeof t)Xa(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Fa(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Fa(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function tc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof tc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ec(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];nc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)nc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function nc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Na=Uu.prototype).setTimeout=function(t){this.P=t},Na.Xa=function(t){t=t.target;var e=this.F;e&&3==Xc(t)?e.f():this.Ca(t)},Na.Ca=function(t){try{if(t==this.a)t:{var e=Xc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!gs&&!this.a.$())){this.A||4!=e||7==n||Tu(8==n||0>=r?3:2),Yu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Za(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Ou(12),Ju(this),Xu(this);break t}_u(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,$u(this,u)}this.I?(Gu(this,e,o),gs&&this.b&&3==e&&(yu(this.J,this.R,"tick",this.Wa),this.R.start())):(_u(this.c,this.f,o,null),$u(this,o)),4==e&&Ju(this),this.b&&!this.A&&(4==e?dl(this.g,this):(this.b=!1,Ku(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ou(12)):(this.h=0,Ou(13)),Ju(this),Xu(this)}}}catch(c){}},Na.Wa=function(){if(this.a){var t=Xc(this.a),e=this.a.$();this.D<e.length&&(Yu(this),Gu(this,t,e),this.b&&4!=t&&Ku(this))}},Na.cancel=function(){this.A=!0,Ju(this)},Na.Va=function(){this.o=null;var t=Wa();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Tu(3),Ou(17)),Ju(this),this.h=2,Xu(this)):Qu(this,this.T-t)},(Na=tc.prototype).K=function(){ec(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Na.L=function(){return ec(this),this.a.concat()},Na.get=function(t,e){return nc(this.b,t)?this.b[t]:e},Na.set=function(t,e){nc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Na.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var rc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ic(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ic){this.a=void 0!==e?e:t.a,ac(this,t.f),this.j=t.j,sc(this,t.c),uc(this,t.h),this.g=t.g,e=t.b;var n=new _c;n.c=e.c,e.a&&(n.a=new tc(e.a),n.b=e.b),cc(this,n),this.i=t.i}else t&&(n=String(t).match(rc))?(this.a=!!e,ac(this,n[1]||"",!0),this.j=fc(n[2]||""),sc(this,n[3]||"",!0),uc(this,n[4]),this.g=fc(n[5]||"",!0),cc(this,n[6]||"",!0),this.i=fc(n[7]||"")):(this.a=!!e,this.b=new _c(null,this.a))}function oc(t){return new ic(t)}function ac(t,e,n){t.f=n?fc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function sc(t,e,n){t.c=n?fc(e,!0):e}function uc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function cc(t,e,n){e instanceof _c?(t.b=e,function(t,e){e&&!t.f&&(wc(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Cc(this,e),Sc(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=dc(e,mc)),t.b=new _c(e,t.a))}function lc(t,e,n){t.b.set(e,n)}function hc(t){return lc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Wa()).toString(36)),t}function fc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,pc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ic.prototype.toString=function(){var t=[],e=this.f;e&&t.push(dc(e,vc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(dc(e,vc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(dc(n,"/"==n.charAt(0)?yc:gc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",dc(n,bc)),t.join("")};var vc=/[#\/\?@]/g,gc=/[#\?:]/g,yc=/[#\?]/g,mc=/[#\?@]/g,bc=/#/g;function _c(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function wc(t){t.a||(t.a=new tc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Cc(t,e){wc(t),e=Tc(t,e),nc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,nc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ec(t)))}function kc(t,e){return wc(t),e=Tc(t,e),nc(t.a.b,e)}function Sc(t,e,n){Cc(t,e),0<n.length&&(t.c=null,t.a.set(Tc(t,e),$a(n)),t.b+=n.length)}function Tc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Na=_c.prototype).add=function(t,e){wc(this),this.c=null,t=Tc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Na.forEach=function(t,e){wc(this),this.a.forEach((function(n,r){Xa(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Na.L=function(){wc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Na.K=function(t){wc(this);var e=[];if("string"==typeof t)kc(this,t)&&(e=Ja(e,this.a.get(Tc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ja(e,t[n])}return e},Na.set=function(t,e){return wc(this),this.c=null,kc(this,t=Tc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Na.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Na.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ec=function(t,e){this.b=t,this.a=e};function Oc(t){this.g=t||xc,t=ja.PerformanceNavigationTiming?0<(t=ja.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ja.ia&&ja.ia.ya&&ja.ia.ya()&&ja.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var xc=10;function Ic(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Pc(t){return t.b?1:t.a?t.a.size:0}function Ac(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Mc(t,e){t.a?t.a.add(e):t.b=e}function Nc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Rc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ma(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return $a(t.c)}function Dc(){}function jc(){this.a=new Dc}function Lc(t,e,n){var r=n||"";try{Zu(t,(function(t,n){var i=t;Ua(t)&&(i=Zs(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(L_){throw e.push(r+"type="+encodeURIComponent("_badmap")),L_}}function Fc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Oc.prototype.cancel=function(){var t,e;if(this.c=Rc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ma(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Dc.prototype.stringify=function(t){return ja.JSON.stringify(t,void 0)},Dc.prototype.parse=function(t){return ja.JSON.parse(t,void 0)};var Uc=ja.JSON.parse;function Vc(t){Xs.call(this),this.headers=new tc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=qc,this.D=this.F=!1}Ka(Vc,Xs);var qc="",zc=/^https?$/i,Bc=["POST","PUT"];function Hc(t){return"content-type"==t.toLowerCase()}function Gc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Wc(t),Qc(t)}function Wc(t){t.u||(t.u=!0,Js(t,"complete"),Js(t,"error"))}function Kc(t){if(t.b&&void 0!==Da&&(!t.s[1]||4!=Xc(t)||2!=t.W()))if(t.l&&4==Xc(t))fu(t.za,0,t);else if(Js(t,"readystatechange"),4==Xc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(rc)[1]||null;if(!o&&ja.self&&ja.self.location){var a=ja.self.location.protocol;o=a.substr(0,a.length-1)}i=!zc.test(o?o.toLowerCase():"")}e=i}if(e)Js(t,"complete"),Js(t,"success");else{t.h=6;try{var s=2<Xc(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Wc(t)}}finally{Qc(t)}}}function Qc(t,e){if(t.a){Yc(t);var n=t.a,r=t.s[0]?La:null;t.a=null,t.s=null,e||Js(t,"ready");try{n.onreadystatechange=r}catch(L_){}}}function Yc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ja.clearTimeout(t.m),t.m=null)}function Xc(t){return t.a?t.a.readyState:0}function Jc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return as(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):lc(t,e,n))}function $c(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Zc(t){this.pa=0,this.g=[],this.c=new bu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=$c("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=$c("baseRetryDelayMs",5e3,t),this.Ra=$c("retryDelaySeedMs",1e4,t),this.Ma=$c("forwardChannelMaxRetries",2,t),this.ma=$c("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Oc(t&&t.concurrentRequestLimit),this.ka=new jc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function tl(t){if(nl(t),3==t.v){var e=t.R++,n=oc(t.B);lc(n,"SID",t.J),lc(n,"RID",e),lc(n,"TYPE","terminate"),al(t,n),(e=new Uu(t,t.c,e,void 0)).H=2,e.i=hc(oc(n)),n=!1,ja.navigator&&ja.navigator.sendBeacon&&(n=ja.navigator.sendBeacon(e.i.toString(),"")),!n&&ja.Image&&((new Image).src=e.i,n=!0),n||(e.a=ml(e.g,null),e.a.ba(e.i)),e.u=Wa(),Ku(e)}gl(t)}function el(t){t.a&&(ll(t),t.a.cancel(),t.a=null)}function nl(t){el(t),t.j&&(ja.clearTimeout(t.j),t.j=null),fl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ja.clearTimeout(t.h),t.h=null)}function rl(t,e){t.g.push(new Ec(t.Oa++,e)),3==t.v&&il(t)}function il(t){Ic(t.b)||t.h||(t.h=!0,au(t.Ba,t),t.u=0)}function ol(t,e){var n;n=e?e.f:t.R++;var r=oc(t.B);lc(r,"SID",t.J),lc(r,"RID",n),lc(r,"AID",t.P),al(t,r),t.i&&t.l&&Jc(r,t.i,t.l),n=new Uu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=sl(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Mc(t.b,n),Bu(n,r,e)}function al(t,e){t.f&&Zu({},(function(t,n){lc(e,n,t)}))}function sl(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ha(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Lc(l,a,"req"+c+"_")}catch(th){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ul(t){t.a||t.j||(t.T=1,au(t.Aa,t),t.o=0)}function cl(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Iu(Ha(t.Aa,t),pl(t,t.o)),t.o++,0))}function ll(t){null!=t.s&&(ja.clearTimeout(t.s),t.s=null)}function hl(t){t.a=new Uu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=oc(t.la);lc(e,"RID","rpc"),lc(e,"SID",t.J),lc(e,"CI",t.H?"0":"1"),lc(e,"AID",t.P),al(t,e),lc(e,"TYPE","xmlhttp"),t.i&&t.l&&Jc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=hc(oc(e)),n.j=null,n.I=!0,Hu(n,t)}function fl(t){null!=t.m&&(ja.clearTimeout(t.m),t.m=null)}function dl(t,e){var n=null;if(t.a==e){fl(t),ll(t),t.a=null;var r=2}else{if(!Ac(t.b,e))return;n=e.s,Nc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Wa()-e.u;var i=t.u;Js(r=ku(),new xu(r,n,e,i)),il(t)}else ul(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Pc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Iu(Ha(t.Ba,t,e),pl(t,t.u)),t.u++,0)))}(t,e)||2==r&&cl(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:vl(t,5);break;case 4:vl(t,10);break;case 3:vl(t,6);break;default:vl(t,2)}}function pl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function vl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ha(t.Ya,t);n||(n=new ic("//www.google.com/images/cleardot.gif"),ja.location&&"http"==ja.location.protocol||ac(n,"https"),hc(n)),function(t,e){var n=new bu;if(ja.Image){var r=new Image;r.onload=Ga(Fc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ga(Fc,n,r,"TestLoadImage: error",!1,e),r.onabort=Ga(Fc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ga(Fc,n,r,"TestLoadImage: timeout",!1,e),ja.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ou(2);t.v=0,t.f&&t.f.ra(e),gl(t),nl(t)}function gl(t){t.v=0,t.I=-1,t.f&&(0==Rc(t.b).length&&0==t.g.length||(t.b.c.length=0,$a(t.g),t.g.length=0),t.f.qa())}function yl(t,e,n){var r=function(t){return t instanceof ic?oc(t):new ic(t,void 0)}(n);if(""!=r.c)e&&sc(r,e+"."+r.c),uc(r,r.h);else{var i=ja.location;r=function(t,e,n,r){var i=new ic(null,void 0);return t&&ac(i,t),e&&sc(i,e),n&&uc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&as(t.V,(function(t,e){lc(r,e,t)})),n=t.na,(e=t.A)&&n&&lc(r,e,n),lc(r,"VER",t.ha),al(t,r),r}function ml(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vc(t.Na)).F=t.C,e}function bl(){}function _l(){if(ps&&!(10<=Number(Ts)))throw Error("Environmental error: no available transport.")}function wl(t,e){Xs.call(this),this.a=new Zc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Za(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Za(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Sl(this)}function Cl(t){ju.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function kl(){Lu.call(this),this.status=1}function Sl(t){this.a=t}(Na=Vc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ru),this.a.onreadystatechange=Ha(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Gc(this,o)}t=n||"";var i=new tc(this.headers);r&&Zu(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Hc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ja.FormData&&t instanceof ja.FormData,!(0<=Ya(Bc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yc(this),0<this.o&&((this.D=function(t){return ps&&Ss(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ha(this.xa,this)):this.m=fu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Gc(this,o)}},Na.xa=function(){void 0!==Da&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Js(this,"timeout"),this.abort(8))},Na.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Js(this,"complete"),Js(this,"abort"),Qc(this))},Na.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qc(this,!0)),Vc.X.G.call(this)},Na.za=function(){this.j||(this.A||this.l||this.g?Kc(this):this.Ua())},Na.Ua=function(){Kc(this)},Na.W=function(){try{return 2<Xc(this)?this.a.status:-1}catch(fs){return-1}},Na.$=function(){try{return this.a?this.a.responseText:""}catch(fs){return""}},Na.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Uc(e)}},Na.ua=function(){return this.h},Na.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Na=Zc.prototype).ha=8,Na.v=1,Na.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Uu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?cs(r=ss(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=sl(this,n,e),lc(i=oc(this.B),"RID",t),lc(i,"CVER",22),this.A&&lc(i,"X-HTTP-Session-Id",this.A),al(this,i),this.i&&r&&Jc(i,this.i,r),Mc(this.b,n),this.Ia&&lc(i,"TYPE","init"),this.da?(lc(i,"$req",e),lc(i,"SID","null"),n.U=!0,Bu(n,i,null)):Bu(n,i,e),this.v=2}}else 3==this.v&&(t?ol(this,t):0==this.g.length||Ic(this.b)||ol(this))},Na.Aa=function(){if(this.j=null,hl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Iu(Ha(this.Ta,this),t)}},Na.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ou(10),el(this),hl(this))},Na.Sa=function(){null!=this.m&&(this.m=null,el(this),cl(this),Ou(19))},Na.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ou(2)):(this.c.info("Failed to ping google.com"),Ou(1))},(Na=bl.prototype).ta=function(){},Na.sa=function(){},Na.ra=function(){},Na.qa=function(){},Na.Ja=function(){},_l.prototype.a=function(t,e){return new wl(t,e)},Ka(wl,Xs),wl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ou(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=yl(t,null,t.fa),il(t)},wl.prototype.close=function(){tl(this.a)},wl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,rl(this.a,e)}else this.l?((e={}).__data__=Zs(t),rl(this.a,e)):rl(this.a,t)},wl.prototype.G=function(){this.a.f=null,delete this.f,tl(this.a),delete this.a,wl.X.G.call(this)},Ka(Cl,ju),Ka(kl,Lu),Ka(Sl,bl),Sl.prototype.ta=function(){Js(this.a,"a")},Sl.prototype.sa=function(t){Js(this.a,new Cl(t))},Sl.prototype.ra=function(t){Js(this.a,new kl(t))},Sl.prototype.qa=function(){Js(this.a,"b")},_l.prototype.createWebChannel=_l.prototype.a,wl.prototype.send=wl.prototype.h,wl.prototype.open=wl.prototype.g,wl.prototype.close=wl.prototype.close,Pu.NO_ERROR=0,Pu.TIMEOUT=8,Pu.HTTP_ERROR=6,Au.COMPLETE="complete",Nu.EventType=Du,Du.OPEN="a",Du.CLOSE="b",Du.ERROR="c",Du.MESSAGE="d",Xs.prototype.listen=Xs.prototype.va,Vc.prototype.listenOnce=Vc.prototype.wa,Vc.prototype.getLastError=Vc.prototype.Qa,Vc.prototype.getLastErrorCode=Vc.prototype.ua,Vc.prototype.getStatus=Vc.prototype.W,Vc.prototype.getResponseJson=Vc.prototype.Pa,Vc.prototype.getResponseText=Vc.prototype.$,Vc.prototype.send=Vc.prototype.ba;var Tl=Pu,El=Au,Ol=wu,xl=Nu,Il=Vc,Pl=function(t,e){return(Pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Al(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Pl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Ml(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(L_){o(L_)}}function s(t){try{u(r.throw(t))}catch(L_){o(L_)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Nl(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(L_){o=[6,L_],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Rl(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var Dl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Dl.o=-1;var jl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ll=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Al(e,t),e}(Error),Fl=new Pa.b("@firebase/firestore");function Ul(){return Fl.logLevel}function Vl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fl.logLevel<=Pa.a.DEBUG){var r=e.map(Bl);Fl.debug.apply(Fl,Rl(["Firestore (8.4.0): "+t],r))}}function ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fl.logLevel<=Pa.a.ERROR){var r=e.map(Bl);Fl.error.apply(Fl,Rl(["Firestore (8.4.0): "+t],r))}}function zl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fl.logLevel<=Pa.a.WARN){var r=e.map(Bl);Fl.warn.apply(Fl,Rl(["Firestore (8.4.0): "+t],r))}}function Bl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(L_){return t}}function Hl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw ql(e),new Error(e)}function Gl(t,e){t||Hl()}function Wl(t,e){return t}function Kl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ql=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Kl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Yl(t,e){return t<e?-1:t>e?1:0}function Xl(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Jl(t){return t+"\0"}var $l=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ll(jl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ll(jl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ll(jl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ll(jl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Yl(this.nanoseconds,t.nanoseconds):Yl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Zl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new $l(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function th(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var rh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Hl(),void 0===n?n=t.length-e:n>t.length-e&&Hl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Al(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Ll(jl.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(rh),oh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Al(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return oh.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ll(jl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Ll(jl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ll(jl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ll(jl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(rh),sh=function(){function t(t){this.fields=t,t.sort(ah.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Xl(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),uh=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Yl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();uh.EMPTY_BYTE_STRING=new uh("");var ch=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lh(t){if(Gl(!!t),"string"==typeof t){var e=0,n=ch.exec(t);if(Gl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:hh(t.seconds),nanos:hh(t.nanos)}}function hh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function fh(t){return"string"==typeof t?uh.fromBase64String(t):uh.fromUint8Array(t)}function dh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ph(t){var e=lh(t.mapValue.fields.__local_write_time__.timestampValue);return new $l(e.seconds,e.nanos)}function vh(t){return null==t}function gh(t){return 0===t&&1/t==-1/0}function yh(t){return"number"==typeof t&&Number.isInteger(t)&&!gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ih.fromString(e))},t.fromName=function(e){return new t(ih.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ih.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ih.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ih(e.slice()))},t}();function bh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dh(t)?4:10:Hl()}function _h(t,e){var n=bh(t);if(n!==bh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ph(t).isEqual(ph(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=lh(t.timestampValue),r=lh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return fh(t.bytesValue).isEqual(fh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return hh(t.geoPointValue.latitude)===hh(e.geoPointValue.latitude)&&hh(t.geoPointValue.longitude)===hh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return hh(t.integerValue)===hh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=hh(t.doubleValue),r=hh(e.doubleValue);return n===r?gh(n)===gh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],_h);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(th(n)!==th(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_h(n[i],r[i])))return!1;return!0}(t,e);default:return Hl()}}function wh(t,e){return void 0!==(t.values||[]).find((function(t){return _h(t,e)}))}function Ch(t,e){var n=bh(t),r=bh(e);if(n!==r)return Yl(n,r);switch(n){case 0:return 0;case 1:return Yl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=hh(t.integerValue||t.doubleValue),r=hh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return kh(t.timestampValue,e.timestampValue);case 4:return kh(ph(t),ph(e));case 5:return Yl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=fh(t),r=fh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Yl(n[i],r[i]);if(0!==o)return o}return Yl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Yl(hh(t.latitude),hh(e.latitude));return 0!==n?n:Yl(hh(t.longitude),hh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ch(n[i],r[i]);if(o)return o}return Yl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Yl(r[a],o[a]);if(0!==s)return s;var u=Ch(n[r[a]],i[o[a]]);if(0!==u)return u}return Yl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Hl()}}function kh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Yl(t,e);var n=lh(t),r=lh(e),i=Yl(n.seconds,r.seconds);return 0!==i?i:Yl(n.nanos,r.nanos)}function Sh(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=lh(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fh(e.bytesValue).toBase64():"referenceValue"in e?mh.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Hl();var n}(t)}function Th(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Eh(t){return!!t&&"integerValue"in t}function Oh(t){return!!t&&"arrayValue"in t}function xh(t){return!!t&&"nullValue"in t}function Ih(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ph(t){return!!t&&"mapValue"in t}var Ah=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(ah.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return _h(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===bh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=Ph(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(ah.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Ph(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Mh(t){var e=[];return eh(t.fields||{},(function(t,n){var r=new ah([t]);if(Ph(n)){var i=Mh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new sh(e)}var Nh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Zl.min(),Ah.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ah.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ah.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ah.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ah.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Rh=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Dh(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Rh(t,e,n,r,i,o,a)}function jh(t){var e=Wl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Sh(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Yh(e.startAt)),e.endAt&&(n+="|ub:",n+=Yh(e.endAt)),e.h=n}return e.h}function Lh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Jh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!_h(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zh(t.startAt,e.startAt)&&Zh(t.endAt,e.endAt)}function Fh(t){return mh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Al(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Vh(t,n,r):"array-contains"===n?new Hh(t,r):"in"===n?new Gh(t,r):"not-in"===n?new Wh(t,r):"array-contains-any"===n?new Kh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new qh(t,n):new zh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Ch(e,this.value)):null!==e&&bh(this.value)===bh(e)&&this.m(Ch(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Hl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Vh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=mh.fromName(r.referenceValue),i}return Al(e,t),e.prototype.matches=function(t){var e=mh.comparator(t.key,this.key);return this.m(e)},e}(Uh),qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Bh(0,n),r}return Al(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Uh),zh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Bh(0,n),r}return Al(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Uh);function Bh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return mh.fromName(t.referenceValue)}))}var Hh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Al(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Oh(e)&&wh(e.arrayValue,this.value)},e}(Uh),Gh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Al(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&wh(this.value.arrayValue,e)},e}(Uh),Wh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Al(e,t),e.prototype.matches=function(t){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!wh(this.value.arrayValue,e)},e}(Uh),Kh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Al(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Oh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return wh(e.value.arrayValue,t)}))},e}(Uh),Qh=function(t,e){this.position=t,this.before=e};function Yh(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Sh(t)})).join(",")}var Xh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Jh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function $h(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?mh.comparator(mh.fromName(a.referenceValue),n.key):Ch(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!_h(t.position[n],e.position[n]))return!1;return!0}var tf=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function ef(t,e,n,r,i,o,a,s){return new tf(t,e,n,r,i,o,a,s)}function nf(t){return new tf(t)}function rf(t){return!vh(t.limit)&&"F"===t.limitType}function of(t){return!vh(t.limit)&&"L"===t.limitType}function af(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function sf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function uf(t){return null!==t.collectionGroup}function cf(t){var e=Wl(t);if(null===e.p){e.p=[];var n=sf(e),r=af(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Xh(n)),e.p.push(new Xh(ah.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Xh(ah.keyField(),u))}}}return e.p}function lf(t){var e=Wl(t);if(!e.T)if("F"===e.limitType)e.T=Dh(e.path,e.collectionGroup,cf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=cf(e);r<i.length;r++){var o=i[r];n.push(new Xh(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Qh(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Qh(e.startAt.position,!e.startAt.before):null;e.T=Dh(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function hf(t,e,n){return new tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ff(t,e){return Lh(lf(t),lf(e))&&t.limitType===e.limitType}function df(t){return jh(lf(t))+"|lt:"+t.limitType}function pf(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Sh(e.value);var e})).join(", ")+"]"),vh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Yh(t.startAt)),t.endAt&&(e+=", endAt: "+Yh(t.endAt)),"Target("+e+")"}(lf(t))+"; limitType="+t.limitType+")"}function vf(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):mh.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!$h(t.startAt,cf(t),e)||t.endAt&&$h(t.endAt,cf(t),e))}(t,e)}function gf(t){return function(e,n){for(var r=!1,i=0,o=cf(t);i<o.length;i++){var a=o[i],s=yf(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function yf(t,e,n){var r=t.field.isKeyField()?mh.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Ch(r,i):Hl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Hl()}}function mf(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function bf(t){return{integerValue:""+t}}function _f(t,e){return yh(e)?bf(e):mf(t,e)}var wf=function(){this._=void 0};function Cf(t,e,n){return t instanceof Tf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ef?Of(t,e):t instanceof xf?If(t,e):function(t,e){var n=Sf(t,e),r=Af(n)+Af(t.A);return Eh(n)&&Eh(t.A)?bf(r):mf(t.R,r)}(t,e)}function kf(t,e,n){return t instanceof Ef?Of(t,e):t instanceof xf?If(t,e):n}function Sf(t,e){return t instanceof Pf?Eh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Tf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Al(e,t),e}(wf),Ef=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Al(e,t),e}(wf);function Of(t,e){for(var n=Mf(e),r=function(t){n.some((function(e){return _h(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Al(e,t),e}(wf);function If(t,e){for(var n=Mf(e),r=function(t){n=n.filter((function(e){return!_h(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Pf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Al(e,t),e}(wf);function Af(t){return hh(t.integerValue||t.doubleValue)}function Mf(t){return Oh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Nf=function(t,e){this.field=t,this.transform=e},Rf=function(t,e){this.version=t,this.transformResults=e},Df=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function jf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Lf=function(){};function Ff(t,e,n){t instanceof Bf?function(t,e,n){var r=t.value.clone(),i=Wf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Hf?function(t,e,n){if(jf(t.precondition,e)){var r=Wf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Gf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Uf(t,e,n){t instanceof Bf?function(t,e,n){if(jf(t.precondition,e)){var r=t.value.clone(),i=Kf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(zf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Hf?function(t,e,n){if(jf(t.precondition,e)){var r=Kf(t.fieldTransforms,n,e),i=e.data;i.setAll(Gf(t)),i.setAll(r),e.convertToFoundDocument(zf(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){jf(t.precondition,e)&&e.convertToNoDocument(Zl.min())}(t,e)}function Vf(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Sf(o.transform,a||null);null!=s&&(null==n&&(n=Ah.empty()),n.set(o.field,s))}return n||null}function qf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Xl(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ef&&e instanceof Ef||t instanceof xf&&e instanceof xf?Xl(t.elements,e.elements,_h):t instanceof Pf&&e instanceof Pf?_h(t.A,e.A):t instanceof Tf&&e instanceof Tf}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function zf(t){return t.isFoundDocument()?t.version:Zl.min()}var Bf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Al(e,t),e}(Lf),Hf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Al(e,t),e}(Lf);function Gf(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Wf(t,e,n){var r=new Map;Gl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,kf(a,s,n[i]))}return r}function Kf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Cf(s,u,e))}return r}var Qf,Yf,Xf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Al(e,t),e}(Lf),Jf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Al(e,t),e}(Lf),$f=function(t){this.count=t};function Zf(t){switch(t){case jl.OK:return Hl();case jl.CANCELLED:case jl.UNKNOWN:case jl.DEADLINE_EXCEEDED:case jl.RESOURCE_EXHAUSTED:case jl.INTERNAL:case jl.UNAVAILABLE:case jl.UNAUTHENTICATED:return!1;case jl.INVALID_ARGUMENT:case jl.NOT_FOUND:case jl.ALREADY_EXISTS:case jl.PERMISSION_DENIED:case jl.FAILED_PRECONDITION:case jl.ABORTED:case jl.OUT_OF_RANGE:case jl.UNIMPLEMENTED:case jl.DATA_LOSS:return!0;default:return Hl()}}function td(t){if(void 0===t)return ql("GRPC error has no .code"),jl.UNKNOWN;switch(t){case Qf.OK:return jl.OK;case Qf.CANCELLED:return jl.CANCELLED;case Qf.UNKNOWN:return jl.UNKNOWN;case Qf.DEADLINE_EXCEEDED:return jl.DEADLINE_EXCEEDED;case Qf.RESOURCE_EXHAUSTED:return jl.RESOURCE_EXHAUSTED;case Qf.INTERNAL:return jl.INTERNAL;case Qf.UNAVAILABLE:return jl.UNAVAILABLE;case Qf.UNAUTHENTICATED:return jl.UNAUTHENTICATED;case Qf.INVALID_ARGUMENT:return jl.INVALID_ARGUMENT;case Qf.NOT_FOUND:return jl.NOT_FOUND;case Qf.ALREADY_EXISTS:return jl.ALREADY_EXISTS;case Qf.PERMISSION_DENIED:return jl.PERMISSION_DENIED;case Qf.FAILED_PRECONDITION:return jl.FAILED_PRECONDITION;case Qf.ABORTED:return jl.ABORTED;case Qf.OUT_OF_RANGE:return jl.OUT_OF_RANGE;case Qf.UNIMPLEMENTED:return jl.UNIMPLEMENTED;case Qf.DATA_LOSS:return jl.DATA_LOSS;default:return Hl()}}(Yf=Qf||(Qf={}))[Yf.OK=0]="OK",Yf[Yf.CANCELLED=1]="CANCELLED",Yf[Yf.UNKNOWN=2]="UNKNOWN",Yf[Yf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yf[Yf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yf[Yf.NOT_FOUND=5]="NOT_FOUND",Yf[Yf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yf[Yf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yf[Yf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yf[Yf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yf[Yf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yf[Yf.ABORTED=10]="ABORTED",Yf[Yf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yf[Yf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yf[Yf.INTERNAL=13]="INTERNAL",Yf[Yf.UNAVAILABLE=14]="UNAVAILABLE",Yf[Yf.DATA_LOSS=15]="DATA_LOSS";var ed=function(){function t(t,e){this.comparator=t,this.root=e||rd.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rd.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rd.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new nd(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new nd(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new nd(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new nd(this.root,t,this.comparator,!0)},t}(),nd=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),rd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Hl();if(this.right.isRed())throw Hl();var t=this.left.check();if(t!==this.right.check())throw Hl();return t+(this.isRed()?0:1)},t}();rd.EMPTY=null,rd.RED=!0,rd.BLACK=!1,rd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Hl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Hl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Hl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Hl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Hl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new rd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var id=function(){function t(t){this.comparator=t,this.data=new ed(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new od(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new od(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),od=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ad=new ed(mh.comparator);function sd(){return ad}var ud=new ed(mh.comparator);function cd(){return ud}var ld=new ed(mh.comparator);function hd(){return ld}var fd=new id(mh.comparator);function dd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=fd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var pd=new id(Yl);function vd(){return pd}var gd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,yd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Zl.min(),r,vd(),sd(),dd())},t}(),yd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(uh.EMPTY_BYTE_STRING,n,dd(),dd(),dd())},t}(),md=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},bd=function(t,e){this.targetId=t,this.V=e},_d=function(t,e,n,r){void 0===n&&(n=uh.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},wd=function(){function t(){this.S=0,this.D=Sd(),this.C=uh.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=dd(),e=dd(),n=dd();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Hl()}})),new yd(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Sd()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Cd=function(){function t(t){this.W=t,this.G=new Map,this.H=sd(),this.J=kd(),this.Y=new id(Yl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Hl()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Fh(i))if(0===n){var o=new mh(i.path);this.tt(e,o,Nh.newNoDocument(o,Zl.min()))}else Gl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Fh(o.target)){var a=new mh(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Nh.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=dd();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new gd(t,n,this.Y,this.H,r);return this.H=sd(),this.J=kd(),this.Y=new id(Yl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new wd,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new id(Yl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Vl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new wd),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function kd(){return new ed(mh.comparator)}function Sd(){return new ed(mh.comparator)}var Td={asc:"ASCENDING",desc:"DESCENDING"},Ed={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Od=function(t,e){this.databaseId=t,this.I=e};function xd(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Id(t,e){return t.I?e.toBase64():e.toUint8Array()}function Pd(t,e){return xd(t,e.toTimestamp())}function Ad(t){return Gl(!!t),Zl.fromTimestamp(function(t){var e=lh(t);return new $l(e.seconds,e.nanos)}(t))}function Md(t,e){return function(t){return new ih(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Nd(t){var e=ih.fromString(t);return Gl(np(e)),e}function Rd(t,e){return Md(t.databaseId,e.path)}function Dd(t,e){var n=Nd(e);if(n.get(1)!==t.databaseId.projectId)throw new Ll(jl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ll(jl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new mh(Ud(n))}function jd(t,e){return Md(t.databaseId,e)}function Ld(t){var e=Nd(t);return 4===e.length?ih.emptyPath():Ud(e)}function Fd(t){return new ih(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ud(t){return Gl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Vd(t,e,n){return{name:Rd(t,e),fields:n.toProto().mapValue.fields}}function qd(t,e,n){var r=Dd(t,e.name),i=Ad(e.updateTime),o=new Ah({mapValue:{fields:e.fields}}),a=Nh.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function zd(t,e){var n;if(e instanceof Bf)n={update:Vd(t,e.key,e.value)};else if(e instanceof Xf)n={delete:Rd(t,e.key)};else if(e instanceof Hf)n={update:Vd(t,e.key,e.data),updateMask:ep(e.fieldMask)};else{if(!(e instanceof Jf))return Hl();n={verify:Rd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Tf)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ef)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xf)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pf)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Hl()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Pd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Hl()}(t,e.precondition)),n}function Bd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Df.updateTime(Ad(t.updateTime)):void 0!==t.exists?Df.exists(t.exists):Df.none()}(e.currentDocument):Df.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Gl("REQUEST_TIME"===e.setToServerValue),n=new Tf):"appendMissingElements"in e?n=new Ef(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xf(e.removeAllFromArray.values||[]):"increment"in e?n=new Pf(t,e.increment):Hl();var r=ah.fromServerFormat(e.fieldPath);return new Nf(r,n)}(t,e)})):[];if(e.update){var i=Dd(t,e.update.name),o=new Ah({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new sh((t.fieldPaths||[]).map((function(t){return ah.fromServerFormat(t)})))}(e.updateMask);return new Hf(i,o,a,n,r)}return new Bf(i,o,n,r)}if(e.delete){var s=Dd(t,e.delete);return new Xf(s,n)}if(e.verify){var u=Dd(t,e.verify);return new Jf(u,n)}return Hl()}function Hd(t,e){return{documents:[jd(t,e.path)]}}function Gd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=jd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ih(t.value))return{unaryFilter:{field:Jd(t.field),op:"IS_NAN"}};if(xh(t.value))return{unaryFilter:{field:Jd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ih(t.value))return{unaryFilter:{field:Jd(t.field),op:"IS_NOT_NAN"}};if(xh(t.value))return{unaryFilter:{field:Jd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jd(t.field),op:Xd(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Jd(t.field),direction:Yd(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||vh(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Kd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Kd(e.endAt)),n}function Wd(t){var e=Ld(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[tp(e)]:void 0!==e.fieldFilter?[Zd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Hl():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Xh($d(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return vh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Qd(n.startAt));var l=null;return n.endAt&&(l=Qd(n.endAt)),ef(e,i,s,a,u,"F",c,l)}function Kd(t){return{before:t.before,values:t.position}}function Qd(t){return new Qh(t.values||[],!!t.before)}function Yd(t){return Td[t]}function Xd(t){return Ed[t]}function Jd(t){return{fieldPath:t.canonicalString()}}function $d(t){return ah.fromServerFormat(t.fieldPath)}function Zd(t){return Uh.create($d(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Hl()}}(t.fieldFilter.op),t.fieldFilter.value)}function tp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=$d(t.unaryFilter.field);return Uh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=$d(t.unaryFilter.field);return Uh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$d(t.unaryFilter.field);return Uh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$d(t.unaryFilter.field);return Uh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Hl()}}function ep(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function np(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function rp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=op(e)),e=ip(t.get(n),e);return op(e)}function ip(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function op(t){return t+"\x01\x01"}function ap(t){var e=t.length;if(Gl(e>=2),2===e)return Gl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ih.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Hl(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Hl()}o=a+2}return new ih(r)}var sp=function(t,e){this.seconds=t,this.nanoseconds=e},up=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};up.store="owner",up.key="owner";var cp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};cp.store="mutationQueues",cp.keyPath="userId";var lp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};lp.store="mutations",lp.keyPath="batchId",lp.userMutationsIndex="userMutationsIndex",lp.userMutationsKeyPath=["userId","batchId"];var hp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,rp(e)]},t.key=function(t,e,n){return[t,rp(e),n]},t}();hp.store="documentMutations",hp.PLACEHOLDER=new hp;var fp=function(t,e){this.path=t,this.readTime=e},dp=function(t,e){this.path=t,this.version=e},pp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};pp.store="remoteDocuments",pp.readTimeIndex="readTimeIndex",pp.readTimeIndexPath="readTime",pp.collectionReadTimeIndex="collectionReadTimeIndex",pp.collectionReadTimeIndexPath=["parentPath","readTime"];var vp=function(t){this.byteSize=t};vp.store="remoteDocumentGlobal",vp.key="remoteDocumentGlobalKey";var gp=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};gp.store="targets",gp.keyPath="targetId",gp.queryTargetsIndexName="queryTargetsIndex",gp.queryTargetsKeyPath=["canonicalId","targetId"];var yp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};yp.store="targetDocuments",yp.keyPath=["targetId","path"],yp.documentTargetsIndex="documentTargetsIndex",yp.documentTargetsKeyPath=["path","targetId"];var mp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};mp.key="targetGlobalKey",mp.store="targetGlobal";var bp=function(t,e){this.collectionId=t,this.parent=e};bp.store="collectionParents",bp.keyPath=["collectionId","parent"];var _p=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_p.store="clientMetadata",_p.keyPath="clientId";var wp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};wp.store="bundles",wp.keyPath="bundleId";var Cp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Cp.store="namedQueries",Cp.keyPath="name";var kp=Rl(Rl([],Rl(Rl([],Rl(Rl([],Rl(Rl([],[cp.store,lp.store,hp.store,pp.store,gp.store,up.store,mp.store,yp.store]),[_p.store])),[vp.store])),[bp.store])),[wp.store,Cp.store]),Sp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Tp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Ep=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Op=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Hl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),xp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ep,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Ap(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=jp(e.target.error);n.ft.reject(new Ap(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ap(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Vl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Np(e)},t}(),Ip=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Ia.k)())&&ql("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Vl("SimpleDb","Removing database:",t),Rp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Ia.k)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Ml(this,void 0,void 0,(function(){var e,n=this;return Nl(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Vl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ap(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ll(jl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ap(t,n))},i.onupgradeneeded=function(t){Vl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Vl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Ml(this,void 0,void 0,(function(){var i,o,a,s,u;return Nl(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Nl(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=xp.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Op.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Vl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Pp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Rp(this.Pt.delete())},t}(),Ap=function(t){function e(e,n){var r=this;return(r=t.call(this,jl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Al(e,t),e}(Ll);function Mp(t){return"IndexedDbTransactionError"===t.name}var Np=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Vl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Vl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Rp(n)},t.prototype.add=function(t){return Vl("SimpleDb","ADD",this.store.name,t,t),Rp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Rp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Vl("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Vl("SimpleDb","DELETE",this.store.name,t),Rp(this.store.delete(t))},t.prototype.count=function(){return Vl("SimpleDb","COUNT",this.store.name),Rp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Vl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Op((function(n,r){e.onerror=function(t){var e=jp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Op((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Pp(i),a=e(i.primaryKey,i.value,o);if(a instanceof Op){var s=a.catch((function(t){return o.done(),Op.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Op.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Rp(t){return new Op((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=jp(t.target.error);n(e)}}))}var Dp=!1;function jp(t){var e=Ip._t(Object(Ia.k)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ll("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Dp||(Dp=!0,setTimeout((function(){throw r}),0)),r}}return t}var Lp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Al(e,t),e}(Tp);function Fp(t,e){var n=Wl(t);return Ip.It(n.Mt,e)}var Up=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ff(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Uf(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Uf(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Zl.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),dd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xl(this.mutations,t.mutations,(function(t,e){return qf(t,e)}))&&Xl(this.baseMutations,t.baseMutations,(function(t,e){return qf(t,e)}))},t}(),Vp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Gl(e.mutations.length===r.length);for(var i=hd(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),qp=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Zl.min()),void 0===o&&(o=Zl.min()),void 0===a&&(a=uh.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),zp=function(t){this.Lt=t};function Bp(t,e){if(e.document)return qd(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=mh.fromSegments(e.noDocument.path),r=Qp(e.noDocument.readTime),i=Nh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=mh.fromSegments(e.unknownDocument.path);return r=Qp(e.unknownDocument.version),Nh.newUnknownDocument(o,r)}return Hl()}function Hp(t,e,n){var r=Gp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Rd(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:xd(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new pp(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Kp(e.version);return a=e.hasCommittedMutations,new pp(null,new fp(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Kp(e.version);return new pp(new dp(c,l),null,null,!0,r,i)}return Hl()}function Gp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Wp(t){var e=new $l(t[0],t[1]);return Zl.fromTimestamp(e)}function Kp(t){var e=t.toTimestamp();return new sp(e.seconds,e.nanoseconds)}function Qp(t){var e=new $l(t.seconds,t.nanoseconds);return Zl.fromTimestamp(e)}function Yp(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Bd(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Bd(t.Lt,e)})),o=$l.fromMillis(e.localWriteTimeMs);return new Up(e.batchId,o,n,i)}function Xp(t){var e,n,r=Qp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Qp(t.lastLimboFreeSnapshotVersion):Zl.min();return void 0!==t.query.documents?(Gl(1===(n=t.query).documents.length),e=lf(nf(Ld(n.documents[0])))):e=function(t){return lf(Wd(t))}(t.query),new qp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,uh.fromBase64String(t.resumeToken))}function Jp(t,e){var n,r=Kp(e.snapshotVersion),i=Kp(e.lastLimboFreeSnapshotVersion);n=Fh(e.target)?Hd(t.Lt,e.target):Gd(t.Lt,e.target);var o=e.resumeToken.toBase64();return new gp(e.targetId,jh(e.target),r,o,e.sequenceNumber,i,n)}function $p(t){var e=Wd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?hf(e,e.limit,"L"):e}var Zp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return tv(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Qp(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return tv(t).put({bundleId:(n=e).id,createTime:Kp(Ad(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return ev(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:$p(e.bundledQuery),readTime:Qp(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return ev(t).put(function(t){return{name:t.name,readTime:Kp(Ad(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function tv(t){return Fp(t,wp.store)}function ev(t){return Fp(t,Cp.store)}var nv=function(){function t(){this.Bt=new rv}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Op.resolve()},t.prototype.getCollectionParents=function(t,e){return Op.resolve(this.Bt.getEntries(e))},t}(),rv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new id(ih.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new id(ih.comparator)).toArray()},t}(),iv=function(){function t(){this.qt=new rv}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:rp(i)};return ov(t).put(o)}return Op.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Jl(e),""],!1,!0);return ov(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(ap(o.parent))}return n}))},t}();function ov(t){return Fp(t,bp.store)}var av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sv=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function uv(t,e,n){var r=t.store(lp.store),i=t.store(hp.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Gl(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=hp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Op.waitFor(o).next((function(){return c}))}function cv(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Hl();e=t.noDocument}return JSON.stringify(e).length}sv.DEFAULT_COLLECTION_PERCENTILE=10,sv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sv.DEFAULT=new sv(41943040,sv.DEFAULT_COLLECTION_PERCENTILE,sv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sv.DISABLED=new sv(-1,0,0);var lv=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Gl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fv(t).Ot({index:lp.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=dv(t),a=fv(t);return a.add({}).next((function(s){Gl("number"==typeof s);for(var u=new Up(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return zd(t.Lt,e)})),i=n.mutations.map((function(e){return zd(t.Lt,e)}));return new lp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new id((function(t,e){return Yl(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=hp.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,hp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),Op.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return fv(t).get(e).next((function(t){return t?(Gl(t.userId===n.userId),Yp(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Op.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return fv(t).Ot({index:lp.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Gl(e.batchId>=r),o=Yp(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fv(t).Ot({index:lp.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fv(t).Nt(lp.userMutationsIndex,n).next((function(t){return t.map((function(t){return Yp(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=hp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return dv(t).Ot({range:i},(function(r,i,a){var s=r[0],u=r[2],c=ap(r[1]);if(s===n.userId&&e.path.isEqual(c))return fv(t).get(u).next((function(t){if(!t)throw Hl();Gl(t.userId===n.userId),o.push(Yp(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new id(Yl),i=[];return e.forEach((function(e){var o=hp.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=dv(t).Ot({range:a},(function(t,i,o){var a=t[0],s=t[2],u=ap(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),Op.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=hp.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new id(Yl);return dv(t).Ot({range:a},(function(t,e,o){var a=t[0],u=t[2],c=ap(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(fv(t).get(e).next((function(t){if(null===t)throw Hl();Gl(t.userId===n.userId),r.push(Yp(n.R,t))})))})),Op.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return uv(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Op.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Op.resolve();var r=IDBKeyRange.lowerBound(hp.prefixForUser(e.userId)),i=[];return dv(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=ap(t[1]);i.push(o)}else r.done()})).next((function(){Gl(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return hv(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return pv(t).get(this.userId).next((function(t){return t||new cp(e.userId,-1,"")}))},t}();function hv(t,e,n){var r=hp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return dv(t).Ot({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function fv(t){return Fp(t,lp.store)}function dv(t){return Fp(t,hp.store)}function pv(t){return Fp(t,cp.store)}var vv=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),gv=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new vv(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Zl.fromTimestamp(new $l(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return yv(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Gl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return yv(t).Ot((function(a,s){var u=Xp(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Op.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return yv(t).Ot((function(t,n){var r=Xp(n);e(r)}))},t.prototype.Xt=function(t){return mv(t).get(mp.key).next((function(t){return Gl(null!==t),t}))},t.prototype.Zt=function(t,e){return mv(t).put(mp.key,e)},t.prototype.te=function(t,e){return yv(t).put(Jp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=jh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return yv(t).Ot({range:r,index:gp.queryTargetsIndexName},(function(t,n,r){var o=Xp(n);Lh(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=bv(t);return e.forEach((function(e){var a=rp(e.path);i.push(o.put(new yp(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Op.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=bv(t);return Op.forEach(e,(function(e){var o=rp(e.path);return Op.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=bv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=bv(t),i=dd();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=ap(t[1]),o=new mh(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=rp(e.path),r=IDBKeyRange.bound([n],[Jl(n)],!1,!0),i=0;return bv(t).Ot({index:yp.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return yv(t).get(e).next((function(t){return t?Xp(t):null}))},t}();function yv(t){return Fp(t,gp.store)}function mv(t){return Fp(t,mp.store)}function bv(t){return Fp(t,yp.store)}function _v(t){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(e){if(t.code!==jl.FAILED_PRECONDITION||t.message!==Sp)throw t;return Vl("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function wv(t,e){var n=t[1],r=e[1],i=Yl(t[0],e[0]);return 0===i?Yl(n,r):i}var Cv=function(){function t(t){this.ne=t,this.buffer=new id(wv),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),kv=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Vl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ml(e,void 0,void 0,(function(){var e;return Nl(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Mp(e=n.sent())?(Vl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,_v(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Sv=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Op.resolve(Dl.o);var r=new Cv(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Vl("LruGarbageCollector","Garbage collection skipped; disabled"),Op.resolve(av)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Vl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),av):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Vl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Ul()<=Pa.a.DEBUG&&Vl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Op.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Tv=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Sv(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Ev(t,n)},t.prototype.removeReference=function(t,e,n){return Ev(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Ev(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return pv(t).$t((function(r){return hv(t,r,e).next((function(t){return t&&(n=!0),Op.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),bv(t).delete([0,rp(a.path)])}))}));i.push(u)}})).next((function(){return Op.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Ev(t,e)},t.prototype.we=function(t,e){var n,r=bv(t),i=Dl.o;return r.Ot({index:yp.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Dl.o&&e(new mh(ap(n)),i),i=a,n=o):i=Dl.o})).next((function(){i!==Dl.o&&e(new mh(ap(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Ev(t,e){return bv(t).put(function(t,e){return new yp(0,rp(t.path),e)}(e,t.currentSequenceNumber))}var Ov=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){eh(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return nh(this.inner)},t}(),xv=function(){function t(){this.changes=new Ov((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Zl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Nh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Op.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Iv=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Mv(t).put(Nv(e),n)},t.prototype.removeEntry=function(t,e){var n=Mv(t),r=Nv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Mv(t).get(Nv(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Mv(t).get(Nv(e)).next((function(t){return{document:n.ye(e,t),size:cv(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=sd();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=sd(),i=new ed(mh.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,cv(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Op.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Mv(t).Ot({range:r},(function(t,e,r){for(var a=mh.fromSegments(t);o&&mh.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=sd(),o=e.path.length+1,a={};if(n.isEqual(Zl.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Gp(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=pp.collectionReadTimeIndex}return Mv(t).Ot(a,(function(t,n,a){if(t.length===o){var s=Bp(r.R,n);e.path.isPrefixOf(s.key.path)?vf(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Pv(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Av(t).get(vp.key).next((function(t){return Gl(!!t),t}))},t.prototype.me=function(t,e){return Av(t).put(vp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Bp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Zl.min()))return n}return Nh.newInvalidDocument(t)},t}(),Pv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ov((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Al(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new id((function(t,e){return Yl(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Hp(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=cv(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Hp(e.Ie.R,Nh.newNoDocument(o,Zl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Op.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(xv);function Av(t){return Fp(t,vp.store)}function Mv(t){return Fp(t,pp.store)}function Nv(t){return t.path.toArray()}var Rv=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Gl(n<r&&n>=0&&r<=11);var o=new xp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(up.store)}(t),function(t){t.createObjectStore(cp.store,{keyPath:cp.keyPath}),t.createObjectStore(lp.store,{keyPath:lp.keyPath,autoIncrement:!0}).createIndex(lp.userMutationsIndex,lp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(hp.store)}(t),Dv(t),function(t){t.createObjectStore(pp.store)}(t));var a=Op.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(yp.store),t.deleteObjectStore(gp.store),t.deleteObjectStore(mp.store)}(t),Dv(t)),a=a.next((function(){return function(t){var e=t.store(mp.store),n=new mp(0,0,Zl.min().toTimestamp(),0);return e.put(mp.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(lp.store).Nt().next((function(n){t.deleteObjectStore(lp.store),t.createObjectStore(lp.store,{keyPath:lp.keyPath,autoIncrement:!0}).createIndex(lp.userMutationsIndex,lp.userMutationsKeyPath,{unique:!0});var r=e.store(lp.store),i=n.map((function(t){return r.put(t)}));return Op.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(_p.store,{keyPath:_p.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(vp.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(pp.store);e.createIndex(pp.readTimeIndex,pp.readTimeIndexPath,{unique:!1}),e.createIndex(pp.collectionReadTimeIndex,pp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(wp.store,{keyPath:wp.keyPath})}(t),function(t){t.createObjectStore(Cp.store,{keyPath:Cp.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(pp.store).Ot((function(t,n){e+=cv(n)})).next((function(){var n=new vp(e);return t.store(vp.store).put(vp.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(cp.store),r=t.store(lp.store);return n.Nt().next((function(n){return Op.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(lp.userMutationsIndex,i).next((function(r){return Op.forEach(r,(function(r){Gl(r.userId===n.userId);var i=Yp(e.R,r);return uv(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(yp.store),n=t.store(pp.store);return t.store(mp.store).get(mp.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new ih(n),a=function(t){return[0,rp(t)]}(o);r.push(e.get(a).next((function(n){return n?Op.resolve():function(n){return e.put(new yp(0,rp(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Op.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(bp.store,{keyPath:bp.keyPath});var n=e.store(bp.store),r=new rv,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:rp(i)})}};return e.store(pp.store).Ot({kt:!0},(function(t,e){var n=new ih(t);return i(n.popLast())})).next((function(){return e.store(hp.store).Ot({kt:!0},(function(t,e){var n=ap(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(gp.store);return n.Ot((function(t,r){var i=Xp(r),o=Jp(e.R,i);return n.put(o)}))},t}();function Dv(t){t.createObjectStore(yp.store,{keyPath:yp.keyPath}).createIndex(yp.documentTargetsIndex,yp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(gp.store,{keyPath:gp.keyPath}).createIndex(gp.queryTargetsIndexName,gp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(mp.store)}var jv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lv=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ll(jl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tv(this,i),this.Le=n+"main",this.R=new zp(u),this.Be=new Ip(this.Le,11,new Rv(this.R)),this.qe=new gv(this.referenceDelegate,this.R),this.Ut=new iv,this.Ue=function(t,e){return new Iv(t,e)}(this.R,this.Ut),this.Qe=new Zp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&ql("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ll(jl.FAILED_PRECONDITION,jv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Dl(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Ml(e,void 0,void 0,(function(){return Nl(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Ml(e,void 0,void 0,(function(){return Nl(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Ml(e,void 0,void 0,(function(){return Nl(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Uv(e).put(new _p(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Mp(e))return Vl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Vl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Fv(t).get(up.key).next((function(t){return Op.resolve(e.tn(t))}))},t.prototype.en=function(t){return Uv(t).delete(this.clientId)},t.prototype.nn=function(){return Ml(this,void 0,void 0,(function(){var t,e,n,r=this;return Nl(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Fp(t,_p.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Op.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Op.resolve(!0):Fv(t).get(up.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ll(jl.FAILED_PRECONDITION,jv);return!1}}return!(!e.networkEnabled||!e.inForeground)||Uv(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Vl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Ml(this,void 0,void 0,(function(){var t=this;return Nl(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[up.store,_p.store],(function(e){var n=new Lp(e,Dl.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Uv(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return lv.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Vl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",kp,(function(o){return r=new Lp(o,i.Ne?i.Ne.next():Dl.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw ql("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Ll(jl.FAILED_PRECONDITION,Sp);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Fv(t).get(up.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ll(jl.FAILED_PRECONDITION,jv)}))},t.prototype.Ze=function(t){var e=new up(this.clientId,this.allowTabSynchronization,Date.now());return Fv(t).put(up.key,e)},t.yt=function(){return Ip.yt()},t.prototype.Xe=function(t){var e=this,n=Fv(t);return n.get(up.key).next((function(t){return e.tn(t)?(Vl("IndexedDbPersistence","Releasing primary lease."),n.delete(up.key)):Op.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ql("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Vl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ql("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ql("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Fv(t){return Fp(t,up.store)}function Uv(t){return Fp(t,_p.store)}function Vv(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var qv=function(t,e){this.progress=t,this.wn=e},zv=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return mh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):uf(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new mh(e)).next((function(t){var e=cd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=cd();return this.Ut.getCollectionParents(t,i).next((function(a){return Op.forEach(a,(function(a){var s=function(t,e){return new tf(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Nh.newInvalidDocument(c),r=r.insert(c,l)),Uf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){vf(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=dd(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Hf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Bv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=dd(),i=dd(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Hv=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Zl.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(rf(e)||of(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Ul()<=Pa.a.DEBUG&&Vl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pf(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new id(gf(t));return e.forEach((function(e,r){vf(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Ul()<=Pa.a.DEBUG&&Vl("QueryEngine","Using full collection scan to execute query:",pf(e)),this.Sn.getDocumentsMatchingQuery(t,e,Zl.min())},t}(),Gv=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ed(Yl),this.kn=new Ov((function(t){return jh(t)}),Lh),this.On=Zl.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new zv(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Wv(t,e,n,r){return new Gv(t,e,n,r)}function Kv(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i,o;return Nl(this,(function(a){switch(a.label){case 0:return n=Wl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new zv(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=dd(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Qv(t,e){var n=Wl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Op.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Gl(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Yv(t){var e=Wl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Xv(t,e){var n=Wl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Gl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=sd();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Jv(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Zl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Op.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function Jv(t,e,n,r,i){var o=dd();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=sd();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Zl.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Vl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function $v(t,e){var n=Wl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Zv(t,e){var n=Wl(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?Op.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new qp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function tg(t,e,n){return Ml(this,void 0,void 0,(function(){var r,i,o,a;return Nl(this,(function(s){switch(s.label){case 0:r=Wl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Mp(a=s.sent()))throw a;return Vl("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function eg(t,e,n){var r=Wl(t),i=Zl.min(),o=dd();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Wl(t),i=r.kn.get(n);return void 0!==i?Op.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,lf(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Zl.min(),n?o:dd())})).next((function(t){return{documents:t,Bn:o}}))}))}function ng(t,e){var n=Wl(t),r=Wl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function rg(t){var e=Wl(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Wl(t),i=sd(),o=Gp(n),a=Mv(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:pp.readTimeIndex,range:s},(function(t,e){var n=Bp(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Wp(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn;return e.On=t.readTime,n}))}function ig(t){return Ml(this,void 0,void 0,(function(){var e;return Nl(this,(function(n){return[2,(e=Wl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Mv(t),n=Zl.min();return e.Ot({index:pp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Wp(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}function og(t,e,n,r){return Ml(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Nl(this,(function(p){switch(p.label){case 0:for(i=Wl(t),o=dd(),a=sd(),s=hd(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Zv(i,function(t){return lf(nf(ih.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Jv(t,f,a,Zl.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function ag(t,e,n){return void 0===n&&(n=dd()),Ml(this,void 0,void 0,(function(){var r,i;return Nl(this,(function(o){switch(o.label){case 0:return[4,Zv(t,lf($p(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Wl(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Ad(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(uh.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var sg=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Op.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ad(n.createTime)}),Op.resolve()},t.prototype.getNamedQuery=function(t,e){return Op.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:$p(t.bundledQuery),readTime:Ad(t.readTime)}}(e)),Op.resolve()},t}(),ug=function(){function t(){this.Wn=new id(cg.Gn),this.zn=new id(cg.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new cg(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new cg(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new mh(new ih([])),r=new cg(n,t),i=new cg(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new mh(new ih([])),n=new cg(e,t),r=new cg(e,t+1),i=dd();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new cg(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),cg=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return mh.comparator(t.key,e.key)||Yl(t.ns,e.ns)},t.Hn=function(t,e){return Yl(t.ns,e.ns)||mh.comparator(t.key,e.key)},t}(),lg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new id(cg.Gn)}return t.prototype.checkEmpty=function(t){return Op.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Up(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new cg(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Op.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Op.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Op.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Op.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Op.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new cg(e,0),i=new cg(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Op.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new id(Yl);return e.forEach((function(t){var e=new cg(t,0),i=new cg(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Op.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;mh.isDocumentKey(i)||(i=i.child(""));var o=new cg(new mh(i),0),a=new id(Yl);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),Op.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Gl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Op.forEach(e.mutations,(function(i){var o=new cg(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new cg(e,0),r=this.rs.firstAfterOrEqual(n);return Op.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Op.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),hg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ed(mh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Op.resolve(n?n.document.clone():Nh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=sd();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Nh.newInvalidDocument(t))})),Op.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=sd(),i=new mh(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||vf(e,u)&&(r=r.insert(u.key,u.clone()))}return Op.resolve(r)},t.prototype.fs=function(t,e){return Op.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new fg(this)},t.prototype.getSize=function(t){return Op.resolve(this.size)},t}(),fg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Al(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Op.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(xv),dg=function(){function t(t){this.persistence=t,this.ds=new Ov((function(t){return jh(t)}),Lh),this.lastRemoteSnapshotVersion=Zl.min(),this.highestTargetId=0,this.ws=0,this._s=new ug,this.targetCount=0,this.ys=vv.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Op.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Op.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Op.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Op.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Op.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new vv(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Op.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Op.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Op.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Op.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Op.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Op.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Op.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Op.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Op.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Op.resolve(n)},t.prototype.containsKey=function(t,e){return Op.resolve(this._s.containsKey(e))},t}(),pg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Dl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new dg(this),this.Ut=new nv,this.Ue=function(t,e){return new hg(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new zp(e),this.Qe=new sg(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new lg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Vl("MemoryPersistence","Starting transaction:",t);var i=new vg(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Op.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),vg=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Al(e,t),e}(Tp),gg=function(){function t(t){this.persistence=t,this.As=new ug,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Hl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Op.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Op.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Op.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Op.forEach(this.vs,(function(r){var i=mh.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Op.or([function(){return Op.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),yg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function mg(t,e){return"firestore_clients_"+t+"_"+e}function bg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function _g(t,e){return"firestore_targets_"+t+"_"+e}yg.UNAUTHENTICATED=new yg(null),yg.GOOGLE_CREDENTIALS=new yg("google-credentials-uid"),yg.FIRST_PARTY=new yg("first-party-uid");var wg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ll(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(ql("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Cg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ll(i.error.code,i.error.message)),o?new t(e,i.state,r):(ql("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),kg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=vd(),a=0;i&&a<r.activeTargetIds.length;++a)i=yh(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(ql("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Sg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ql("SharedClientState","Failed to parse online state: "+e),null)},t}(),Tg=function(){function t(){this.activeTargetIds=vd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Eg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ed(Yl),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=mg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Tg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Ml(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Nl(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(mg(this.persistenceKey,r)))&&(o=kg.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(_g(this.persistenceKey,t));if(n){var r=Cg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(_g(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Vl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Vl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Vl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Vl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void ql("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ml(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Nl(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Dl.o;if(null!=t)try{var n=JSON.parse(t);Gl("number"==typeof n),e=n}catch(t){ql("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Dl.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new wg(this.currentUser,t,e,n),i=bg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=bg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=_g(this.persistenceKey,t),i=new Cg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return kg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return wg.Vs(new yg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Cg.Vs(r,e)},t.prototype.js=function(t){return Sg.Vs(t)},t.prototype.ii=function(t){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Vl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=vd();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Og=function(){function t(){this.li=new Tg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Tg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),xg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Ig=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Vl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Vl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Pg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ag=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Mg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Al(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new Il;a.listenOnce(El.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Tl.NO_ERROR:var e=a.getResponseJson();Vl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Tl.TIMEOUT:Vl("Connection",'RPC "'+t+'" timed out'),o(new Ll(jl.DEADLINE_EXCEEDED,"Request time out"));break;case Tl.HTTP_ERROR:var n=a.getStatus();if(Vl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(jl).indexOf(e)>=0?e:jl.UNKNOWN}(r.status);o(new Ll(s,r.message))}else o(new Ll(jl.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ll(jl.UNAVAILABLE,"Connection failed."));break;default:Hl()}}finally{Vl("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new _l,i=ku(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(Ia.q)()||Object(Ia.s)()||Object(Ia.n)()||Object(Ia.o)()||Object(Ia.t)()||Object(Ia.m)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Vl("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Ag({Ei:function(t){c?Vl("Connection","Not sending because WebChannel is closed:",t):(u||(Vl("Connection","Opening WebChannel transport."),s.open(),u=!0),Vl("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,xl.EventType.OPEN,(function(){c||Vl("Connection","WebChannel transport opened.")})),h(s,xl.EventType.CLOSE,(function(){c||(c=!0,Vl("Connection","WebChannel transport closed"),l.Vi())})),h(s,xl.EventType.ERROR,(function(t){c||(c=!0,zl("Connection","WebChannel transport errored:",t),l.Vi(new Ll(jl.UNAVAILABLE,"The operation could not be completed")))})),h(s,xl.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Gl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Vl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Qf[t];if(void 0!==e)return td(e)}(i),a=r.message;void 0===o&&(o=jl.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Ll(o,a)),s.close()}else Vl("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Ol.STAT_EVENT,(function(t){10===t.stat?Vl("Connection","Detected buffering proxy"):11===t.stat&&Vl("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Vl("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Vl("RestConnection","Received: ",t),t}),(function(e){throw zl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Pg[t]},t}());function Ng(){return"undefined"!=typeof window?window:null}function Rg(){return"undefined"!=typeof document?document:null}function Dg(t){return new Od(t,!0)}var jg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Vl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Lg=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new jg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===jl.RESOURCE_EXHAUSTED?(ql(e.toString()),ql("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===jl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Ll(jl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Ml(t,void 0,void 0,(function(){return Nl(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Vl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Vl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Fg=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Al(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Hl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Gl(void 0===e||"string"==typeof e),uh.fromBase64String(e||"")):(Gl(void 0===e||e instanceof Uint8Array),uh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?jl.UNKNOWN:td(t.code);return new Ll(e,t.message||"")}(s);n=new _d(r,i,o,a||null)}else if("documentChange"in e){i=Dd(t,(r=e.documentChange).document.name),o=Ad(r.document.updateTime);var s=new Ah({mapValue:{fields:r.document.fields}}),u=(a=Nh.newFoundDocument(i,o,s),r.targetIds||[]);n=new md(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=Dd(t,(r=e.documentDelete).document),o=r.readTime?Ad(r.readTime):Zl.min(),s=Nh.newNoDocument(i,o),n=new md([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=Dd(t,(r=e.documentRemove).document),n=new md([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Hl();var c=e.filter;i=new $f(r=c.count||0),n=new bd(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Zl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Zl.min():e.readTime?Ad(e.readTime):Zl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Fd(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Fh(r)?{documents:Hd(t,r)}:{query:Gd(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Id(t,e.resumeToken):e.snapshotVersion.compareTo(Zl.min())>0&&(n.readTime=xd(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Fd(this.R),e.removeTarget=t,this.cr(e)},e}(Lg),Ug=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Al(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Gl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Gl(void 0!==e),t.map((function(t){return function(t,e){var n=Ad(t.updateTime?t.updateTime:e);return n.isEqual(Zl.min())&&(n=Ad(e)),new Rf(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ad(t.commitTime);return this.listener.Tr(n,e)}return Gl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Fd(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return zd(e.R,t)}))};this.cr(n)},e}(Lg),Vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Al(e,t),e.prototype.br=function(){if(this.Rr)throw new Ll(jl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw t.code===jl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw t.code===jl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Rr=!1},e}((function(){})),qg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ql(e),this.Vr=!1):Vl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),zg=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Ml(o,void 0,void 0,(function(){return Nl(this,(function(t){switch(t.label){case 0:return Jg(this)?(Vl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Ml(this,void 0,void 0,(function(){var e;return Nl(this,(function(n){switch(n.label){case 0:return(e=Wl(t)).$r.add(4),[4,Hg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Bg(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new qg(n,r)};function Bg(t){return Ml(this,void 0,void 0,(function(){var e,n;return Nl(this,(function(r){switch(r.label){case 0:if(!Jg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Hg(t){return Ml(this,void 0,void 0,(function(){var e,n;return Nl(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Gg(t,e){var n=Wl(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Xg(n)?Yg(n):fy(n).er()&&Kg(n,e))}function Wg(t,e){var n=Wl(t),r=fy(n);n.Or.delete(e),r.er()&&Qg(n,e),0===n.Or.size&&(r.er()?r.ir():Jg(n)&&n.Br.set("Unknown"))}function Kg(t,e){t.qr.U(e.targetId),fy(t).mr(e)}function Qg(t,e){t.qr.U(e),fy(t).yr(e)}function Yg(t){t.qr=new Cd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),fy(t).start(),t.Br.Sr()}function Xg(t){return Jg(t)&&!fy(t).tr()&&t.Or.size>0}function Jg(t){return 0===Wl(t).$r.size}function $g(t){t.qr=void 0}function Zg(t){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(e){return t.Or.forEach((function(e,n){Kg(t,e)})),[2]}))}))}function ty(t,e){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(n){return $g(t),Xg(t)?(t.Br.Nr(e),Yg(t)):t.Br.set("Unknown"),[2]}))}))}function ey(t,e,n){return Ml(this,void 0,void 0,(function(){var r,i,o;return Nl(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof _d&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i,o;return Nl(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Vl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ny(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof md?t.qr.X(e):e instanceof bd?t.qr.rt(e):t.qr.et(e),n.isEqual(Zl.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Yv(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(uh.EMPTY_BYTE_STRING,n.snapshotVersion)),Qg(t,e);var r=new qp(n.target,e,1,n.sequenceNumber);Kg(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Vl("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,ny(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function ny(t,e,n){return Ml(this,void 0,void 0,(function(){var r=this;return Nl(this,(function(i){switch(i.label){case 0:if(!Mp(e))throw e;return t.$r.add(1),[4,Hg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Yv(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Ml(r,void 0,void 0,(function(){return Nl(this,(function(e){switch(e.label){case 0:return Vl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Bg(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function ry(t,e){return e().catch((function(n){return ny(t,n,e)}))}function iy(t){return Ml(this,void 0,void 0,(function(){var e,n,r,i,o;return Nl(this,(function(a){switch(a.label){case 0:e=Wl(t),n=dy(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Jg(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,$v(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=dy(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,ny(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return oy(e)&&ay(e),[2]}}))}))}function oy(t){return Jg(t)&&!dy(t).tr()&&t.kr.length>0}function ay(t){dy(t).start()}function sy(t){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(e){return dy(t).Ar(),[2]}))}))}function uy(t){return Ml(this,void 0,void 0,(function(){var e,n,r;return Nl(this,(function(i){for(e=dy(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function cy(t,e,n){return Ml(this,void 0,void 0,(function(){var r,i;return Nl(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Vp.from(r,e,n),[4,ry(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,iy(t)];case 2:return o.sent(),[2]}}))}))}function ly(t,e){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(n){switch(n.label){case 0:return e&&dy(t).pr?[4,function(t,e){return Ml(this,void 0,void 0,(function(){var n,r;return Nl(this,(function(i){switch(i.label){case 0:return Zf(r=e.code)&&r!==jl.ABORTED?(n=t.kr.shift(),dy(t).sr(),[4,ry(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,iy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return oy(t)&&ay(t),[2]}}))}))}function hy(t,e){return Ml(this,void 0,void 0,(function(){var n;return Nl(this,(function(r){switch(r.label){case 0:return n=Wl(t),e?(n.$r.delete(2),[4,Bg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Hg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function fy(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Wl(t);return r.br(),new Fg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Zg.bind(null,t),Ri:ty.bind(null,t),_r:ey.bind(null,t)}),t.Mr.push((function(n){return Ml(e,void 0,void 0,(function(){return Nl(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Xg(t)?Yg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),$g(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function dy(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Wl(t);return r.br(),new Ug(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:sy.bind(null,t),Ri:ly.bind(null,t),Ir:uy.bind(null,t),Tr:cy.bind(null,t)}),t.Mr.push((function(n){return Ml(e,void 0,void 0,(function(){return Nl(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,iy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Vl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var py=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ep,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ll(jl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function vy(t,e){if(ql("AsyncQueue",e+": "+t),Mp(t))return new Ll(jl.UNAVAILABLE,e+": "+t);throw t}var gy=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||mh.comparator(e.key,n.key)}:function(t,e){return mh.comparator(t.key,e.key)},this.keyedMap=cd(),this.sortedSet=new ed(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),yy=function(){function t(){this.Kr=new ed(mh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Hl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),my=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,gy.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),by=function(){this.Wr=void 0,this.listeners=[]},_y=function(){this.queries=new Ov((function(t){return df(t)}),ff),this.onlineState="Unknown",this.Gr=new Set};function wy(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Nl(this,(function(c){switch(c.label){case 0:if(n=Wl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new by),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=vy(s,"Initialization of query '"+pf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Ty(n),[2]}}))}))}function Cy(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i,o,a;return Nl(this,(function(s){return n=Wl(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ky(t,e){for(var n=Wl(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&Ty(n)}function Sy(t,e,n){var r=Wl(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Ty(t){t.Gr.forEach((function(t){t.next()}))}var Ey=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new my(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=my.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Oy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),xy=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Dd(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?qd(this.R,t.document,!1):Nh.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Ad(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new xy(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||dd()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Ml(this,void 0,void 0,(function(){var t,e,n,r,i;return Nl(this,(function(o){switch(o.label){case 0:return[4,og(this.localStore,new xy(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,ag(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new qv(Object.assign({},this.progress),t))]}}))}))}}();var Iy=function(t){this.key=t},Py=function(t){this.key=t},Ay=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=dd(),this.mutatedKeys=dd(),this.lo=gf(t),this.fo=new gy(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new yy,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=rf(this.query)&&i.size===this.query.limit?i.last():null,c=of(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=vf(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),rf(this.query)||of(this.query))for(;a.size>this.query.limit;){var l=rf(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new my(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new yy,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=dd(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Py(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Iy(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=dd();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return my.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),My=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ny=function(t){this.key=t,this.bo=!1},Ry=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ov((function(t){return df(t)}),ff),this.Vo=new Map,this.So=new Set,this.Do=new ed(mh.comparator),this.Co=new Map,this.No=new ug,this.xo={},this.Fo=new Map,this.ko=vv.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Dy(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i,o,a;return Nl(this,(function(s){switch(s.label){case 0:return n=lm(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Zv(n.localStore,lf(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,jy(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&Gg(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function jy(t,e,n,r){return Ml(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Nl(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Ml(this,void 0,void 0,(function(){var i,o,a;return Nl(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,eg(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Yy(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,eg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Ay(e,i.Bn),a=o._o(i.documents),s=yd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Yy(t,n,u.To),c=new My(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Ly(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i;return Nl(this,(function(o){switch(o.label){case 0:return n=Wl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!ff(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,tg(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Wg(n.remoteStore,r.targetId),Ky(n,r.targetId)})).catch(_v)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ky(n,r.targetId),[4,tg(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Fy(t,e,n){return Ml(this,void 0,void 0,(function(){var r,i,o,a;return Nl(this,(function(s){switch(s.label){case 0:r=hm(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Wl(t),i=$l.now(),o=e.reduce((function(t,e){return t.add(e.key)}),dd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Vf(c,n.get(c.key));null!=l&&a.push(new Hf(c.key,l,Mh(l.toProto().mapValue),Df.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ed(Yl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,$y(r,i.changes)];case 3:return s.sent(),[4,iy(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=vy(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Uy(t,e){return Ml(this,void 0,void 0,(function(){var n,r;return Nl(this,(function(i){switch(i.label){case 0:n=Wl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Xv(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Gl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Gl(r.bo):t.removedDocuments.size>0&&(Gl(r.bo),r.bo=!1))})),[4,$y(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,_v(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Vy(t,e,n){var r=Wl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Wl(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Ty(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qy(t,e,n){return Ml(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Nl(this,(function(c){switch(c.label){case 0:return(r=Wl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new ed(mh.comparator)).insert(o,Nh.newNoDocument(o,Zl.min())),s=dd().add(o),u=new gd(Zl.min(),new Map,new id(Yl),a,s),[4,Uy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Jy(r),[3,4];case 2:return[4,tg(r.localStore,e,!1).then((function(){return Ky(r,e,n)})).catch(_v)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function zy(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i;return Nl(this,(function(o){switch(o.label){case 0:n=Wl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Qv(n.localStore,e)];case 2:return i=o.sent(),Wy(n,r,null),Gy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,$y(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,_v(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function By(t,e,n){return Ml(this,void 0,void 0,(function(){var r,i;return Nl(this,(function(o){switch(o.label){case 0:r=Wl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Wl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Gl(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Wy(r,e,n),Gy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,$y(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,_v(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Hy(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i,o,a;return Nl(this,(function(s){switch(s.label){case 0:Jg((n=Wl(t)).remoteStore)||Vl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Wl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=vy(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Gy(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Wy(t,e,n){var r=Wl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ky(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Qy(t,e)}))}function Qy(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Wg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Jy(t))}function Yy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Iy?(t.No.addReference(o.key,e),Xy(t,o)):o instanceof Py?(Vl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Qy(t,o.key)):Hl()}}function Xy(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Vl("SyncEngine","New document in limbo: "+n),t.So.add(r),Jy(t))}function Jy(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new mh(ih.fromString(e)),r=t.ko.next();t.Co.set(r,new Ny(n)),t.Do=t.Do.insert(n,r),Gg(t.remoteStore,new qp(lf(nf(n.path)),r,2,Dl.o))}}function $y(t,e,n){return Ml(this,void 0,void 0,(function(){var r,i,o,a;return Nl(this,(function(s){switch(s.label){case 0:return r=Wl(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.$o(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Bv.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Nl(this,(function(l){switch(l.label){case 0:n=Wl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Op.forEach(e,(function(e){return Op.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Op.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Mp(r=l.sent()))throw r;return Vl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Zy(t,e){return Ml(this,void 0,void 0,(function(){var n,r;return Nl(this,(function(i){switch(i.label){case 0:return(n=Wl(t)).currentUser.isEqual(e)?[3,3]:(Vl("SyncEngine","User change. New user:",e.toKey()),[4,Kv(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Ll(jl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,$y(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function tm(t,e){var n=Wl(t),r=n.Co.get(e);if(r&&r.bo)return dd().add(r.key);var i=dd(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function em(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i;return Nl(this,(function(o){switch(o.label){case 0:return[4,eg((n=Wl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Yy(n,e.targetId,i.To),i)]}}))}))}function nm(t){return Ml(this,void 0,void 0,(function(){var e;return Nl(this,(function(n){return[2,rg((e=Wl(t)).localStore).then((function(t){return $y(e,t)}))]}))}))}function rm(t,e,n,r){return Ml(this,void 0,void 0,(function(){var i,o;return Nl(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Wl(t),r=Wl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Op.resolve(null)}))}))}((i=Wl(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,iy(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Wy(i,e,r||null),Gy(i,e),function(t,e){Wl(Wl(t)._n).Gt(e)}(i.localStore,e)):Hl(),a.label=4;case 4:return[4,$y(i,o)];case 5:return a.sent(),[3,7];case 6:Vl("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function im(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Nl(this,(function(c){switch(c.label){case 0:return lm(n=Wl(t)),hm(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,om(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,hy(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)Gg(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then((function(){return Ky(n,e),tg(n.localStore,e,!0)})),Wg(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,om(n,s)];case 5:return c.sent(),function(t){var e=Wl(t);e.Co.forEach((function(t,n){Wg(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new ed(mh.comparator)}(n),n.Oo=!1,[4,hy(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function om(t,e,n){return Ml(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Nl(this,(function(v){switch(v.label){case 0:n=Wl(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,Zv(n.localStore,lf(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,em(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ng(n.localStore,s)];case 8:return p=v.sent(),[4,Zv(n.localStore,p)];case 9:return u=v.sent(),[4,jy(n,am(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function am(t){return ef(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sm(t){var e=Wl(t);return Wl(Wl(e.localStore).persistence).fn()}function um(t,e,n,r){return Ml(this,void 0,void 0,(function(){var i,o,a;return Nl(this,(function(s){switch(s.label){case 0:return(i=Wl(t)).Oo?(Vl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rg(i.localStore)];case 3:return o=s.sent(),a=gd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,$y(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,tg(i.localStore,e,!0)];case 6:return s.sent(),Ky(i,e,r),[3,8];case 7:Hl(),s.label=8;case 8:return[2]}}))}))}function cm(t,e,n){return Ml(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Nl(this,(function(f){switch(f.label){case 0:if(!(r=lm(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(Vl("SyncEngine","Adding an already active target "+a),[3,5]):[4,ng(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,Zv(r.localStore,s)];case 3:return u=f.sent(),[4,jy(r,am(s),u.targetId,!1)];case 4:f.sent(),Gg(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Nl(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,tg(r.localStore,t,!1).then((function(){Wg(r.remoteStore,t),Ky(r,t)})).catch(_v)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function lm(t){var e=Wl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qy.bind(null,e),e.vo._r=ky.bind(null,e.eventManager),e.vo.Mo=Sy.bind(null,e.eventManager),e}function hm(t){var e=Wl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=By.bind(null,e),e}var fm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(e){switch(e.label){case 0:return this.R=Dg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Wv(this.persistence,new Hv,t.initialUser,this.R)},t.prototype.qo=function(t){return new pg(gg.bs,this.R)},t.prototype.Bo=function(t){return new Og},t.prototype.terminate=function(){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),dm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Al(e,t),e.prototype.initialize=function(e){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ig(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,hm(this.Ko.syncEngine)];case 4:return n.sent(),[4,iy(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Wv(this.persistence,new Hv,t.initialUser,this.R)},e.prototype.Uo=function(t){return new kv(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Vv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sv.withCacheSize(this.cacheSizeBytes):sv.DEFAULT;return new Lv(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ng(),Rg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Og},e}(fm),pm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Al(e,t),e.prototype.initialize=function(e){return Ml(this,void 0,void 0,(function(){var n,r=this;return Nl(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Eg?(this.sharedClientState.syncEngine={ui:rm.bind(null,n),ai:um.bind(null,n),hi:cm.bind(null,n),fn:sm.bind(null,n),ci:nm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Ml(r,void 0,void 0,(function(){return Nl(this,(function(e){switch(e.label){case 0:return[4,im(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Ng();if(!Eg.yt(e))throw new Ll(jl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Vv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Eg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(dm),vm=function(){function t(){}return t.prototype.initialize=function(t,e){return Ml(this,void 0,void 0,(function(){var n=this;return Nl(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Vy(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Zy.bind(null,this.syncEngine),[4,hy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new _y},t.prototype.createDatastore=function(t){var e=Dg(t.databaseInfo.databaseId),n=new Mg(t.databaseInfo);return function(t,e,n){return new Vg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Vy(a.syncEngine,t,0)},o=Ig.yt()?new Ig:new xg,new zg(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Ry(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Ml(this,void 0,void 0,(function(){var e;return Nl(this,(function(n){switch(n.label){case 0:return e=Wl(t),Vl("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Hg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),gm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ym=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ep,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Ml(this,void 0,void 0,(function(){var t,e,n,r;return Nl(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Oy(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Ml(this,void 0,void 0,(function(){var t,e;return Nl(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Ml(this,void 0,void 0,(function(){var e;return Nl(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Ml(this,void 0,void 0,(function(){var t,e;return Nl(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Ml(this,void 0,void 0,(function(){var e,n=this;return Nl(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ll(jl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Nl(this,(function(u){switch(u.label){case 0:return n=Wl(t),r=Fd(n.R)+"/documents",i={documents:e.map((function(t){return Rd(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Gl(!!e.found);var n=Dd(t,e.found.name),r=Ad(e.found.updateTime),i=new Ah({mapValue:{fields:e.found.fields}});return Nh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Gl(!!e.missing),Gl(!!e.readTime);var n=Dd(t,e.missing),r=Ad(e.readTime);return Nh.newNoDocument(n,r)}(t,e):Hl()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Gl(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Xf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Ml(this,void 0,void 0,(function(){var t,e=this;return Nl(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=mh.fromPath(n);e.mutations.push(new Jf(r,e.precondition(r)))})),[4,function(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i;return Nl(this,(function(o){switch(o.label){case 0:return n=Wl(t),r=Fd(n.R)+"/documents",i={writes:e.map((function(t){return zd(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Hl();e=Zl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ll(jl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Df.updateTime(e):Df.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Zl.min()))throw new Ll(jl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Df.updateTime(e)}return Df.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),mm=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new jg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Ml(t,void 0,void 0,(function(){var t,e,n=this;return Nl(this,(function(r){return t=new ym(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!vh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Zf(e)}return!1},t}(),bm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=yg.UNAUTHENTICATED,this.clientId=Ql.u(),this.credentialListener=function(){},this.receivedInitialUser=new Ep,this.credentials.setChangeListener((function(t){Vl("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ll(jl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ep;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ml(t,void 0,void 0,(function(){var t,n;return Nl(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=vy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function _m(t,e){return Ml(this,void 0,void 0,(function(){var n,r,i=this;return Nl(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Vl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Ml(i,void 0,void 0,(function(){return Nl(this,(function(t){switch(t.label){case 0:return[4,Kv(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function wm(t,e){return Ml(this,void 0,void 0,(function(){var n,r;return Nl(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Cm(t)];case 1:return n=i.sent(),Vl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Ml(this,void 0,void 0,(function(){var n,r;return Nl(this,(function(i){switch(i.label){case 0:return(n=Wl(t)).asyncQueue.verifyOperationInProgress(),Vl("RemoteStore","RemoteStore received new credentials"),r=Jg(n),n.$r.add(3),[4,Hg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Bg(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function Cm(t){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Vl("FirestoreClient","Using default OfflineComponentProvider"),[4,_m(t,new fm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function km(t){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Vl("FirestoreClient","Using default OnlineComponentProvider"),[4,wm(t,new vm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Sm(t){return Cm(t).then((function(t){return t.persistence}))}function Tm(t){return Cm(t).then((function(t){return t.localStore}))}function Em(t){return km(t).then((function(t){return t.remoteStore}))}function Om(t){return km(t).then((function(t){return t.syncEngine}))}function xm(t){return Ml(this,void 0,void 0,(function(){var e,n;return Nl(this,(function(r){switch(r.label){case 0:return[4,km(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Dy.bind(null,e.syncEngine),n.onUnlisten=Ly.bind(null,e.syncEngine),n)]}}))}))}function Im(t,e,n){var r=this;void 0===n&&(n={});var i=new Ep;return t.asyncQueue.enqueueAndForget((function(){return Ml(r,void 0,void 0,(function(){var r;return Nl(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new gm({next:function(o){e.enqueueAndForget((function(){return Cy(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ll(jl.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ll(jl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Ey(nf(n.path),o,{includeMetadataChanges:!0,so:!0});return wy(t,a)},[4,xm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Pm(t,e,n){var r=this;void 0===n&&(n={});var i=new Ep;return t.asyncQueue.enqueueAndForget((function(){return Ml(r,void 0,void 0,(function(){var r;return Nl(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new gm({next:function(n){e.enqueueAndForget((function(){return Cy(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Ll(jl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Ey(n,o,{includeMetadataChanges:!0,so:!0});return wy(t,a)},[4,xm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Am=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Mm=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Nm=new Map,Rm=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Dm=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(yg.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),jm=function(){function t(t){var e=this;this.oc=null,this.currentUser=yg.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Vl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Gl("string"==typeof n.accessToken),new Rm(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Gl(null===t||"string"==typeof t),new yg(t)},t}(),Lm=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=yg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Fm=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Lm(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(yg.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Um(t,e,n){if(!n)throw new Ll(jl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Vm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ll(jl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function qm(t,e,n,r){if(!0===e&&!0===r)throw new Ll(jl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function zm(t){if(!mh.isDocumentKey(t))throw new Ll(jl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Bm(t){if(mh.isDocumentKey(t))throw new Ll(jl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Hm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Hl()}function Gm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ll(jl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hm(t);throw new Ll(jl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Wm(t,e){if(e<=0)throw new Ll(jl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Km=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ll(jl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ll(jl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,qm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Qm=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1,t instanceof Mm?(this._databaseId=t,this._credentials=new Dm):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ll(jl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mm(t.options.projectId)}(t),this._credentials=new jm(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ll(jl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ll(jl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Dm;switch(t.type){case"gapi":var e=t.client;return Gl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Fm(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ll(jl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Nm.get(this))&&(Vl("ComponentProvider","Removing Datastore"),Nm.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ym=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Jm(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Xm=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Jm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,nf(r))||this)._path=r,i.type="collection",i}return Al(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Ym(this.firestore,null,new mh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Xm);function $m(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ia.j)(t),Um("collection","path",e),t instanceof Qm)return Bm(n=ih.fromString.apply(ih,Rl([e],r))),new Jm(t,null,n);if(!(t instanceof Ym||t instanceof Jm))throw new Ll(jl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bm(n=ih.fromString.apply(ih,Rl([t.path],r)).child(ih.fromString(e))),new Jm(t.firestore,null,n)}function Zm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ia.j)(t),1===arguments.length&&(e=Ql.u()),Um("doc","path",e),t instanceof Qm)return zm(n=ih.fromString.apply(ih,Rl([e],r))),new Ym(t,null,new mh(n));if(!(t instanceof Ym||t instanceof Jm))throw new Ll(jl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zm(n=t._path.child(ih.fromString.apply(ih,Rl([e],r)))),new Ym(t.firestore,t instanceof Jm?t._converter:null,new mh(n))}function tb(t,e){return t=Object(Ia.j)(t),e=Object(Ia.j)(e),(t instanceof Ym||t instanceof Jm)&&(e instanceof Ym||e instanceof Jm)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function eb(t,e){return t=Object(Ia.j)(t),e=Object(Ia.j)(e),t instanceof Xm&&e instanceof Xm&&t.firestore===e.firestore&&ff(t._query,e._query)&&t._converter===e._converter}var nb=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new jg(this,"async_queue_retry"),this.Ec=function(){var e=Rg();e&&Vl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Rg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Rg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Ml(this,void 0,void 0,(function(){var t,e=this;return Nl(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Mp(t=n.sent()))throw t;return Vl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,ql("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=py.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Hl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Ml(this,void 0,void 0,(function(){var t;return Nl(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function rb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ep,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var ib=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new nb,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Al(e,t),e.prototype._terminate=function(){return this._firestoreClient||ab(this),this._firestoreClient.terminate()},e}(Qm);function ob(t){return t._firestoreClient||ab(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ab(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Am(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new bm(t._credentials,t._queue,r)}function sb(t,e,n){var r=this,i=new Ep;return t.asyncQueue.enqueue((function(){return Ml(r,void 0,void 0,(function(){var r;return Nl(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,_m(t,n)];case 1:return o.sent(),[4,wm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===jl.FAILED_PRECONDITION||t.code===jl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ub(t){if(t._initialized||t._terminated)throw new Ll(jl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var cb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ll(jl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ah(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),lb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(uh.fromBase64String(e))}catch(e){throw new Ll(jl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(uh.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),hb=function(t){this._methodName=t},fb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ll(jl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ll(jl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Yl(this._lat,t._lat)||Yl(this._long,t._long)},t}(),db=/^__.*__$/,pb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Hf(t,this.data,this.fieldMask,e,this.fieldTransforms):new Bf(t,this.data,e,this.fieldTransforms)},t}(),vb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Hf(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function gb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hl()}}var yb=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Lb(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(gb(this.Dc)&&db.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),mb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Dg(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new yb({Dc:t,methodName:e,Lc:n,path:ah.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function bb(t){var e=t._freezeSettings(),n=Dg(t._databaseId);return new mb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _b(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Nb("Data must be an object, but it was:",a,r);var s,u,c=Ab(r,a);if(o.merge)s=new sh(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Rb(e,f[h],n);if(!a.contains(d))throw new Ll(jl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Fb(l,d)||l.push(d)}s=new sh(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new pb(new Ah(c),s,u)}var wb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Al(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(hb);function Cb(t,e,n){return new yb({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Al(e,t),e.prototype._toFieldTransform=function(t){return new Nf(t.path,new Tf)},e.prototype.isEqual=function(t){return t instanceof e},e}(hb),Sb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Al(e,t),e.prototype._toFieldTransform=function(t){var e=Cb(this,t,!0),n=this.qc.map((function(t){return Pb(t,e)})),r=new Ef(n);return new Nf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(hb),Tb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Al(e,t),e.prototype._toFieldTransform=function(t){var e=Cb(this,t,!0),n=this.qc.map((function(t){return Pb(t,e)})),r=new xf(n);return new Nf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(hb),Eb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Al(e,t),e.prototype._toFieldTransform=function(t){var e=new Pf(t.R,_f(t.R,this.Uc));return new Nf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(hb);function Ob(t,e,n,r){var i=t.Bc(1,e,n);Nb("Data must be an object, but it was:",i,r);var o=[],a=Ah.empty();eh(r,(function(t,r){var s=jb(e,t,n);r=Object(Ia.j)(r);var u=i.kc(s);if(r instanceof wb)o.push(s);else{var c=Pb(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new sh(o);return new vb(a,s,i.fieldTransforms)}function xb(t,e,n,r,i,o){var a=t.Bc(1,e,n),s=[Rb(e,r,n)],u=[i];if(o.length%2!=0)throw new Ll(jl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Rb(e,o[c])),u.push(o[c+1]);for(var l=[],h=Ah.empty(),f=s.length-1;f>=0;--f)if(!Fb(l,s[f])){var d=s[f],p=u[f];p=Object(Ia.j)(p);var v=a.kc(d);if(p instanceof wb)l.push(d);else{var g=Pb(p,v);null!=g&&(l.push(d),h.set(d,g))}}var y=new sh(l);return new vb(h,y,a.fieldTransforms)}function Ib(t,e,n,r){return void 0===r&&(r=!1),Pb(n,t.Bc(r?4:3,e))}function Pb(t,e){if(Mb(t=Object(Ia.j)(t)))return Nb("Unsupported field value:",e,t),Ab(t,e);if(t instanceof hb)return function(t,e){if(!gb(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Pb(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Ia.j)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _f(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=$l.fromDate(t);return{timestampValue:xd(e.R,n)}}if(t instanceof $l)return n=new $l(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:xd(e.R,n)};if(t instanceof fb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lb)return{bytesValue:Id(e.R,t._byteString)};if(t instanceof Ym){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Md(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Hm(t))}(t,e)}function Ab(t,e){var n={};return nh(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eh(t,(function(t,r){var i=Pb(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Mb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $l||t instanceof fb||t instanceof lb||t instanceof Ym||t instanceof hb)}function Nb(t,e,n){if(!Mb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Hm(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Rb(t,e,n){if((e=Object(Ia.j)(e))instanceof cb)return e._internalPath;if("string"==typeof e)return jb(t,e);throw Lb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Db=new RegExp("[~\\*/\\[\\]]");function jb(t,e,n){if(e.search(Db)>=0)throw Lb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(cb.bind.apply(cb,Rl([void 0],e.split(".")))))._internalPath}catch(r){throw Lb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Lb(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Ll(jl.INVALID_ARGUMENT,(s+=". ")+t+u)}function Fb(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ub=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ym(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Vb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(qb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Vb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Al(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ub);function qb(t,e){return"string"==typeof e?jb(t,e):e instanceof cb?e._internalPath:e._delegate._internalPath}var zb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Bb=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Al(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Hb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(qb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Ub),Hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Al(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Bb),Gb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new zb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Hb(n._firestore,n._userDataWriter,r.key,r,new zb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ll(jl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Hb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new zb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Hb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new zb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Wb(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Wb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hl()}}function Kb(t,e){return t instanceof Bb&&e instanceof Bb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Gb&&e instanceof Gb&&t._firestore===e._firestore&&eb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Qb(t){if(of(t)&&0===t.explicitOrderBy.length)throw new Ll(jl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yb=function(){};function Xb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Jb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Al(e,t),e.prototype._apply=function(t){var e=bb(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ll(jl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){i_(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(r_(r,t,l[c]));s={arrayValue:{values:u}}}else s=r_(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||i_(a,o),s=Ib(n,"where",a,"in"===o||"not-in"===o);var h=Uh.create(i,o,s);return function(t,e){if(e.g()){var n=sf(t);if(null!==n&&!n.isEqual(e.field))throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=af(t);null!==r&&o_(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ll(jl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Xm(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Yb),$b=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Al(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Xh(e,n);return function(t,e){if(null===af(t)){var n=sf(t);null!==n&&o_(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Xm(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new tf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Yb),Zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Al(e,t),e.prototype._apply=function(t){return new Xm(t.firestore,t._converter,hf(t._query,this.Gc,this.zc))},e}(Yb),t_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Al(e,t),e.prototype._apply=function(t){var e=n_(t,this.type,this.Hc,this.Jc);return new Xm(t.firestore,t._converter,function(t,e){return new tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Yb),e_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Al(e,t),e.prototype._apply=function(t){var e=n_(t,this.type,this.Hc,this.Jc);return new Xm(t.firestore,t._converter,function(t,e){return new tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Yb);function n_(t,e,n,r){if(n[0]=Object(Ia.j)(n[0]),n[0]instanceof Ub)return function(t,e,n,r,i){if(!r)throw new Ll(jl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=cf(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Th(e,r.key));else{var c=r.data.field(u.field);if(dh(c))throw new Ll(jl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Qh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=bb(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Ll(jl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!uf(t)&&-1!==c.indexOf("/"))throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ih.fromString(c));if(!mh.isDocumentKey(l))throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new mh(l);s.push(Th(e,h))}else{var f=Ib(n,r,c);s.push(f)}}return new Qh(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function r_(t,e,n){if("string"==typeof(n=Object(Ia.j)(n))){if(""===n)throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uf(e)&&-1!==n.indexOf("/"))throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ih.fromString(n));if(!mh.isDocumentKey(r))throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Th(t,new mh(r))}if(n instanceof Ym)return Th(t,n._key);throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Hm(n)+".")}function i_(t,e){if(!Array.isArray(t)||0===t.length)throw new Ll(jl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ll(jl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function o_(t,e,n){if(!n.isEqual(e))throw new Ll(jl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var a_=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),bh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Hl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return eh(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new fb(hh(t.latitude),hh(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return dh(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ph(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=lh(t);return new $l(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ih.fromString(t);Gl(np(n));var r=new Mm(n.get(1),n.get(3)),i=new mh(n.popFirst(5));return r.isEqual(e)||ql("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function s_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var u_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Al(e,t),e.prototype.convertBytes=function(t){return new lb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ym(this.firestore,null,e)},e}(a_),c_=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=bb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=l_(t,this._firestore),i=s_(r._converter,e,n),o=_b(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Df.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=l_(t,this._firestore);return o="string"==typeof(e=Object(Ia.j)(e))||e instanceof cb?xb(this._dataReader,"WriteBatch.update",a._key,e,n,r):Ob(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Df.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=l_(t,this._firestore);return this._mutations=this._mutations.concat(new Xf(e._key,Df.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ll(jl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function l_(t,e){if((t=Object(Ia.j)(t)).firestore!==e)throw new Ll(jl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var h_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Al(e,t),e.prototype.convertBytes=function(t){return new lb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ym(this.firestore,null,e)},e}(a_);function f_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Gm(t,Ym);var o=Gm(t.firestore,ib),a=bb(o);return p_(o,[("string"==typeof(e=Object(Ia.j)(e))||e instanceof cb?xb(a,"updateDoc",t._key,e,n,r):Ob(a,"updateDoc",t._key,e)).toMutation(t._key,Df.exists(!0))])}function d_(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(Ia.j)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||rb(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(rb(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Ym)c=Gm(t.firestore,ib),l=nf(t._key.path),u={next:function(e){i[s]&&i[s](v_(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Gm(t,Xm);c=Gm(d.firestore,ib),l=d._query;var p=new h_(c);u={next:function(t){i[s]&&i[s](new Gb(c,p,d,t))},error:i[s+1],complete:i[s+2]},Qb(t._query)}return function(t,e,n,r){var i=this,o=new gm(r),a=new Ey(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Ml(i,void 0,void 0,(function(){var e;return Nl(this,(function(n){switch(n.label){case 0:return e=wy,[4,xm(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ml(i,void 0,void 0,(function(){var e;return Nl(this,(function(n){switch(n.label){case 0:return e=Cy,[4,xm(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(ob(c),l,h,u)}function p_(t,e){return function(t,e){var n=this,r=new Ep;return t.asyncQueue.enqueueAndForget((function(){return Ml(n,void 0,void 0,(function(){var n;return Nl(this,(function(i){switch(i.label){case 0:return n=Fy,[4,Om(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(ob(t),e)}function v_(t,e,n){var r=n.docs.get(e._key),i=new h_(t);return new Bb(t,i,e._key,r,new zb(n.hasPendingWrites,n.fromCache),e._converter)}var g_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Al(e,t),e.prototype.get=function(e){var n=this,r=l_(e,this._firestore),i=new h_(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Bb(n._firestore,i,r._key,t._document,new zb(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=bb(t)}return t.prototype.get=function(t){var e=this,n=l_(t,this._firestore),r=new u_(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Hl();var i=t[0];if(i.isFoundDocument())return new Ub(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Ub(e._firestore,r,n._key,null,n._converter);throw Hl()}))},t.prototype.set=function(t,e,n){var r=l_(t,this._firestore),i=s_(r._converter,e,n),o=_b(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=l_(t,this._firestore);return o="string"==typeof(e=Object(Ia.j)(e))||e instanceof cb?xb(this._dataReader,"Transaction.update",a._key,e,n,r):Ob(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=l_(t,this._firestore);return this._transaction.delete(e._key),this},t}());function y_(){if("undefined"==typeof Uint8Array)throw new Ll(jl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function m_(){if("undefined"==typeof atob)throw new Ll(jl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var b_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return m_(),new t(lb.fromBase64String(e))},t.fromUint8Array=function(e){return y_(),new t(lb.fromUint8Array(e))},t.prototype.toBase64=function(){return m_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return y_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),__=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ub(t=Gm(t,ib));var n=ob(t),r=t._freezeSettings(),i=new vm;return sb(n,i,new dm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ub(t=Gm(t,ib));var e=ob(t),n=t._freezeSettings(),r=new vm;return sb(e,r,new pm(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ll(jl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ep;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ml(e,void 0,void 0,(function(){var e;return Nl(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Ml(this,void 0,void 0,(function(){return Nl(this,(function(e){switch(e.label){case 0:return Ip.yt()?[4,Ip.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Vv(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),w_=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Mm||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Gm(t,Qm))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&zl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ml(e,void 0,void 0,(function(){var e,n;return Nl(this,(function(r){switch(r.label){case 0:return[4,Sm(t)];case 1:return e=r.sent(),[4,Em(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Wl(t);return e.$r.delete(0),Bg(e)}(n))]}}))}))}))}(ob(Gm(this._delegate,ib)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ml(e,void 0,void 0,(function(){var e,n;return Nl(this,(function(r){switch(r.label){case 0:return[4,Sm(t)];case 1:return e=r.sent(),[4,Em(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Ml(this,void 0,void 0,(function(){var e;return Nl(this,(function(n){switch(n.label){case 0:return(e=Wl(t)).$r.add(0),[4,Hg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(ob(Gm(this._delegate,ib)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&qm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ep;return t.asyncQueue.enqueueAndForget((function(){return Ml(e,void 0,void 0,(function(){var e;return Nl(this,(function(r){switch(r.label){case 0:return e=Hy,[4,Om(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(ob(Gm(this._delegate,ib)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new gm(e);return t.asyncQueue.enqueueAndForget((function(){return Ml(n,void 0,void 0,(function(){var e;return Nl(this,(function(n){switch(n.label){case 0:return e=function(t,e){Wl(t).Gr.add(e),e.next()},[4,xm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ml(n,void 0,void 0,(function(){var e;return Nl(this,(function(n){switch(n.label){case 0:return e=function(t,e){Wl(t).Gr.delete(e)},[4,xm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(ob(t=Gm(t,ib)),rb(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Ll(jl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new D_(this,$m(this._delegate,t))}catch(t){throw O_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new E_(this,Zm(this._delegate,t))}catch(t){throw O_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new M_(this,function(t,e){if(t=Gm(t,Qm),Um("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ll(jl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Xm(t,null,function(t){return new tf(ih.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw O_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ep;return t.asyncQueue.enqueueAndForget((function(){return Ml(n,void 0,void 0,(function(){var n;return Nl(this,(function(i){switch(i.label){case 0:return[4,function(t){return km(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new mm(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(ob(t),(function(n){return e(new g_(t,n))}))}(this._delegate,(function(n){return t(new k_(e,n))}))},t.prototype.batch=function(){var t=this;return ob(this._delegate),new S_(new c_(this._delegate,(function(e){return p_(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Ll(jl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ll(jl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),C_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Al(e,t),e.prototype.convertBytes=function(t){return new b_(new lb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return E_.Zc(e,this.firestore,null)},e}(a_),k_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new C_(t)}return t.prototype.get=function(t){var e=this,n=j_(t);return this._delegate.get(n).then((function(t){return new P_(e._firestore,new Bb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},t.prototype.set=function(t,e,n){var r=j_(t);return n?(Vm("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=j_(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Rl([a,e,n],i)),this},t.prototype.delete=function(t){var e=j_(t);return this._delegate.delete(e),this},t}(),S_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=j_(t);return n?(Vm("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=j_(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Rl([a,e,n],i)),this},t.prototype.delete=function(t){var e=j_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),T_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Hb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new A_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new C_(e),n),i.set(n,o)),o},t}();T_.eu=new WeakMap;var E_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new C_(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Ll(jl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ym(n._delegate,r,new mh(e)))},t.Zc=function(e,n,r){return new t(n,new Ym(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new D_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new D_(this.firestore,$m(this._delegate,t))}catch(t){throw O_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Ia.j)(t))instanceof Ym&&tb(this._delegate,t)},t.prototype.set=function(t,e){e=Vm("DocumentReference.set",e);try{return function(t,e,n){t=Gm(t,Ym);var r=Gm(t.firestore,ib),i=s_(t._converter,e,n);return p_(r,[_b(bb(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Df.none())])}(this._delegate,t,e)}catch(t){throw O_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?f_(this._delegate,t):f_.apply(void 0,Rl([this._delegate,t,e],n))}catch(t){throw O_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return p_(Gm((t=this._delegate).firestore,ib),[new Xf(t._key,Df.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=x_(e),i=I_(e,(function(e){return new P_(t.firestore,new Bb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return d_(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Gm(t,Ym);var e=Gm(t.firestore,ib),n=ob(e),r=new h_(e);return function(t,e){var n=this,r=new Ep;return t.asyncQueue.enqueueAndForget((function(){return Ml(n,void 0,void 0,(function(){var n;return Nl(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ml(this,void 0,void 0,(function(){var r,i;return Nl(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Wl(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ll(jl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=vy(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Tm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Bb(e,r,t._key,n,new zb(null!==n&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Gm(t,Ym);var e=Gm(t.firestore,ib);return Im(ob(e),t._key,{source:"server"}).then((function(n){return v_(e,t,n)}))}(this._delegate):function(t){t=Gm(t,Ym);var e=Gm(t.firestore,ib);return Im(ob(e),t._key).then((function(n){return v_(e,t,n)}))}(this._delegate)).then((function(t){return new P_(e.firestore,new Bb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?T_.tu(this.firestore,e):null))},t}();function O_(t,e,n){return t.message=t.message.replace(e,n),t}function x_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!rb(r))return r}return{}}function I_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=rb(t[0])?t[0]:rb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var P_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new E_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Kb(this._delegate,t._delegate)},t}(),A_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Al(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(P_),M_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new C_(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Xb(this._delegate,function(t,e,n){var r=e,i=qb("where",t);return new Jb(i,r,n)}(e,n,r)))}catch(e){throw O_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Xb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=qb("orderBy",t);return new $b(r,n)}(e,n)))}catch(e){throw O_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Xb(this._delegate,function(t){return Wm("limit",t),new Zb("limit",t,"F")}(e)))}catch(e){throw O_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Xb(this._delegate,function(t){return Wm("limitToLast",t),new Zb("limitToLast",t,"L")}(e)))}catch(e){throw O_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Xb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new t_("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw O_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Xb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new t_("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw O_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Xb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new e_("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw O_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Xb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new e_("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw O_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return eb(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Gm(t,Xm);var e=Gm(t.firestore,ib),n=ob(e),r=new h_(e);return function(t,e){var n=this,r=new Ep;return t.asyncQueue.enqueueAndForget((function(){return Ml(n,void 0,void 0,(function(){var n;return Nl(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ml(this,void 0,void 0,(function(){var r,i,o,a,s;return Nl(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,eg(t,e,!0)];case 1:return s=u.sent(),r=new Ay(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=vy(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Tm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Gb(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Gm(t,Xm);var e=Gm(t.firestore,ib),n=ob(e),r=new h_(e);return Pm(n,t._query,{source:"server"}).then((function(n){return new Gb(e,r,t,n)}))}(this._delegate):function(t){t=Gm(t,Xm);var e=Gm(t.firestore,ib),n=ob(e),r=new h_(e);return Qb(t._query),Pm(n,t._query).then((function(n){return new Gb(e,r,t,n)}))}(this._delegate)).then((function(t){return new R_(e.firestore,new Gb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=x_(e),i=I_(e,(function(e){return new R_(t.firestore,new Gb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return d_(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?T_.tu(this.firestore,e):null))},t}(),N_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new A_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),R_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new M_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new A_(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new N_(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new A_(n._firestore,r))}))},t.prototype.isEqual=function(t){return Kb(this._delegate,t._delegate)},t}(),D_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Al(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new E_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new E_(this.firestore,void 0===t?Zm(this._delegate):Zm(this._delegate,t))}catch(t){throw O_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Gm(t.firestore,ib),r=Zm(t),i=s_(t._converter,e);return p_(n,[_b(bb(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Df.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new E_(e.firestore,t)}))},e.prototype.isEqual=function(t){return tb(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?T_.tu(this.firestore,t):null))},e}(M_);function j_(t){return Gm(t,Ym)}var L_,F_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(cb.bind.apply(cb,Rl([void 0],t)))}return t.documentId=function(){return new t(ah.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Ia.j)(t))instanceof cb&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),U_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new kb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new wb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sb("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tb("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Eb("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),V_=n("/6Yf"),q_={Firestore:w_,GeoPoint:fb,Timestamp:$l,Blob:b_,Transaction:k_,WriteBatch:S_,DocumentReference:E_,DocumentSnapshot:P_,Query:M_,QueryDocumentSnapshot:A_,QuerySnapshot:R_,CollectionReference:D_,FieldPath:F_,FieldValue:U_,setLogLevel:function(t){Fl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new V_.a("firestore",(function(t){return function(t,e){return new w_(t,new ib(t,e),new __)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},q_)))})(L_=xa.a),L_.registerVersion("@firebase/firestore","2.2.4");var z_=n("VRyK"),B_=n("qgXg"),H_=n("Ylt2"),G_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(t){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),_get(_getPrototypeOf2(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new W_(this._getNow(),t)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf2(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Pe.a;if(this.isStopped||this.hasError?e=Rn.a.EMPTY:(this.observers.push(t),e=new H_.a(this,t)),i&&t.add(t=new Ea.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||B_.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Ee.a),W_=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n};function K_(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){c++,e&&!l||(l=!1,e=new G_(i,a,u),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}));var r=e.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}function Q_(t,e){return e?Cn((function(){return t}),e):Cn((function(){return t}))}var Y_,X_=n("tf+s"),J_=new r.q("angularfire2.auth.use-emulator"),$_=new r.q("angularfire2.auth.settings"),Z_=new r.q("angularfire2.auth.tenant-id"),tw=new r.q("angularfire2.auth.langugage-code"),ew=new r.q("angularfire2.auth.use-device-language"),nw=new r.q("angularfire.auth.persistence"),rw=((Y_=function t(e,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t);var f=new Oa.e(o),d=Object(Oa.i)(f),p=new Ee.a,v=Object(Oe.a)(void 0).pipe(Object(Ea.b)(f.outsideAngular),Cn((function(){return o.runOutsideAngular((function(){return n.e(6).then(n.bind(null,"6nsN"))}))})),Object(He.a)((function(){return Object(Oa.h)(e,o,r)})),Object(He.a)((function(t){return o.runOutsideAngular((function(){var e=a,n=s;return Object(Oa.g)(t.name+".auth","AngularFireAuth",t,(function(){var r=o.runOutsideAngular((function(){return t.auth()}));return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r}),[e,u,c,l,n,h])}))})),K_({bufferSize:1,refCount:!1}));if(B(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Oe.a)(null);else{v.pipe(mn()).subscribe();var g=v.pipe(Cn((function(t){return t.getRedirectResult().then((function(t){return t}),(function(){return null}))})),d,K_({bufferSize:1,refCount:!1})),y=function(t){return new Me.a((function(e){return{unsubscribe:o.runOutsideAngular((function(){return t(e)}))}}))},m=v.pipe(Cn((function(t){return y(t.onAuthStateChanged.bind(t))}))),b=v.pipe(Cn((function(t){return y(t.onIdTokenChanged.bind(t))})));this.authState=g.pipe(Q_(m),Object(X_.a)(f.outsideAngular),Object(Ea.b)(f.insideAngular)),this.user=g.pipe(Q_(b),Object(X_.a)(f.outsideAngular),Object(Ea.b)(f.insideAngular)),this.idToken=this.user.pipe(Cn((function(t){return t?Object(Ie.a)(t.getIdToken()):Object(Oe.a)(null)}))),this.idTokenResult=this.user.pipe(Cn((function(t){return t?Object(Ie.a)(t.getIdTokenResult()):Object(Oe.a)(null)}))),this.credential=Object(z_.a)(g,p,this.authState.pipe(Qe((function(t){return!t})))).pipe(Object(He.a)((function(t){return(null==t?void 0:t.user)?t:null})),Object(X_.a)(f.outsideAngular),Object(Ea.b)(f.insideAngular))}return Object(Oa.j)(this,v,o,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then((function(t){return p.next(t)}))}}})}).\u0275fac=function(t){return new(t||Y_)(r.Pb(Oa.c),r.Pb(Oa.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(J_,8),r.Pb($_,8),r.Pb(Z_,8),r.Pb(tw,8),r.Pb(ew,8),r.Pb(nw,8))},Y_.\u0275prov=Object(r.Eb)({factory:function(){return new Y_(Object(r.Pb)(Oa.c),Object(r.Pb)(Oa.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(J_,8),Object(r.Pb)($_,8),Object(r.Pb)(Z_,8),Object(r.Pb)(tw,8),Object(r.Pb)(ew,8),Object(r.Pb)(nw,8))},token:Y_,providedIn:"any"}),Y_);function iw(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba.a;return new Me.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function ow(t,e){return iw(t,e).pipe(Object(He.a)((function(t){return{payload:t,type:"query"}})))}function aw(t,e){return ow(t,e).pipe(En(void 0),_a(),Object(He.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),a=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function sw(t,e,n){return aw(t,n).pipe(On((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return uw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return uw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uw(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),ka(),Object(He.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function uw(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function cw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var lw=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=aw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(He.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(En(void 0),_a(),Qe((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(He.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(On((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=cw(t);return sw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ow(this.query,this.afs.schedulers.outsideAngular).pipe(Object(He.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Ie.a)(this.query.get(t)).pipe(Object(Ea.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new hw(this.ref.doc(t),this.afs)}}]),t}(),hw=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=yw(this.ref.collection(t),e),r=n.ref,i=n.query;return new lw(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return iw(this.ref,this.afs.schedulers.outsideAngular).pipe(En(void 0),_a(),Object(He.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(He.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(Ie.a)(this.ref.get(t)).pipe(Object(Ea.b)(this.afs.schedulers.insideAngular))}}]),t}(),fw=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?aw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(He.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Qe((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):aw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(On((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=cw(t);return sw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ow(this.query,this.afs.schedulers.outsideAngular).pipe(Object(He.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Ie.a)(this.query.get(t)).pipe(Object(Ea.b)(this.afs.schedulers.insideAngular))}}]),t}(),dw=new r.q("angularfire2.enableFirestorePersistence"),pw=new r.q("angularfire2.firestore.persistenceSettings"),vw=new r.q("angularfire2.firestore.settings"),gw=new r.q("angularfire2.firestore.use-emulator");function yw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var mw,bw,_w=((bw=function(){function t(e,n,r,i,o,a,s,u,c){_classCallCheck(this,t),this.schedulers=new Oa.e(a),this.keepUnstableUntilFirst=Object(Oa.i)(this.schedulers);var l=Object(Oa.h)(e,a,n);!ma.a.auth&&c&&Object(Oa.k)();var h=u,f=_slicedToArray(Object(Oa.g)(l.name+".firestore","AngularFirestore",l,(function(){var t=a.runOutsideAngular((function(){return l.firestore()}));return i&&t.settings(i),h&&t.useEmulator.apply(t,_toConsumableArray(h)),r&&!B(o)?[t,a.runOutsideAngular((function(){try{return Object(Ie.a)(t.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(L_){return"undefined"!=typeof console&&console.warn(L_),Object(Oe.a)(!1)}}))]:[t,Object(Oe.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=yw("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new lw(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new fw(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new hw(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||bw)(r.Pb(Oa.c),r.Pb(Oa.b,8),r.Pb(dw,8),r.Pb(vw,8),r.Pb(r.B),r.Pb(r.z),r.Pb(pw,8),r.Pb(gw,8),r.Pb(J_,8))},bw.\u0275prov=Object(r.Eb)({factory:function(){return new bw(Object(r.Pb)(Oa.c),Object(r.Pb)(Oa.b,8),Object(r.Pb)(dw,8),Object(r.Pb)(vw,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(pw,8),Object(r.Pb)(gw,8),Object(r.Pb)(J_,8))},token:bw,providedIn:"any"}),bw),ww=((mw=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:dw,useValue:!0},{provide:pw,useValue:e}]}}}]),t}()).\u0275mod=r.Gb({type:mw}),mw.\u0275inj=r.Fb({factory:function(t){return new(t||mw)},providers:[_w]}),mw),Cw=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new kw(t,this.dueTime,this.scheduler))}}]),t}(),kw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Sw,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(Ke.a);function Sw(t){t.debouncedNext()}var Tw=function(t,e){return(Tw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},Ew=function(){return(Ew=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ow(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(L_){o(L_)}}function s(t){try{u(r.throw(t))}catch(L_){o(L_)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function xw(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(L_){o=[6,L_],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Iw(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var Pw=function(t){function e(n,r){var i=t.call(this,Aw(n),"Firebase Storage: "+r+" ("+Aw(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Tw(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._codeEquals=function(t){return Aw(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Ia.c);function Aw(t){return"storage/"+t}function Mw(){return new Pw("unknown","An unknown error occurred, please check the error payload for server response.")}function Nw(){return new Pw("canceled","User canceled the upload/download.")}function Rw(){return new Pw("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Dw(t){return new Pw("invalid-argument",t)}function jw(){return new Pw("app-deleted","The Firebase app was deleted.")}function Lw(t){return new Pw("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fw(t,e){return new Pw("invalid-format","String does not match format '"+t+"': "+e)}function Uw(t){throw new Pw("internal-error","Internal error: "+t)}var Vw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},qw=function(t,e){this.data=t,this.contentType=e||null};function zw(t,e){switch(t){case Vw.RAW:return new qw(Bw(e));case Vw.BASE64:case Vw.BASE64URL:return new qw(Hw(t,e));case Vw.DATA_URL:return new qw((n=new Gw(e)).base64?Hw(Vw.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(L_){throw Fw(Vw.DATA_URL,"Malformed data URL.")}return Bw(e)}(n.rest),new Gw(e).contentType)}var n;throw Mw()}function Bw(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Hw(t,e){switch(t){case Vw.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Fw(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Vw.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Fw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(L_){throw Fw(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Gw=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Fw(Vw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},Ww={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Kw(t){switch(t){case"running":case"pausing":case"canceling":return Ww.RUNNING;case"paused":return Ww.PAUSED;case"success":return Ww.SUCCESS;case"canceled":return Ww.CANCELED;case"error":default:return Ww.ERROR}}var Qw=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Yw=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Qw.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Qw.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Qw.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Uw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Uw("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Uw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(L_){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Uw("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Xw=function(){function t(){}return t.prototype.createXhrIo=function(){return new Yw},t}(),Jw=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(L_){return new t(e,"")}if(""===r.path)return r;throw new Pw("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),r=new t(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(t){return new Pw("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),$w=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Zw(t){return"string"==typeof t||t instanceof String}function tC(t){return eC()&&t instanceof Blob}function eC(){return"undefined"!=typeof Blob}function nC(t,e,n,r){if(r<e)throw Dw("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Dw("Invalid value for '"+t+"'. Expected "+n+" or less.")}function rC(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function iC(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var oC=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(L_){o(L_)}else null!==a?((r=Mw()).serverResponse=a.getResponseText(),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?jw():Nw():new Pw("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new aC(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new aC(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Qw.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new aC(a,n))}else{var s=n.getErrorCode()===Qw.ABORT;e(!1,new aC(!1,null,s))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Iw([null,t],e));else{var r,o=u()||a;o?l.call.apply(l,Iw([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),aC=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function sC(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function uC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=sC();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(eC())return new Blob(t);throw new Pw("unsupported-environment","This browser doesn't seem to support creating Blobs")}var cC=function(){function t(t,e){var n=0,r="";tC(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(tC(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(eC()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(uC.apply(null,r))}var i=e.map((function(t){return Zw(t)?zw(Vw.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function lC(t){var e,n;try{e=JSON.parse(t)}catch(L_){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function hC(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function fC(t,e){return e}var dC=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||fC},pC=null;function vC(){if(pC)return pC;var t=[];t.push(new dC("bucket")),t.push(new dC("generation")),t.push(new dC("metageneration")),t.push(new dC("name","fullPath",!0));var e=new dC("name");e.xform=function(t,e){return function(t){return!Zw(t)||t.length<2?t:hC(t)}(e)},t.push(e);var n=new dC("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new dC("timeCreated")),t.push(new dC("updated")),t.push(new dC("md5Hash",null,!0)),t.push(new dC("cacheControl",null,!0)),t.push(new dC("contentDisposition",null,!0)),t.push(new dC("contentEncoding",null,!0)),t.push(new dC("contentLanguage",null,!0)),t.push(new dC("contentType",null,!0)),t.push(new dC("metadata","customMetadata",!0)),pC=t}function gC(t,e,n){var r=lC(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Jw(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function yC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var mC=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function bC(t){if(!t)throw Mw()}function _C(t,e){return function(n,r){var i=gC(t,r,e);return bC(null!==i),i}}function wC(t){return function(e,n){var r;return(r=401===e.getStatus()?new Pw("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Pw("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Pw("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function CC(t){var e=wC(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Pw("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function kC(t,e,n){var r=rC(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new mC(r,"GET",_C(t,n),i);return o.errorHandler=CC(e),o}function SC(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var TC=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function EC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(L_){bC(!1)}return bC(!!n&&-1!==(e||["active"]).indexOf(n)),n}var OC=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function xC(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var IC=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=vC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=SC(e,r,i),s={name:a.fullPath},u=rC(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=yC(a,n),h=new mC(u,"POST",(function(t){var e;EC(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(L_){bC(!1)}return bC(Zw(e)),e}),t.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=wC(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new mC(n,"POST",(function(t){var e=EC(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(L_){bC(!1)}n||bC(!1);var i=Number(n);return bC(!isNaN(i)),new TC(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=wC(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new TC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new TC(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Pw("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw Rw();var p=new mC(n,"POST",(function(t,n){var i,a=EC(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?_C(e,o)(t,n):null,new TC(s,c,"final"===a,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=s||null,p.errorHandler=wC(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(L_){return t._error=L_,void t._transition("error")}var a=t._ref.storage._makeRequest(o,i);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=kC(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=SC(e,r,i),c=yC(u,n),l=cC.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw Rw();var h={name:u.fullPath},f=rC(o,t.host),d=t.maxUploadRetryTime,p=new mC(f,"POST",_C(t,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=wC(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Nw(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Kw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new OC(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Kw(this._state)){case Ww.SUCCESS:xC(this._resolve.bind(null,this.snapshot))();break;case Ww.CANCELED:case Ww.ERROR:xC(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Kw(this._state)){case Ww.RUNNING:case Ww.PAUSED:t.next&&xC(t.next.bind(t,this.snapshot))();break;case Ww.SUCCESS:t.complete&&xC(t.complete.bind(t))();break;case Ww.CANCELED:case Ww.ERROR:t.error&&xC(t.error.bind(t,this._error))();break;default:t.error&&xC(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),PC=function(){function t(t,e){this._service=t,this._location=e instanceof Jw?e:Jw.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Jw(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return hC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Jw(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Lw(t)},t}();function AC(t,e){return Ow(this,void 0,void 0,(function(){var n,r,i;return xw(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&nC("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=rC(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new mC(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=lC(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new Jw(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=t._makeStorageReference(new Jw(e,c[u].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return bC(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=wC(e),u}(t.storage,t._location,0,(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}}))}))}function MC(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Jw(t._location.bucket,n);return new PC(t.storage,r)}function NC(t){return/^[A-Za-z]+:\/\//.test(t)}function RC(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:Jw.makeFromBucketSpec(n,t)}var DC=function(){function t(t,e,n,r,i){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Jw.makeFromBucketSpec(r,this._host):RC(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?Jw.makeFromBucketSpec(this._url,t):RC(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){nC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){nC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Ow(this,void 0,void 0,(function(){var t,e;return xw(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new PC(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new $w(jw());var r=function(t,e,n,r,i){var o=iC(t.urlParams),a=t.url+o,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(s,i),new oC(a,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}();function jC(t,e){return function(t,e){if(e&&NC(e)){if(t instanceof DC)return new PC(t,e);throw Dw("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof DC){var r=e;if(null==r._bucket)throw new Pw("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new PC(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw Dw('`path` param cannot contain ".."');return MC(e,n)}return e}(t,e)}(t=Object(Ia.j)(t),e)}var LC,FC,UC=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),VC=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new UC(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new UC(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new UC(t,i,i._ref))}:{next:e.next?function(t){return e.next(new UC(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),qC=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new zC(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new zC(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),zC=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return MC(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new VC(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new IC(t,new cC(e),n)}(t=Object(Ia.j)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Vw.RAW),this._throwIfRoot("putString");var r=zw(e,t),i=Ew({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new VC(new IC(this._delegate,new cC(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Ow(this,void 0,void 0,(function(){var i,o,a;return xw(this,(function(s){switch(s.label){case 0:return[4,AC(e,{pageToken:r})];case 1:return i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(Ia.j)(t))).then((function(t){return new qC(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return AC(t=Object(Ia.j)(t),e)}(this._delegate,t||void 0).then((function(t){return new qC(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Ow(this,void 0,void 0,(function(){var e,n;return xw(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=kC(t.storage,t._location,vC()),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(t=Object(Ia.j)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Ow(this,void 0,void 0,(function(){var n,r;return xw(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=rC(e.fullServerUrl(),t.host),o=yC(n,r),a=t.maxOperationRetryTime,s=new mC(i,"PATCH",_C(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=CC(e),s}(t.storage,t._location,e,vC()),[2,t.storage._makeRequest(r,n).getPromise()]}}))}))}(t=Object(Ia.j)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Ow(this,void 0,void 0,(function(){var e,n;return xw(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=rC(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new mC(r,"GET",function(t,e){return function(n,r){var i=gC(t,r,e);return bC(null!==i),function(t,e,n){var r=lC(e);if(null===r)return null;if(!Zw(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return rC("/b/"+o(t.bucket)+"/o/"+o(r),n)+iC({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=CC(e),o}(t.storage,t._location,vC()),[2,t.storage._makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new Pw("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(Ia.j)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Ow(this,void 0,void 0,(function(){var e,n;return xw(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=rC(e.fullServerUrl(),t.host),r=new mC(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=CC(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(t=Object(Ia.j)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Lw(t)},t}(),BC=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(NC(t))throw Dw("ref() expected a child path but got a URL, use refFromURL instead.");return new zC(jC(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!NC(t))throw Dw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Jw.makeFromUrl(t,this._delegate.host)}catch(L_){throw Dw("refFromUrl() expected a valid full URL but got an invalid one.")}return new zC(jC(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function HC(t){var e=function(t){return new Me.a((function(e){var n=function(t){return e.next(t)};n(t.snapshot);var r=t.on("state_changed",n);return t.then((function(t){n(t),e.complete()}),(function(r){n(t.snapshot),function(t){e.error(t)}(r)})),function(){r()}})).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba.a;return function(n){return n.lift(new Cw(t,e))}}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(Object(He.a)((function(t){return t.bytesTransferred/t.totalBytes*100})))}}}function GC(t,e,n){return{getDownloadURL:function(){return Object(Oe.a)(void 0).pipe(Object(Ea.b)(e.outsideAngular),Cn((function(){return t.getDownloadURL()})),n)},getMetadata:function(){return Object(Oe.a)(void 0).pipe(Object(Ea.b)(e.outsideAngular),Cn((function(){return t.getMetadata()})),n)},delete:function(){return Object(Ie.a)(t.delete())},child:function(r){return GC(t.child(r),e,n)},updateMetadata:function(e){return Object(Ie.a)(t.updateMetadata(e))},put:function(e,n){return HC(t.put(e,n))},putString:function(e,n,r){return HC(t.putString(e,n,r))},listAll:function(){return Object(Ie.a)(t.listAll())}}}FC={TaskState:Ww,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Vw,Storage:DC,Reference:zC},(LC=xa.a).INTERNAL.registerComponent(new V_.a("storage",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new BC(r,new DC(r,i,new Xw,n,xa.a.SDK_VERSION))}),"PUBLIC").setServiceProps(FC).setMultipleInstances(!0)),LC.registerVersion("@firebase/storage","0.5.0");var WC,KC,QC,YC=new r.q("angularfire2.storageBucket"),XC=new r.q("angularfire2.storage.maxUploadRetryTime"),JC=new r.q("angularfire2.storage.maxOperationRetryTime"),$C=((QC=function(){function t(e,n,r,i,o,a,s){_classCallCheck(this,t),this.schedulers=new Oa.e(o),this.keepUnstableUntilFirst=Object(Oa.i)(this.schedulers);var u=Object(Oa.h)(e,o,n);this.storage=Object(Oa.g)("".concat(u.name,".storage.").concat(r),"AngularFireStorage",u,(function(){var t=o.runOutsideAngular((function(){return u.storage(r||void 0)}));return a&&t.setMaxUploadRetryTime(a),s&&t.setMaxOperationRetryTime(s),t}),[a,s])}return _createClass(t,[{key:"ref",value:function(t){return GC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"refFromURL",value:function(t){return GC(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(t,e,n){return GC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}]),t}()).\u0275fac=function(t){return new(t||QC)(r.Pb(Oa.c),r.Pb(Oa.b,8),r.Pb(YC,8),r.Pb(r.B),r.Pb(r.z),r.Pb(XC,8),r.Pb(JC,8))},QC.\u0275prov=Object(r.Eb)({factory:function(){return new QC(Object(r.Pb)(Oa.c),Object(r.Pb)(Oa.b,8),Object(r.Pb)(YC,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(XC,8),Object(r.Pb)(JC,8))},token:QC,providedIn:"any"}),QC),ZC=((KC=function t(){_classCallCheck(this,t)}).\u0275mod=r.Gb({type:KC}),KC.\u0275inj=r.Fb({factory:function(t){return new(t||KC)}}),KC),tk=((WC=function t(){_classCallCheck(this,t)}).\u0275mod=r.Gb({type:WC}),WC.\u0275inj=r.Fb({factory:function(t){return new(t||WC)},providers:[$C],imports:[ZC]}),WC);function ek(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(L_){o(L_)}}function s(t){try{u(r.throw(t))}catch(L_){o(L_)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}var nk,rk,ik,ok,ak,sk,uk,ck,lk=function(){function t(e,n,r,i){_classCallCheck(this,t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new hk(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),t}(),hk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t)).keySelector=r,s.elementSelector=i,s.durationSelector=o,s.subjectSelector=a,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}},{key:"_group",value:function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Ee.a,n.set(e,i);var o=new dk(e,i,this);if(this.destination.next(o),this.durationSelector){var a;try{a=this.durationSelector(new dk(e,i))}catch(s){return void this.error(s)}this.add(a.subscribe(new fk(e,i,this)))}}i.closed||i.next(r)}},{key:"_error",value:function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)}},{key:"_complete",value:function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()}},{key:"removeGroup",value:function(t){this.groups.delete(t)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_get(_getPrototypeOf2(n.prototype),"unsubscribe",this).call(this))}}]),n}(Ke.a),fk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,r)).key=t,o.group=r,o.parent=i,o}return _createClass(n,[{key:"_next",value:function(t){this.complete()}},{key:"_unsubscribe",value:function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)}}]),n}(Ke.a),dk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).key=t,o.groupSubject=r,o.refCountSubscription=i,o}return _createClass(n,[{key:"_subscribe",value:function(t){var e=new Rn.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new pk(n)),e.add(r.subscribe(t)),e}}]),n}(Me.a),pk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).parent=t,t.count++,r}return _createClass(n,[{key:"unsubscribe",value:function(){var t=this.parent;t.closed||this.closed||(_get(_getPrototypeOf2(n.prototype),"unsubscribe",this).call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}]),n}(Rn.a),vk=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),gk=new r.q("angularfire2.analytics.appVersion"),yk=new r.q("angularfire2.analytics.appName"),mk=new r.q("angularfire2.analytics.debugMode"),bk=new r.q("angularfire2.analytics.config"),_k=((rk=function(){function t(e,r,i,o,a,s,u,c){var l=this;if(_classCallCheck(this,t),this.analyticsInitialized=new Promise((function(){})),z(u)){window.dataLayer=window.dataLayer||[];var h=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"config"===e[0]&&"firebase"===e[2].origin&&(l.measurementId=e[1],!0)},f=function(t){window.gtag=function(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];t&&t.apply(void 0,r),"event"===r[0]&&r[2].send_to===l.measurementId&&(o&&(r[2].app_name=o),i&&(r[2].app_version=i)),a&&"undefined"!=typeof console&&(e=console).info.apply(e,r),(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];window.dataLayer.push(arguments)}).apply(void 0,r)}};window.dataLayer.some(h)?(this.analyticsInitialized=Promise.resolve(),f()):this.analyticsInitialized=new Promise((function(t){f((function(){h.apply(void 0,arguments)&&t()}))})),s&&this.updateConfig(s),a&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();var d=Object(Oe.a)(void 0).pipe(Object(Ea.b)(new Oa.e(c).outsideAngular),Cn((function(){return z(u)?c.runOutsideAngular((function(){return n.e(5).then(n.bind(null,"AAub"))})):ze.a})),Object(He.a)((function(){return Object(Oa.g)("analytics","AngularFireAnalytics",e,(function(){var t=e.analytics();return!1===r&&t.setAnalyticsCollectionEnabled(!1),t}),[e,r,s,a])})),K_({bufferSize:1,refCount:!1}));return Object(Oa.j)(this,d,c)}return _createClass(t,[{key:"updateConfig",value:function(t){return ek(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.analyticsInitialized;case 2:window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}));case 3:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(t){return new(t||rk)(r.Pb(Oa.d),r.Pb(vk,8),r.Pb(gk,8),r.Pb(yk,8),r.Pb(mk,8),r.Pb(bk,8),r.Pb(r.B),r.Pb(r.z))},rk.\u0275prov=Object(r.Eb)({factory:function(){return new rk(Object(r.Pb)(Oa.d),Object(r.Pb)(vk,8),Object(r.Pb)(gk,8),Object(r.Pb)(yk,8),Object(r.Pb)(mk,8),Object(r.Pb)(bk,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z))},token:rk,providedIn:"any"}),rk),wk=((nk=function(){function t(e,n,r,i){var o;_classCallCheck(this,t),this.disposables=[],B(n)?this.initialized=Promise.resolve():(this.initialized=i.runOutsideAngular((function(){return new Promise((function(t){return o=t}))})),this.disposables=[r.authState.subscribe((function(t){e.setUserId(null==t?void 0:t.uid),o()})),r.credential.subscribe((function(t){if(t){var n=t.user.isAnonymous?"anonymous":t.additionalUserInfo.providerId;t.additionalUserInfo.isNewUser&&e.logEvent("sign_up",{method:n}),e.logEvent("login",{method:n})}}))])}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.disposables.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||nk)(r.Pb(_k),r.Pb(r.B),r.Pb(rw),r.Pb(r.z))},nk.\u0275prov=r.Eb({token:nk,factory:nk.\u0275fac}),nk),Ck=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31),kk={},Sk=function(t){var e=[t.screen_class,t.outlet].join("#");if(kk.hasOwnProperty(e))return kk[e];var n=Ck++;return kk[e]=n,n},Tk=((ok=function(){function t(e,n,r,i,o,a,s){var u=this;if(_classCallCheck(this,t),!n||!z(o))return this;a.runOutsideAngular((function(){var t,o=n.events.pipe(Qe((function(t){return t instanceof $n})));u.disposable=o.pipe(Cn((function(t){var e,o=(null===(e=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,(function(t){return t.replace("://",":///")}))).root.children[t.snapshot.outlet])||void 0===e?void 0:e.toString())||"",a=n.routerState.root.children.map((function(t){return t})).find((function(e){return e.outlet===t.snapshot.outlet}));if(!a)return Object(Oe.a)(null);for(var s=a;s.firstChild;)s=s.firstChild;var u=s.pathFromRoot.map((function(t){var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path})).filter((function(t){return t})).join("/")||"/",c={screen_name:u,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};r&&(c.page_title=r.getTitle());var l=a.component;if(l){if(l===tr){for(var h=t.snapshot;h.firstChild;)h=h.firstChild;l=h.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(Oe.a)(Object.assign(Object.assign({},c),{screen_class:l}));if(l){var f=i.resolveComponentFactory(l);return Object(Oe.a)(Object.assign(Object.assign({},c),{screen_class:f.selector}))}return Object(Oe.a)(null)})),Qe((function(t){return t})),Object(He.a)((function(t){return Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:Sk(t)},t)})),(t=function(t){return t.outlet},function(e){return e.lift(new lk(t,void 0,void 0,void 0))}),Object(bn.a)((function(t){return t.pipe(ka((function(t,e){return JSON.stringify(t)===JSON.stringify(e)})),En(void 0),_a(),Object(He.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return n?Object.assign({firebase_previous_class:n.screen_class,firebase_previous_screen:n.screen_name,firebase_previous_id:n.firebase_screen_id},r):r})),Cn((function(t){return ek(u,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=s,!n.t0){n.next=4;break}return n.next=4,s.initialized;case 4:return n.next=6,e.logEvent("screen_view",t);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))})))}))).subscribe()}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.disposable&&this.disposable.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||ok)(r.Pb(_k),r.Pb(to,8),r.Pb(At,8),r.Pb(r.j),r.Pb(r.B),r.Pb(r.z),r.Pb(wk,8))},ok.\u0275prov=r.Eb({token:ok,factory:ok.\u0275fac}),ok),Ek=((ik=function t(e,n,r){_classCallCheck(this,t),e.app.then((function(){}))}).\u0275mod=r.Gb({type:ik}),ik.\u0275inj=r.Fb({factory:function(t){return new(t||ik)(r.Pb(_k),r.Pb(Tk,8),r.Pb(wk,8))},providers:[_k]}),ik),Ok=[{path:"",component:$o,pathMatch:"full"},{path:"styles-selection",component:ca},{path:"product-detail",component:ia},{path:"summary",component:(ak=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.routerStateService=e,this.router=n,this.firestore=r,this.storage=i,this.activatedRoute=o,this.analytics=a,this.shouldShowSpinner=!1}return _createClass(t,[{key:"ngOnInit",value:function(){return la(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.routerStateService.state){t.next=3;break}return t.abrupt("return",void this.router.navigate(["product-detail"],{queryParamsHandling:"preserve"}));case 3:return this.petName=e.petName,this.petBirthMonth=e.petBirthMonth,this.selectedFile=e.selectedFile,this.routerStateService.clearState(),t.next=9,this.readFile(this.selectedFile);case 9:if(this.imageSrc=t.sent,n=this.activatedRoute.snapshot.queryParamMap.get("styleImageId")){t.next=13;break}return t.abrupt("return",void this.router.navigateByUrl("/styles-selection"));case 13:(r=Zo.find((function(t){return t.id===n})))?this.selectedStyleImage=r:this.router.navigateByUrl("/styles-selection");case 15:case"end":return t.stop()}}),t,this)})))}},{key:"readFile",value:function(t){return new Promise((function(e,n){var r=new FileReader;r.addEventListener("load",(function(){e(r.result)})),r.addEventListener("error",n),r.readAsDataURL(t)}))}},{key:"onSubmitForm",value:function(t){return la(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.shouldShowSpinner=!0,t.preventDefault(),e.next=4,this.uploadFile(this.selectedFile);case 4:return n=e.sent,e.next=7,this.createStylizationJobDocument(n);case 7:this.analytics.logEvent("generate_lead",{value:this.selectedStyleImage.name}),fbq("track","Lead",{content_name:this.selectedStyleImage.name}),this.router.navigate(["success"],{queryParams:{userEmail:this.email}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),this.router.navigateByUrl("/failure");case 15:case"end":return e.stop()}}),e,this,[[0,12]])})))}},{key:"uploadFile",value:function(t){return la(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="v2/content-images/"+ya(),r=this.storage.ref(n),e.next=3,r.put(t);case 3:return e.next=5,r.getDownloadURL().toPromise();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"createStylizationJobDocument",value:function(t){var e,n;return la(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={email:this.email,contentImagePublicUrl:t,styleImageName:this.selectedStyleImage.name,status:"PENDING",creationDate:ma.a.firestore.Timestamp.fromMillis(Date.now()),petName:null!==(e=this.petName)&&void 0!==e?e:null,petBirthMonth:null!==(n=this.petBirthMonth)&&void 0!==n?n:null},r.next=3,this.firestore.collection("stylization-jobs-v2").add(i);case 3:return r.abrupt("return",r.sent.id);case 4:case"end":return r.stop()}}),r,this)})))}}]),t}(),ak.\u0275fac=function(t){return new(t||ak)(r.Ib(ta),r.Ib(to),r.Ib(_w),r.Ib($C),r.Ib(Hr),r.Ib(_k))},ak.\u0275cmp=r.Cb({type:ak,selectors:[["app-summary"]],decls:40,vars:7,consts:[[1,"back-arrow-container"],["routerLink","/product-detail","queryParamsHandling","preserve"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 12l9-8v6h15v4h-15v6z"],[1,"image-outer-container"],[1,"image-inner-container"],["alt","",3,"src"],[1,"content-container"],[1,"top-card"],[1,"bottom-card"],[1,"paragraphs-container"],["ngNativeValidate","",3,"submit"],[1,"form-group"],["for","email"],["type","email","id","email","required","",3,"keyup"],["type","submit",1,"primary-btn"],[1,"screen-overlay"],[1,"dark-box"],["src","assets/images/loading-spinner.svg","alt",""]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"a",1),r.Wb(),r.Nb(2,"svg",2),r.Jb(3,"path",3),r.Mb(),r.Mb(),r.Mb(),r.Vb(),r.Nb(4,"div",4),r.Nb(5,"div",5),r.Jb(6,"img",6),r.Mb(),r.Mb(),r.Nb(7,"div",7),r.Nb(8,"section",8),r.Nb(9,"h2"),r.lc(10,"Personalisation Overiew"),r.Mb(),r.Nb(11,"ul"),r.Nb(12,"li"),r.Nb(13,"p"),r.lc(14,"Pet name"),r.Mb(),r.Nb(15,"p"),r.lc(16),r.Mb(),r.Mb(),r.Nb(17,"li"),r.Nb(18,"p"),r.lc(19,"Pet birthmonth"),r.Mb(),r.Nb(20,"p"),r.lc(21),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(22,"section",9),r.Nb(23,"h2"),r.lc(24,"Shipment"),r.Mb(),r.Nb(25,"div",10),r.Nb(26,"p"),r.lc(27," We will send you a preview of your dog on the mug within the next two hours to your mail address. "),r.Mb(),r.Nb(28,"p"),r.lc(29,"If you like the mug you can purchase it with the link in the mail."),r.Mb(),r.Mb(),r.Nb(30,"form",11),r.Tb("submit",(function(t){return e.onSubmitForm(t)})),r.Nb(31,"div",12),r.Nb(32,"label",13),r.lc(33,"Email"),r.Mb(),r.Nb(34,"input",14),r.Tb("keyup",(function(t){return e.email=t.target.value})),r.Mb(),r.Mb(),r.Nb(35,"button",15),r.lc(36," Submit "),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(37,"div",16),r.Jb(38,"div",17),r.Jb(39,"img",18),r.Mb()),2&t&&(r.xb(6),r.cc("src",e.imageSrc,r.gc),r.xb(10),r.mc(e.petName),r.xb(5),r.mc(e.petBirthMonth),r.xb(14),r.Ab("disabled",!e.email),r.xb(2),r.Ab("visible",e.shouldShowSpinner))},directives:[no],styles:["[_nghost-%COMP%]{background-color:#2b2d42;display:block}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%]{position:absolute;top:2rem;left:2rem;z-index:2}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;padding:.5rem}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;filter:drop-shadow(0 0 5px rgba(0,0,0,.7))}[_nghost-%COMP%]   div.back-arrow-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#fff}[_nghost-%COMP%] > div.image-outer-container[_ngcontent-%COMP%]{padding-top:100%;position:relative}[_nghost-%COMP%] > div.image-outer-container[_ngcontent-%COMP%] > div.image-inner-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%] > div.image-outer-container[_ngcontent-%COMP%] > div.image-inner-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%]{position:relative;top:-40px}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-family:pf-reg;font-weight:400}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%]{padding:2.5rem 2.5rem calc(2.5rem + 40px);background-color:#fff;border-radius:40px 40px 0 0}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;list-style-type:none}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#2b2d42;font-size:1rem;line-height:3rem;font-family:m-reg}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:last-child{font-family:m-bold}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.top-card[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:3rem;height:3rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%]{background-color:#2b2d42;padding:2.5rem 2.5rem 0;border-radius:40px 40px 0 0;position:relative;top:-40px}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:1rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > div.paragraphs-container[_ngcontent-%COMP%]{margin-bottom:2.4rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > div.paragraphs-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > div.paragraphs-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-child{margin-bottom:1.6rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1.6rem;position:relative}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{color:#fff;font-size:1rem;margin-bottom:.8rem}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:42px;border:none;outline:none;border-radius:10px;padding-left:1.5rem;padding-right:1.5rem;color:#fff;background-color:#585b7e}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div.form-group[_ngcontent-%COMP%] > input[type=file][_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   button.primary-btn[_ngcontent-%COMP%]{width:100%;padding:1.2rem 0;font-size:1.5rem;margin-bottom:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%] > div.content-container[_ngcontent-%COMP%] > section.bottom-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   button.primary-btn.disabled[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%] > div.screen-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;pointer-events:none}[_nghost-%COMP%] > div.screen-overlay.visible[_ngcontent-%COMP%]{pointer-events:auto}[_nghost-%COMP%] > div.screen-overlay.visible[_ngcontent-%COMP%] > div.dark-box[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%] > div.screen-overlay.visible[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%] > div.screen-overlay[_ngcontent-%COMP%] > div.dark-box[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;background-color:#000;opacity:0;transition:opacity .25s ease-in-out}[_nghost-%COMP%] > div.screen-overlay[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px;height:100px;opacity:0;transition:opacity .25s ease-in-out}"]}),ak)},{path:"success",component:Ro},{path:"failure",component:No},{path:"**",redirectTo:"/"}],xk=((ck=function t(){_classCallCheck(this,t)}).\u0275mod=r.Gb({type:ck}),ck.\u0275inj=r.Fb({factory:function(t){return new(t||ck)},imports:[[wo.forRoot(Ok,{scrollPositionRestoration:"enabled"})],wo]}),ck),Ik=((uk=function t(e){_classCallCheck(this,t),this.title="PetAI",e.events.pipe(Qe((function(t){return t instanceof Un}))).subscribe((function(){fbq("track","PageView")}))}).\u0275fac=function(t){return new(t||uk)(r.Ib(to))},uk.\u0275cmp=r.Cb({type:uk,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:[co],styles:[""]}),uk),Pk=((sk=function t(){_classCallCheck(this,t)}).\u0275mod=r.Gb({type:sk,bootstrap:[Ik]}),sk.\u0275inj=r.Fb({factory:function(t){return new(t||sk)},providers:[ta,Tk,{provide:vk,useValue:!0}],imports:[[xt,xk,xe,Oa.a.initializeApp(i),ww,tk,Ek]]}),sk);Object(r.S)(),Et().bootstrapModule(Pk).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);